Tee.Chart.prototype.drawReflection=function(){var c=this.ctx,a=this.bounds.height;c.scale(1,-1);c.translate(0,2*-a);this.ondraw=null;this.draw();c.translate(0,2*a);c.scale(1,-1);var f=this.canvas.height-a,d=c.createLinearGradient(0,a,0,a+f),b=this.reflectionColor;d.addColorStop(0,colorAlpha(b,0.5));d.addColorStop(1,colorAlpha(b,1));c.fillStyle=d;c.beginPath();c.shadowColor="transparent";c.rect(0,a,this.bounds.width,f);c.fill();this.ondraw=this.drawReflection};
function colorAlpha(c,a){return"rgba( "+c[0]+", "+c[1]+", "+c[2]+", "+a+" )"}
function drawSpline(c,a,f,d,b){function e(b,h,a,c,g,e,d){var f=Math.sqrt((a-b)*(a-b)+(c-h)*(c-h)),f=d*f/(f+Math.sqrt((g-a)*(g-a)+(e-c)*(e-c))),d=d-f;return[a+f*(b-g),c+f*(h-e),a-d*(b-g),c-d*(h-e)]}var g=[],h=a.length;if(b){d&&c.moveTo(a[0],a[1]);a.push(a[0],a[1],a[2],a[3]);a.unshift(a[h-1]);a.unshift(a[h-1]);for(b=0;b<h;b+=2)g=g.concat(e(a[b],a[b+1],a[b+2],a[b+3],a[b+4],a[b+5],f));g=g.concat(g[0],g[1]);for(b=2;b<h+2;b+=2)c.bezierCurveTo(g[2*b-2],g[2*b-1],g[2*b],g[2*b+1],a[b+2],a[b+3])}else{for(b=
0;b<h-4;b+=2)g=g.concat(e(a[b],a[b+1],a[b+2],a[b+3],a[b+4],a[b+5],f));d&&c.moveTo(a[0],a[1]);c.quadraticCurveTo(g[0],g[1],a[2],a[3]);for(b=2;b<h-5;b+=2)c.bezierCurveTo(g[2*b-2],g[2*b-1],g[2*b],g[2*b+1],a[b+2],a[b+3]);c.quadraticCurveTo(g[2*h-10],g[2*h-9],a[h-2],a[h-1])}}
function defaultTheme(c){c.title.format.font.style="18px Verdana";c.walls.visible=!0;c.panel.format.shadow.visible=!0;c.panel.format.round.x=8;c.panel.format.round.y=8;c.panel.format.gradient.visible=!0;c.panel.format.stroke.fill="black";c.axes.left.grid.visible=!0;c.axes.top.grid.visible=!0;c.axes.right.grid.visible=!0;c.axes.bottom.grid.visible=!0}
function minimalTheme(c){c.title.transparent=!0;c.walls.visible=!1;c.legend.transparent=!0;c.footer.transparent=!0;c.panel.format.shadow.visible=!1;c.panel.format.stroke.fill="";c.panel.format.round.x=0;c.panel.format.round.y=0;c.panel.format.gradient.visible=!1;c.panel.format.fill="white";c.series.each(function(a){a.notmandatory.grid.visible=!1})}
function excelTheme(c){c.palette.colors="#FF9999 #663399 #CCFFFF #FFFFCC #660066 #8080FF #CC6600 #FFCCCC #800000 #FF00FF #00FFFF #FFFF00 #800080 #000080 #808000 #FF0000 #FFCC00 #FFFFCC #CCFFCC #00FFFF #FFCC99 #CC99FF".split(" ")}Tee.Chart.prototype.applyTheme=function(c){!c||""==c?this.applyTheme("default"):"default"==c?defaultTheme(this):"minimal"==c?minimalTheme(this):"excel"==c&&excelTheme(this);this.draw()};
function makeHttpObject(){try{return new XMLHttpRequest}catch(c){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(a){}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(f){}throw Error("Could not create HTTP request object.");}function doHttpRequest(c,a,f,d){var b=makeHttpObject();b&&(b.onreadystatechange=function(){4==b.readyState&&(200==b.status?f(c,b.responseText):d&&d(b.status,b.statusText))},b.open("GET",a,!0),b.send(null))}
Tee.Slider=function(c,a){function f(b,a){return a.x>=b.x&&a.x<=b.x+b.width&&a.y>=b.y&&a.y<=b.y+b.height}Tee.Tool.call(this,c);var d=this.thumb=new Tee.Format(c);d.round={x:4,y:4};d.stroke.size=0.5;d.gradient.visible=!0;d.gradient.direction="bottomtop";d.shadow.visible=!0;d=this.back=new Tee.Format(c);d.fill="white";d.gradient.visible=!0;d.stroke.fill="darkgrey";d.round={x:4,y:4};d=this.grip=new Tee.Format(c);d.round={x:4,y:4};d.stroke.fill="rgb(20,20,20)";this.gripSize=3;var b=this.bounds={x:10,y:10,
width:200,height:20};this.transparent=!1;this.margin=16;this.min=0;this.max=100;this.position="undefined"==typeof a?50:a;this.useRange=!1;this.thumbSize=8;this.horizontal=!0;this.cursor="pointer";this.delta=0;this.thumbRect=function(h){var a=(this.position-this.min)/(this.max-this.min);this.horizontal?(h.width=this.thumbSize,h.x=b.x+a*b.width-0.5*h.width,h.y=b.y,h.height=b.height):(h.height=this.thumbSize,h.y=b.y+a*b.height-0.5*h.height,h.x=b.x,h.width=b.width)};var e={};this.gripRect=function(b){if(this.horizontal){var a=
0.2*b.height;return{x:b.x-this.gripSize,y:b.y+0.5*b.height-a,width:2*this.gripSize,height:2*a}}a=0.2*b.width;return{x:b.x+0.5*b.width-a,y:b.y-this.gripSize,width:2*a,height:2*this.gripSize}};this.draw=function(){if(!this.transparent){var a=this.horizontal?b.height:b.width,c=0.01*a*this.margin;this.horizontal?this.back.rectangle(b.x,b.y+c,b.width,a-2*c):this.back.rectangle(b.x+c,b.y,a-2*c,b.height)}if(this.onDrawThumb)this.onDrawThumb(this);this.thumbRect(e);this.invertThumb?(a=this.thumb,this.horizontal?
(a.rectangle(b.x,b.y+c,e.x,b.height-2*c),a.rectangle(b.x+e.x+e.width,b.y+c,b.width,b.height-2*c)):(a.rectangle(b.x+c,b.y,b.width-2*c,e.y),a.rectangle(b.x+c,b.y+e.y+e.height,b.width-2*c,b.height))):this.thumb.rectangle(e);this.useRange&&this.horizontal&&(c=this.gripRect(e),this.grip.rectangle(c),c.x+=e.width,this.grip.rectangle(c))};this.mousemove=function(a){var c=this.horizontal?b.width:b.height,g=this.horizontal?a.x:a.y,d=this.max-this.min;this.thumbRect(e);if(this.resizeBegin&&g<e.x+e.width){a=
this.thumbSize;g=e.x-g;this.thumbSize+=g;this.position-=0.5*(g*d/c);this.position<this.min&&(this.position=this.min,this.thumbSize=a);if(this.onChanging)this.onChanging(this,this.position);this.chart.draw()}else if(this.resizeEnd){g=e.x+e.width-g;this.thumbSize-=g;this.position-=0.5*(g*d/c);if(this.onChanging)this.onChanging(this,this.position);this.chart.draw()}else this.dragging?(a=this.min+Math.max(0,(g+this.delta-(this.horizontal?b.x:b.y))*d/c),a>this.max&&(a=this.max),this.onChanging&&(a=this.onChanging(this,
a)),a<this.min?a=this.min:a>this.max&&(a=this.max),this.chart.newCursor=this.cursor,this.position!=a&&(this.position=a,this.chart.draw())):(c=!1,this.useRange&&(d=this.gripRect(e),c=f(d,a),c||(d.x+=e.width,c=f(d,a))),c?this.chart.newCursor="col-resize":f(e,a)&&(this.chart.newCursor=this.cursor))};var g={x:0,y:0};this.mousedown=function(a){this.thumbRect(e);this.chart.calcMouse(a,g);a=this.gripRect(e);this.resizeBegin=this.useRange&&f(a,g);a.x+=e.width;this.resizeEnd=this.useRange&&!this.resizeBegin&&
f(a,g);if(this.dragging=!this.resizeBegin&&!this.resizeEnd&&f(e,g))this.delta=this.horizontal?e.x+0.5*e.width-g.x:e.y+0.5*e.height-g.y;return this.dragging||this.resizeBegin||this.resizeEnd};this.clicked=function(){var a=this.dragging||this.resizeBegin||this.resizeEnd;this.resizeBegin=this.resizeEnd=this.dragging=!1;this.delta=0;return a}};Tee.Slider.prototype=new Tee.Tool;
Tee.Scroller=function(c,a){Tee.Chart.call(this,c);this.target=a;this.aspect.clip=!1;this.panel.transparent=!0;this.title.visible=!1;var f=this.scroller=new Tee.Slider(this);f.useRange=!0;f.thumbSize=100;var d=f.thumb;d.shadow.height=0;d.transparency=0.6;d.stroke.fill="black";d.shadow.visible=!1;f.horizontal=!0;var b=f.bounds;b.x=0;b.y=0;b.width=this.bounds.width;b.height=this.bounds.height;f.margin=0;f.lock=!1;this.tools.add(f);var e=this;a.ondraw=function(){f.lock||e.draw()};a.onscroll=function(){var a=
this.axes.bottom,b=this.series,c=b.minXValue(),b=b.maxXValue(),d=a.maximum-a.minimum;a.minimum<c&&(a.minimum=c,a.maximum=a.minimum+d);a.maximum>b&&(a.maximum=b,a.minimum=a.maximum-d)};this.useRange=function(a){f.useRange=a;this.draw()};this.invertThumb=function(a){f.invertThumb=a;this.draw()};f.onChanging=function(b,c){var d=0.5*(b.thumbSize*(b.max-b.min)/b.bounds.width),f=a.series,m=f.minXValue(),f=f.maxXValue();c-d<m?c=m+d:c+d>f&&(c=f-d);a.axes.bottom.setMinMax(c-d,c+d);this.lock=!0;a.draw();this.lock=
!1;if(e.onChanging)e.onChanging(e,c-d,c+d);return c};this.setBounds=function(a,c,d,e){this.bounds.x=a;this.bounds.y=c;this.bounds.width=d;this.bounds.height=e;b.x=a;b.y=c;b.width=d;b.height=e};f.onDrawThumb=function(b){function c(a,b){var e={mi:a.minimum,ma:a.maximum,sp:a.startPos,ep:a.endPos};d(a,b);return e}function d(a,b){a.minimum=b.mi;a.maximum=b.ma;a.startPos=b.sp;a.endPos=b.ep;a.scale=(b.ep-b.sp)/(b.ma-b.mi)}var n=a.chartRect,m=a.ctx;a.chartRect=f.bounds;a.ctx=f.chart.ctx;var j=f.bounds,i=
a.series,k;b.min=i.minXValue();b.max=i.maxXValue();k=c(a.axes.bottom,{sp:j.x,ep:j.x+j.width,mi:b.min,ma:b.max});var j=c(a.axes.left,{sp:j.y,ep:j.y+j.height,mi:i.minYValue(),ma:i.maxYValue()}),i=0.5*(k.mi+k.ma),l=k.ma-k.mi;if(b.position!=i){b.thumbSize=l*b.bounds.width/(b.max-b.min);l*=0.5;if(e.onChanging)e.onChanging(e,i-l,i+l);b.position=i}a.series.each(function(a){a.visible&&a.useAxes&&a.draw()});d(a.axes.bottom,k);d(a.axes.left,j);a.chartRect=n;a.ctx=m}};Tee.Scroller.prototype=new Tee.Chart;
Tee.SliderControl=function(c){c=new Tee.Chart(c);c.panel.transparent=!0;c.title.visible=!1;var a=new Tee.Slider(c);a.bounds.width=c.canvas.width-2*a.thumbSize;a.bounds.y=0.5*(c.canvas.height-a.bounds.height);c.tools.add(a);return a};
Tee.CheckBox=function(c,a,f){Tee.Annotation.call(this,c);this.transparent=!0;this.text=a;this.checked=f||!0;this.margins.left=10;this.cursor="pointer";this.check=new Tee.Format(c);this.check.fill="white";this.draw=function(){Tee.Annotation.prototype.draw.call(this);var a=this.chart.ctx,b=this.position.x+2,a=0.6*this.bounds.height,c=this.position.y+0.4*(this.bounds.height-a);this.check.rectangle(b,c,a,a);this.checked&&(a=this.chart.ctx,a.beginPath(),a.moveTo(b+3,c+5),a.lineTo(b+4,c+8),a.lineTo(b+7,
c+2),this.check.stroke.prepare(),a.stroke())};this.onclick=function(){this.checked=!this.checked;if(this.onchange)this.onchange(this);return!0}};Tee.CheckBox.prototype=new Tee.Annotation;
