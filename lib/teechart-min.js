/*
 TeeChart(tm) for JavaScript(tm)
 @fileOverview TeeChart for JavaScript(tm)
 v3.00 Apr 2023
 Copyright(c) 2012-2023 by Steema Software SL. All Rights Reserved.
 http://www.steema.com

 Licensed with commercial and non-commercial attributes,
 specifically: http://www.steema.com/licensing/html5

 JavaScript is a trademark of Oracle Corporation.
*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(g){var m=0;return function(){return m<g.length?{done:!1,value:g[m++]}:{done:!0}}};$jscomp.arrayIterator=function(g){return{next:$jscomp.arrayIteratorImpl(g)}};$jscomp.makeIterator=function(g){var m="undefined"!=typeof Symbol&&Symbol.iterator&&g[Symbol.iterator];return m?m.call(g):$jscomp.arrayIterator(g)};
$jscomp.getGlobal=function(g){g=["object"==typeof globalThis&&globalThis,g,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var m=0;m<g.length;++m){var n=g[m];if(n&&n.Math==Math)return n}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(g,m,n){if(g==Array.prototype||g==Object.prototype)return g;g[m]=n.value;return g};$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");
var $jscomp$lookupPolyfilledValue=function(g,m){var n=$jscomp.propertyToPolyfillSymbol[m];if(null==n)return g[m];n=g[n];return void 0!==n?n:g[m]};$jscomp.polyfill=function(g,m,n,q){m&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(g,m,n,q):$jscomp.polyfillUnisolated(g,m,n,q))};
$jscomp.polyfillUnisolated=function(g,m,n,q){n=$jscomp.global;g=g.split(".");for(q=0;q<g.length-1;q++){var r=g[q];r in n||(n[r]={});n=n[r]}g=g[g.length-1];q=n[g];m=m(q);m!=q&&null!=m&&$jscomp.defineProperty(n,g,{configurable:!0,writable:!0,value:m})};
$jscomp.polyfillIsolated=function(g,m,n,q){var r=g.split(".");g=1===r.length;q=r[0];q=!g&&q in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var u=0;u<r.length-1;u++){var A=r[u];A in q||(q[A]={});q=q[A]}r=r[r.length-1];n=$jscomp.IS_SYMBOL_NATIVE&&"es6"===n?q[r]:null;m=m(n);null!=m&&(g?$jscomp.defineProperty($jscomp.polyfills,r,{configurable:!0,writable:!0,value:m}):m!==n&&($jscomp.propertyToPolyfillSymbol[r]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(r):$jscomp.POLYFILL_PREFIX+r,r=$jscomp.propertyToPolyfillSymbol[r],
$jscomp.defineProperty(q,r,{configurable:!0,writable:!0,value:m})))};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(g){function m(){this.batch_=null}function n(g){return g instanceof r?g:new r(function(m,n){m(g)})}if(g&&!$jscomp.FORCE_POLYFILL_PROMISE)return g;m.prototype.asyncExecute=function(g){if(null==this.batch_){this.batch_=[];var m=this;this.asyncExecuteFunction(function(){m.executeBatch_()})}this.batch_.push(g)};var q=$jscomp.global.setTimeout;m.prototype.asyncExecuteFunction=function(g){q(g,0)};m.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var g=
this.batch_;this.batch_=[];for(var m=0;m<g.length;++m){var n=g[m];g[m]=null;try{n()}catch(D){this.asyncThrow_(D)}}}this.batch_=null};m.prototype.asyncThrow_=function(g){this.asyncExecuteFunction(function(){throw g;})};var r=function(g){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var m=this.createResolveAndReject_();try{g(m.resolve,m.reject)}catch(F){m.reject(F)}};r.prototype.createResolveAndReject_=function(){function g(g){return function(r){n||(n=!0,g.call(m,r))}}var m=this,n=!1;
return{resolve:g(this.resolveTo_),reject:g(this.reject_)}};r.prototype.resolveTo_=function(g){if(g===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(g instanceof r)this.settleSameAsPromise_(g);else{a:switch(typeof g){case "object":var m=null!=g;break a;case "function":m=!0;break a;default:m=!1}m?this.resolveToNonPromiseObj_(g):this.fulfill_(g)}};r.prototype.resolveToNonPromiseObj_=function(g){var m=void 0;try{m=g.then}catch(F){this.reject_(F);return}"function"==typeof m?
this.settleSameAsThenable_(m,g):this.fulfill_(g)};r.prototype.reject_=function(g){this.settle_(2,g)};r.prototype.fulfill_=function(g){this.settle_(1,g)};r.prototype.settle_=function(g,m){if(0!=this.state_)throw Error("Cannot settle("+g+", "+m+"): Promise already settled in state"+this.state_);this.state_=g;this.result_=m;this.executeOnSettledCallbacks_()};r.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var g=0;g<this.onSettledCallbacks_.length;++g)u.asyncExecute(this.onSettledCallbacks_[g]);
this.onSettledCallbacks_=null}};var u=new m;r.prototype.settleSameAsPromise_=function(g){var m=this.createResolveAndReject_();g.callWhenSettled_(m.resolve,m.reject)};r.prototype.settleSameAsThenable_=function(g,m){var n=this.createResolveAndReject_();try{g.call(m,n.resolve,n.reject)}catch(D){n.reject(D)}};r.prototype.then=function(g,m){function n(g,m){return"function"==typeof g?function(m){try{q(g(m))}catch(M){u(M)}}:m}var q,u,A=new r(function(g,m){q=g;u=m});this.callWhenSettled_(n(g,q),n(m,u));return A};
r.prototype.catch=function(g){return this.then(void 0,g)};r.prototype.callWhenSettled_=function(g,m){function n(){switch(r.state_){case 1:g(r.result_);break;case 2:m(r.result_);break;default:throw Error("Unexpected state: "+r.state_);}}var r=this;null==this.onSettledCallbacks_?u.asyncExecute(n):this.onSettledCallbacks_.push(n)};r.resolve=n;r.reject=function(g){return new r(function(m,n){n(g)})};r.race=function(g){return new r(function(m,r){for(var q=$jscomp.makeIterator(g),u=q.next();!u.done;u=q.next())n(u.value).callWhenSettled_(m,
r)})};r.all=function(g){var m=$jscomp.makeIterator(g),q=m.next();return q.done?n([]):new r(function(g,r){function u(m){return function(n){A[m]=n;F--;0==F&&g(A)}}var A=[],F=0;do A.push(void 0),F++,n(q.value).callWhenSettled_(u(A.length-1),r),q=m.next();while(!q.done)})};return r},"es6","es3");$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};
$jscomp.SymbolClass=function(g,m){this.$jscomp$symbol$id_=g;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:m})};$jscomp.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_};$jscomp.Symbol=function(){function g(n){if(this instanceof g)throw new TypeError("Symbol is not a constructor");return new $jscomp.SymbolClass($jscomp.SYMBOL_PREFIX+(n||"")+"_"+m++,n)}var m=0;return g}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var g=$jscomp.global.Symbol.iterator;g||(g=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[g]&&$jscomp.defineProperty(Array.prototype,g,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var g=$jscomp.global.Symbol.asyncIterator;g||(g=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("Symbol.asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(g){$jscomp.initSymbolIterator();g={next:g};g[$jscomp.global.Symbol.iterator]=function(){return this};return g};$jscomp.underscoreProtoCanBeSet=function(){var g={a:!0},m={};try{return m.__proto__=g,m.a}catch(n){}return!1};
$jscomp.setPrototypeOf="function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(g,m){g.__proto__=m;if(g.__proto__!==m)throw new TypeError(g+" is not extensible");return g}:null;$jscomp.generator={};$jscomp.generator.ensureIteratorResultIsObject_=function(g){if(!(g instanceof Object))throw new TypeError("Iterator result "+g+" is not an object");};
$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};
$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(g){this.yieldResult=g};$jscomp.generator.Context.prototype.throw_=function(g){this.abruptCompletion_={exception:g,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype.return=function(g){this.abruptCompletion_={return:g};this.nextAddress=this.finallyAddress_};
$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(g){this.abruptCompletion_={jumpTo:g};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(g,m){this.nextAddress=m;return{value:g}};$jscomp.generator.Context.prototype.yieldAll=function(g,m){g=$jscomp.makeIterator(g);var n=g.next();$jscomp.generator.ensureIteratorResultIsObject_(n);if(n.done)this.yieldResult=n.value,this.nextAddress=m;else return this.yieldAllIterator_=g,this.yield(n.value,m)};
$jscomp.generator.Context.prototype.jumpTo=function(g){this.nextAddress=g};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(g,m){this.catchAddress_=g;void 0!=m&&(this.finallyAddress_=m)};$jscomp.generator.Context.prototype.setFinallyBlock=function(g){this.catchAddress_=0;this.finallyAddress_=g||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(g,m){this.nextAddress=g;this.catchAddress_=m||0};
$jscomp.generator.Context.prototype.enterCatchBlock=function(g){this.catchAddress_=g||0;g=this.abruptCompletion_.exception;this.abruptCompletion_=null;return g};$jscomp.generator.Context.prototype.enterFinallyBlock=function(g,m,n){n?this.finallyContexts_[n]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=g||0;this.finallyAddress_=m||0};
$jscomp.generator.Context.prototype.leaveFinallyBlock=function(g,m){m=this.finallyContexts_.splice(m||0)[0];if(m=this.abruptCompletion_=this.abruptCompletion_||m){if(m.isException)return this.jumpToErrorHandler_();void 0!=m.jumpTo&&this.finallyAddress_<m.jumpTo?(this.nextAddress=m.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=g};$jscomp.generator.Context.prototype.forIn=function(g){return new $jscomp.generator.Context.PropertyIterator(g)};
$jscomp.generator.Context.PropertyIterator=function(g){this.object_=g;this.properties_=[];for(var m in g)this.properties_.push(m);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var g=this.properties_.pop();if(g in this.object_)return g}return null};$jscomp.generator.Engine_=function(g){this.context_=new $jscomp.generator.Context;this.program_=g};
$jscomp.generator.Engine_.prototype.next_=function(g){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,g,this.context_.next_);this.context_.next_(g);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.return_=function(g){this.context_.start_();var m=this.context_.yieldAllIterator_;if(m)return this.yieldAllStep_("return"in m?m["return"]:function(g){return{value:g,done:!0}},g,this.context_.return);this.context_.return(g);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.throw_=function(g){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],g,this.context_.next_);this.context_.throw_(g);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.yieldAllStep_=function(g,m,n){try{var q=g.call(this.context_.yieldAllIterator_,m);$jscomp.generator.ensureIteratorResultIsObject_(q);if(!q.done)return this.context_.stop_(),q;var r=q.value}catch(u){return this.context_.yieldAllIterator_=null,this.context_.throw_(u),this.nextStep_()}this.context_.yieldAllIterator_=null;n.call(this.context_,r);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var g=this.program_(this.context_);if(g)return this.context_.stop_(),{value:g.value,done:!1}}catch(m){this.context_.yieldResult=void 0,this.context_.throw_(m)}this.context_.stop_();if(this.context_.abruptCompletion_){g=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(g.isException)throw g.exception;return{value:g.return,done:!0}}return{value:void 0,done:!0}};
$jscomp.generator.Generator_=function(g){this.next=function(m){return g.next_(m)};this.throw=function(m){return g.throw_(m)};this.return=function(m){return g.return_(m)};$jscomp.initSymbolIterator();this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(g,m){m=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(m));$jscomp.setPrototypeOf&&$jscomp.setPrototypeOf(m,g.prototype);return m};
$jscomp.asyncExecutePromiseGenerator=function(g){function m(m){return g.next(m)}function n(m){return g.throw(m)}return new Promise(function(q,r){function u(g){g.done?q(g.value):Promise.resolve(g.value).then(m,n).then(u,r)}u(g.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(g){return $jscomp.asyncExecutePromiseGenerator(g())};$jscomp.asyncExecutePromiseGeneratorProgram=function(g){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(g)))};
$jscomp.polyfill("Array.prototype.fill",function(g){return g?g:function(g,n,q){var m=this.length||0;0>n&&(n=Math.max(0,m+n));if(null==q||q>m)q=m;q=Number(q);0>q&&(q=Math.max(0,m+q));for(n=Number(n||0);n<q;n++)this[n]=g;return this}},"es6","es3");
$jscomp.iteratorFromArray=function(g,m){$jscomp.initSymbolIterator();g instanceof String&&(g+="");var n=0,q={next:function(){if(n<g.length){var r=n++;return{value:m(r,g[r]),done:!1}}q.next=function(){return{done:!0,value:void 0}};return q.next()}};q[Symbol.iterator]=function(){return q};return q};$jscomp.polyfill("Array.prototype.values",function(g){return g?g:function(){return $jscomp.iteratorFromArray(this,function(g,n){return n})}},"es8","es3");
$jscomp.checkStringArgs=function(g,m,n){if(null==g)throw new TypeError("The 'this' value for String.prototype."+n+" must not be null or undefined");if(m instanceof RegExp)throw new TypeError("First argument to String.prototype."+n+" must not be a regular expression");return g+""};
$jscomp.polyfill("String.prototype.repeat",function(g){return g?g:function(g){var m=$jscomp.checkStringArgs(this,null,"repeat");if(0>g||1342177279<g)throw new RangeError("Invalid count value");g|=0;for(var q="";g;)if(g&1&&(q+=m),g>>>=1)m+=m;return q}},"es6","es3");$jscomp.findInternal=function(g,m,n){g instanceof String&&(g=String(g));for(var q=g.length,r=0;r<q;r++){var u=g[r];if(m.call(n,u,r,g))return{i:r,v:u}}return{i:-1,v:void 0}};
$jscomp.polyfill("Array.prototype.findIndex",function(g){return g?g:function(g,n){return $jscomp.findInternal(this,g,n).i}},"es6","es3");var Tee=Tee||{};
(function(){function g(b,c){return new Tee.Point(b,c)}function m(b,c,a,e){function d(){if(a.x==c.x&&a.y==c.y){var d=b.x-c.x;var e=b.y-c.y}else{d=a.x-c.x;e=a.y-c.y;var h=((b.x-c.x)*d+(b.y-c.y)*e)/(d*d+e*e);0>h?(d=b.x-c.x,e=b.y-c.y):1<h?(d=b.x-a.x,e=b.y-a.y):(d=b.x-(c.x+h*d),e=b.y-(c.y+h*e))}return Math.sqrt(d*d+e*e)}return b.x==c.x&&b.y==c.y||b.x==a.x&&b.y==a.y?!0:Math.abs(d())<=e+1}function n(b,c,a,e){return new Tee.Rectangle(b,c,a,e)}function q(){this.left=this.right=this.top=this.bottom=2;this.apply=
function(b){var c=b.width,a=b.height;b.x+=c*this.left*.01;b.width-=c*Math.min(100,this.left+this.right)*.01;b.y+=a*this.top*.01;b.height-=a*Math.min(100,this.top+this.bottom)*.01}}function r(b,c,a){this.format=a;this.bounds=c;var e=this;c=a.shadow;this.old=new A;this.old.set(c);c.visible=!0;c.color="rgba(0,255,0,0.1)";c.blur=10;c.width=0;c.height=0;this.enabled=!0;a=new Tee.Animation(a.chart,function(a){e.enabled&&(1>a?e.format.shadow.color="rgba(0,255,0,"+a.toString()+")":e.autoHide&&e.restore())});
a.duration=b;a.animate();this.restore=function(){this.format.shadow.set(this.old);this.enabled=!1}}function u(b){this.chart=b;this.visible=!1;this.colors=["white","silver"];this.direction="topbottom";this.stops=null;this.offset={x:0,y:0};this.create=function(c,a){return this.rect(c.x,c.y,c.width,c.height,a)};this.rect=function(c,a,b,d,f){var e=this.chart.ctx,h=e.createLinearGradient;"topbottom"==this.direction?b=h.call(e,c,a,c,a+d):"bottomtop"==this.direction?b=h.call(e,c,a+d,c,a):"leftright"==this.direction?
b=h.call(e,c,a,c+b,a):"rightleft"==this.direction?b=h.call(e,c+b,a,c,a):"radial"==this.direction?(c=c+.5*b+this.offset.x,a=a+.5*d+this.offset.y,b=e.createRadialGradient(c,a,0,c,a,Math.max(b,d))):b="diagonalup"==this.direction?h.call(e,c,a+d,c+b,a):h.call(e,c,a,c+b,a+d);f&&this.setEndColor(f);d=this.colors;e=d.length;c=(a=this.stops)?a.length:0;if(1<e)for(f=0;f<e;f++)b.addColorStop(c<=f?f/(e-1):a[f],d[f]);else b.addColorStop(0,0<e?d[0]:"white");return b}}function A(b){this.chart=b;this.visible=!1;
this.blur=4;this.color="rgba(80,80,80,0.75)";this.height=this.width=4;this.prepare=function(c){this.visible?(c.shadowBlur=this.blur,c.shadowColor=this.color,c.shadowOffsetX=this.width,c.shadowOffsetY=this.chart.isAndroid?-this.height:this.height):c.shadowColor="transparent"}}function V(b){this.url="";this.repeat="no-repeat";this.backFill=!1;this.chart=b;this.visible=!0;this.tryDraw=function(c,a,e,d){this.image||(this.image=new Image,this.image.onload=function(){b.draw()});if(""===this.image.src)b=
this.chart,this.image.src=this.url;else if(b.ctx.drawImage)if("repeat"==this.repeat){var f=b.ctx.createPattern(this.image,"repeat");b.ctx.fillStyle=f;b.ctx.fillRect(c,a,e,d)}else b.ctx.drawImage(this.image,c,a,e,d)}}function F(b){this.chart=b;this.fill="black";this.size=1;this.join="round";this.cap="square";this._g=this.dash=null;H?H(this,"gradient",{get:function(){this._g||(this._g=new u(this.chart));return this._g}}):this._g=this.gradient=new u(b);this.prepare=function(c,a){a=a||this.chart.ctx;
var b=this._g;a.strokeStyle=b&&b.visible?b.create(this.chart.bounds):c?c:this.fill;a.lineWidth=this.size;a.lineJoin=this.join;a.lineCap=this.cap;a.shadowColor="transparent";a.setLineDash?a.setLineDash(this.dash||[]):a.mozCurrentTransform?a.mozDash=this.dash:this.chart.isChrome&&(a.webkitLineDash=this.dash)};this.setChart=function(c){this.chart=c;this._g&&(this._g.chart=c)}}function D(b){this.chart=b;this.style="11px Tahoma";this._g=null;H?H(this,"gradient",{get:function(){this._g||(this._g=new u(this.chart));
return this._g}}):this._g=this.gradient=new u(b);this.fill="black";this._sh=null;H?H(this,"shadow",{get:function(){this._sh||(this._sh=new A(this.chart));return this._sh}}):this._sh=this.shadow=new A(b);this._s=null;H?H(this,"stroke",{get:function(){this._s||(this._s=new F(this.chart),this._s.fill="");return this._s}}):(this._s=this.stroke=new F(b),this._s.fill="");this.textAlign="center";this.baseLine="alphabetic"}function X(b){this.chart=b;this.items=[];this.draw=function(){for(var c=0,a;a=this.items[c++];)a.active&&
(a instanceof Tee.ToolTip?void 0!=a.currP&&a.realTime?a.mousemove(a.currP):a.draw():a.draw())};this.mousemove=function(c){for(var a=0,b;b=this.items[a++];)b.active&&(b.currP=void 0,b.mousemove(c))};this.mousedown=function(c){for(var a=0,b,d=!1;b=this.items[a++];)b.active&&b.mousedown(c)&&(d=!0);return d};this.mouseout=function(){for(var c=0,a;a=this.items[c++];)a.active&&a.mouseout()};this.clicked=function(c){for(var a=this.items.length,b,d=!1;b=this.items[--a];)b.active&&b.clicked(c)&&(d=!0,b.onclick&&
(d=b.onclick(b,c.x,c.y)));return d};this.add=function(b){this.items.push(b);return b}}function aa(b){function c(a){var d=a.chart.chartRect,b=a.direction,c="both"===b;e.set(d.x,d.y,d.width,d.height);if(a.old){if(c||"horizontal"===b)0>a.old.x?(e.x=a.chart.oldPos.x+a.old.x,e.width=-a.old.x):(e.x=a.chart.oldPos.x,e.width=a.old.x);if(c||"vertical"===b)0>a.old.y?(e.y=a.chart.oldPos.y+a.old.y,e.height=-a.old.y):(e.y=a.chart.oldPos.y,e.height=a.old.y)}return e}this.chart=b;this.active=!1;this.enabled=!0;
this.touching=this.done=!1;this.direction="both";this.keepAspect=!1;this.mouseButton=0;this.wheel={enabled:!1,factor:1};var a=this.format=new Tee.Format(b);a.fill="rgba(255,255,255,0.5)";a.stroke.fill="darkgray";a.stroke.size=2;var e=new n;this.change=function(a){this.old||(this.old=new g);var d=this.chart.oldPos;this.old.x=a.x-d.x;this.keepAspect?(a=this.chart.chartRect,this.old.y=a.height/a.width*this.old.x):this.old.y=a.y-d.y};this.draw=function(){a.rectangle(c(this))};this.apply=function(){if(0>
this.old.x||0>this.old.y){if(this.reset(),this.onreset)this.onreset()}else if(c(this),3<e.width&&3<e.height){var a=this.direction,b="both"===a;this.chart.axes.each(function(){this.horizontal?(b||"horizontal"===a)&&this.calcMinMax(e.x,e.x+e.width):(b||"vertical"===a)&&this.calcMinMax(e.y+e.height,e.y)});return!0}return!1};this.reset=function(){this.chart.axes.each(function(){this.automatic=!0})}}function Y(b){this.chart=b;this.active=!1;this.enabled=!0;this.done=!1;this.mouseButton=2;this.direction=
"both";this.position=new g(0,0)}function Q(b,c){Tee.Annotation.call(this,b);this.transparent=!0;this._expand=!1;H?H(this,"expand",{get:function(){return this._expand},set:function(a){this._expand=a;this._expand||(a=this.format,a.round.x=8,a.round.y=8,a.round.corners=null,a.stroke.fill="black")}}):this._expand=this.expand=!1;var a=this.format.font,e=a.shadow,d=this.position;e.visible=!0;e.width=2;e.height=2;e.blur=8;a.style="18px Tahoma";a.fill=c;this.padding=4;this.calcRect=function(a){this.resize();
var c=this.bounds,f=c.height+(this.transparent?1:2)*this.padding,e=b.chartRect;a?(d.y=e.y,e.automatic&&e.setTop(e.y+f)):(d.y=e.y+e.height-c.height-this.padding,e.automatic&&(e.height-=f));0>e.height&&(e.height=0);d.x=.5*(b.canvas.width-c.width)};this.tryDraw=function(a){if(this.shouldDraw()){this.calcRect(a);var c=this.bounds,f=this.chart.ctx,e=f.beginParent;this.visual=e?f.beginParent():null;if(this._expand){var l=b.panel.format;d.x=""!==l.stroke.fill?l.stroke.size:0;d.y=a?d.x:b.canvas.height-(l.shadow.visible?
l.shadow.height:0)-d.x-c.height;c.width=b.canvas.width-(l.shadow.visible?l.shadow.width:0)-2*d.x;var p=this.format;p.round.x=l.round.x;p.round.y=l.round.y;p.round.corners=[a,a,!a,!a];p.stroke.fill="";this.transparent=!1}c.x=d.x;c.y=d.y;this.doDraw();e&&f.endParent()}}}function Z(b){var c=this.format=new Tee.Format(b);c.round.x=12;c.round.y=12;c.stroke.size=3;c.gradient.visible=!0;c.gradient.direction="bottomtop";c.shadow.visible=!0;c.stroke.fill="#606060";this.transparent=!!b.__webgl;this.margins=
new q;this.clear=function(){var a=b.bounds;b.ctx.clearRect(a.x,a.y,a.width,a.height)};this.draw=function(){if(this.transparent||b.__webgl)this.clear();else{var a=b.chartRect,e=c.shadow;e.visible&&(a.width-=.5*Math.abs(e.width)+2,a.height-=.5*Math.abs(e.height)+2,0>e.width&&(a.x-=e.width),0>e.height&&(a.y-=e.height));var d=0;""!==c.stroke.fill&&(d=c.stroke.size,1<d&&(d*=.5,a.x+=d,a.y+=d,a.width-=2*d,a.height-=2*d));(e.visible||0<c.round.x||0<c.round.y)&&this.clear();c.rectangle(a);0<d&&(a.x+=d,a.y+=
d,a.width-=2*d,a.height-=2*d)}}}function M(b){var c=this.format=new Tee.Format(b);c.fill="#E6E6E6";c.stroke.fill="black";c.z=0;c.depth=0;this.visible=!0;this.bounds=new n;this.size=0;this.draw=function(){c.cube(this.bounds);c.draw(b.ctx,null,this.bounds)}}function y(b,c,a){function e(a){this.chart=a;this.stroke=new F(a);this.stroke.cap="butt";this.visible=!0;this.length=4}function d(a){Tee.Annotation.call(this,a);this.padding=4;this.transparent=!0;this.rotation=0;this.format.font.textAlign="center";
this.drawIt=function(d,b,c,f){this.format.font.textAlign=d;0===f?(this.position.x=b,this.position.y=c,this.forceDraw()):(d=a.ctx,d.save(),d.translate(b,c),d.rotate(-f*Math.PI/180),this.position.x=0,this.position.y=0,this.forceDraw(),d.restore())}}function f(a,d){var l=0,b=d.split(" "),c;for(c=0;c<b.length;c++)d=a.textWidth(b[c]),d>l&&(l=d);return l}function k(a){return isFinite(a)?10<=a?10*k(.1*a):1>a?.1*k(10*a):2>a?2:5>a?5:10:1}this.chart=b;this.visible=!0;this.inverted=!1;this.horizontal=c;this.otherSide=
a;this.bounds=new n;this.position=0;this.format=new Tee.Format(b);this.format.stroke.size=2;this.format.depth=.2;this.custom=!1;this.z=a?1:0;this.maxLabelDepth=0;this.labels=new function(a,d){this.chart=a;this.format=new Tee.Format(a);this.decimals=2;this.fixedDecimals=!1;this.padding=4;this.separation=10;this.visible=!0;this.rotation=0;this.alternate=!1;this.maxWidth=0;this.wordWrap="no";this.roundFirst=!0;this.labelStyle="auto";this.dateFormat="shortDate";this.checkStyle=function(){var a=this.labelStyle,
l=d.firstSeries;this._textlabels=this._text=null;if("auto"==a)0<l.data.labels.length&&l.associatedToAxis(d)&&d.horizontal==l.notmandatory.horizontal&&(this._text=l);else if("mark"==a||"text"==a)this._text=l};this.formatValueString=function(a){if(this.valueFormat){var d=Number("1.2").toLocaleString().substr(1,1);a=(1*a).toLocaleString();var l=String(a).split(d);a=l[0];var b="";if(0<this.decimals)for(var c=0;c<this.decimals;c++)b+="0";l=1<l.length?l[1]:"";l=(l+b).substr(0,this.decimals);return 0<l.length?
a+d+l:a}return a.toFixed(this.decimals)};this.getLabel=function(l){var b=l|0;if(this._text&&b==l){var c=this._text.data;c.x&&(b=c.x.indexOf(b));var f=a.series.items,e,k;c=0<f.length&&f[0]instanceof Tee.Bar&&"sideAll"==f[0].stacked?c.labels[l]:c.labels[b];if(!c){for(e=0;(k=f[e++])&&!(k!=this._text&&k.visible&&k.associatedToAxis(d)&&(c=k.data.labels[b])););void 0===c&&(c="")}}else c=d.dateTime?Date.prototype.format?(new Date(l)).format(this.dateFormat):(new Date(l)).toDateString():this.formatValueString(l);
"no"!=this.wordWrap&&0!=this.wordWrap&&(c=c.replace(/ /g,"\n"));this.ongetlabel&&(c=this.ongetlabel(l,c),this.format.font.prepare());return""+c};this.width=function(a){var d=this.fixedDecimals;this.fixedDecimals=!0;a=this.format.textWidth(this.getLabel(a));this.fixedDecimals=d;return a}}(b,this);var h=this.labels.format.font;this.scroll=function(a){this.automatic=!1;this.inverted&&(a=-a);this.minimum+=a;this.maximum+=a};c?(h.textAlign="center",h.baseLine=a?"bottom":"top"):(h.textAlign=a?"left":"right",
h.baseLine="middle");this.grid=new function(a){this.chart=a;a=this.format=new Tee.Format(a);a.stroke.fill="silver";a.stroke.cap="butt";a.fill="";this.visible=!0;this.lineDash=!1}(b);this.ticks=new e(b);this.innerTicks=new e(b);this.innerTicks.visible=!1;h=this.minorTicks=new e(b);h.visible=!1;h.length=2;h.count=3;d.prototype=new Tee.Annotation;this.title=new d(b);c||(this.title.rotation=a?270:90);this.automatic=!0;this.increment=this.maximum=this.minimum=0;this.log=!1;this.start=this.endPos=this.startPos=
0;this.end=100;this.increm=this.scale=this.axisSize=0;this.minmaxLabelWidth=function(a){var d=this.labels,c=d._text,b=0,e=this.labels;if(null!==c&&void 0!==c){var k="auto"==d.wordWrap||"yes"==d.wordWrap;e.format.font.prepare();for(var h=0,v=c.data.labels.length;h<v;h++){var g=c.data.labels[h];d.ongetlabel&&(g=d.ongetlabel(h,g));g&&(b=Math.max(b,k?f(d.format,g):d.format.textWidth(g)))}}else b=this.roundMin(),c=this.maximum,b=Math.max(d.width(b),d.width(.5*(b+c))),b=Math.max(b,d.width(1E-7)),b=Math.max(b,
d.width(c));if(0==d.rotation){if(this.horizontal&&a||!this.horizontal&&!a)b=e.format.textHeight("Wj")}else b=this.horizontal?a?Math.abs(Math.sin(Math.PI/180*d.rotation)*b):Math.abs(Math.cos(Math.PI/180*d.rotation)*b):a?Math.abs(Math.cos(Math.PI/180*d.rotation)*b):Math.abs(Math.sin(Math.PI/180*d.rotation)*b);b<e.format.textHeight("Wj")&&(b=e.format.textHeight("Wj"));return b};this.checkRange=function(){this.maximum-this.minimum<this.minAxisRange&&(this.maximum=this.minimum+this.minAxisRange)};this.checkMinMax=
function(){var a=this.chart.series,d=this.horizontal;this.automatic&&(this.minimum=d?a.minXValue(this):a.minYValue(this),this.maximum=d?a.maxXValue(this):a.maxYValue(this),this.checkRange())};this.calcAxisScale=function(){var a=this.maximum-this.minimum;0===a?a=1:this.log&&(a=Math.log(a));this.scale=this.axisSize/a};this.calcScale=function(){var a=this.labels;a.format.font.prepare();var d=this.minmaxLabelWidth(!1);a.alternate&&(d*=.5);d*=1+.02*a.separation;if(0===this.increment)if(this.maximum==this.minimum)a=
1;else{a=this.axisSize/d;b:{d=a;var b,c,f;for(b=0;c=this.chart.series.items[b++];)if(c.visible&&c.sequential&&((f=c.yMandatory)&&this.horizontal||!f&&!this.horizontal)&&c.associatedToAxis(this)&&c.count()<=d){d=!0;break b}d=!1}a=Math.abs(this.maximum-this.minimum)/(a+1);a=d?Math.max(1,a):k(a)}else a=this.increment;this.increm=a;0>=this.increm?this.increm=.1:0<this.increm&&1E-8>=this.increm&&(this.increm=1E-8)};this.hasAnySeries=function(){var a=this.chart.series.items,d,b;for(d=0;b=a[d++];)if(b.visible&&
b.associatedToAxis(this)&&(b.__alwaysDraw||0<b.count()))return a=this.horizontal,b.yMandatory&&(a=!a),this.dateTime=(a=a?b.data.values:b.data.x)&&0<a.length&&a[0]instanceof Date,b;return null};this.drawAxis=function(){var a=this.format,d=this.chart.ctx,b=this.axisPos,f=this.startPos,e=this.endPos,k=20*a.depth;this.chart.aspect.view3d&&0<k?(b=c?{x:f,y:b-.5*k,width:e-f,height:k}:{x:b-.5*k,y:f,width:k,height:e-f},f=this.z,a.z=f-.5*a.depth,a.cylinder(b,1,!c),a.draw(d,null,b),a.z=f):(d.z=this.z,d.beginPath(),
c?(d.moveTo(f,b),d.lineTo(e,b)):(d.moveTo(b,f),d.lineTo(b,e)),a.stroke.prepare(),d.stroke())};this.drawGrids=function(){var d=this.chart.ctx,b=this.chart.chartRect,f=this.grid.format,e=this.roundMin();if(this.grid.centered){var k=.5*this.increm;e=e-k>=this.minimum?e-k:e+k}k=this.chart.aspect;var h=k.view3d,g=h&&k.orthogonal,x=h?1:0;d.beginPath();if(c){var z=this.bounds.y-x;var m=a?b.getBottom()-1:b.y+1}else{var n=this.bounds.x+x;var r=a?b.x+1:b.getRight()-1}x=-1;if(""!==f.fill){b=e;var q=f.stroke.fill;
for(f.stroke.fill="";b<=this.maximum;){var u=this.calc(b);0===x%2&&(c?f.rectangle(K,m,u-K,z-m):f.rectangle(n,K,r-n,u-K));var K=u;b+=this.increm;x++}f.stroke.fill=q;d.fillStyle=""}b=e;g&&(c?(z-=k._orthoy,m-=k._orthoy):(n+=k._orthox,r+=k._orthox));e=f.stroke.dash&&!d.setLineDash&&!d.mozCurrentTransform;for(d.z=h?this.chart.walls.back.format.z-.01:0;b<=this.maximum;){x=this.calc(b);c?n=r=x:z=m=x;g&&(c?(n+=k._orthox,r+=k._orthox):(z-=k._orthoy,m-=k._orthoy));h&&!this.otherSide&&d.lineZ&&d.lineZ(n,z,0,
d.z);if(e){K=d;x=n;var B=z,I=r;q=m;u=[10,5];K.save();I-=x;var y=q-B;q=Math.sqrt(I*I+y*y);I=Math.atan2(y,I);K.translate(x,B);K.moveTo(0,0);K.rotate(I);B=u.length;I=0;y=!0;for(x=0;q>x;)x+=u[I++%B],x>q&&(x=q),y?K.lineTo(x,0):K.moveTo(x,0),y=!y;K.restore()}else d.moveTo(n,z),d.lineTo(r,m);b+=this.increm}f.stroke.prepare();f.shadow.prepare(d);d.stroke()};this.roundMin=function(){if(0!==this.increm&&this.labels.roundFirst){var a=this.minimum/this.increm;a-=a%1;return this.increm*(0>=this.minimum?a:1+a)}return this.minimum};
this.drawTicks=function(d,b,f){var l=this.roundMin(),e=1+d.length,k=1;if(c&&a||!c&&!a)e=-e,k=-1;e=e*b+this.axisPos;k=k*b+this.axisPos;var p=1,h=0;if(0===f)var v=this.increm;else p+=f,v=this.increm/p;var g=this.chart.ctx;for(g.beginPath();l<=this.maximum;){if(0===f||0!==h++%p)b=this.calc(l),c?(g.moveTo(b,k),g.lineTo(b,e)):(g.moveTo(k,b),g.lineTo(e,b));l+=v}d.stroke.prepare();d.z=this.z;g.z=d.z;g.stroke()};this.drawTitle=function(){var a=this.labels,d=this.title.bounds,b=this.title.rotation,f="center";
if(""!==this.title.text){if(c){var e=this.title.padding;this.ticks.visible&&(e+=this.ticks.length);if(a.visible){a.format.font.prepare();var k=this.maxLabelDepth;a.alternate&&(k*=2);e+=k}k=this.startPos+.5*this.axisSize;this.otherSide&&(e=-e-d.height);e=this.axisPos+e;0===b?k-=.5*d.width:(k+=d.height*(this.otherSide?-.5:.5),this.otherSide||(e+=1.5*d.height),f=this.otherSide?"near":270===b?"near":"far")}else k=this.title.padding,this.ticks.visible&&(k+=this.ticks.length),a.visible&&(e=a.maxWidth,a.alternate&&
(e*=2),k+=e),e=this.startPos+.5*this.axisSize,0===b?(k=this.axisPos+(this.otherSide?k:-k),e-=.5*d.height,f=this.otherSide?"near":"far"):(k+=d.height,k=this.axisPos+(this.otherSide?k:-k),e+=d.width*(this.otherSide?-.5:.5));this.title.drawIt(f,k,e,b)}};this.rotatedWidth=function(a,d){return Math.abs(Math.sin(Math.PI/180*a.rotation)*d)};this.drawLabel=function(a,d){var b=this.labels;a=b.getLabel(a);d.width=b.format.textWidth(a);d.width>b.maxWidth&&(b.maxWidth=d.width);if(0==b.rotation)this.horizontal?
d.x-=.5*d.width:d.y+=.5*d.height;else{var c=this.chart.ctx;c.save();c.translate(d.x,d.y);c.rotate(-Math.PI*b.rotation/180);c.textAlign="right";if(this.horizontal){c=.5*this.rotatedWidth(b,d.width);var f=.5*this.rotatedWidth(b,d.height)-4;220<=b.rotation?this.otherSide?d.x=-1*c:d.x=c:this.otherSide?d.x=c+4:d.x=-1*c;this.otherSide?d.y=f:d.y=-1*f}else c=this.rotatedWidth(b,d.width),this.otherSide?d.x=c:d.x=30,d.y=-8}"right"==b.format.font.textAlign&&(d.x-=d.width);b.format.z=this.z*this.chart.walls.back.format.z;
b.format.drawText(d,a);0!==b.rotation&&this.chart.ctx.restore()};this.drawLabels=function(){var a=this.roundMin(),d=new n,b=this.axisPos,c=this.labels;c.maxWidth=0;c.format.font.prepare();var f=this.ticks.visible?this.ticks.length:0;f+=c.padding;this.horizontal?this.otherSide?b-=f:b+=f:this.otherSide?b+=f:b-=f;f=b;d.height=c.format.textHeight("Wj");for(var e=(c=c.alternate)?this.horizontal?-this.minmaxLabelWidth(!0):this.minmaxLabelWidth(!0):0,k;a<=this.maximum;)k=this.calc(a),this.horizontal?(d.x=
k,d.y=b):(d.x=b,d.y=k-.5*d.height),c&&(b=b==f?this.otherSide?f+e:f-e:f),this.drawLabel(a,d),a+=this.increm};this.calc=function(a){a!==a?a=0:this.log?(a-=this.minimum,a=0>=a?0:Math.log(a)*this.scale):a=(a-this.minimum)*this.scale;return this.horizontal?this.inverted?this.endPos-a:this.startPos+a:this.inverted?this.startPos+a:this.endPos-a};this.fromPos=function(a){var d=this.horizontal;this.inverted&&(d=!d);return this.minimum+(d?a-this.startPos:this.endPos-a)/this.scale};this.fromSize=function(a){return a/
this.scale};this.fromSizeCalcIndex=function(a){var d=-1;if(1==this.dateTime){var b=0,c=0;a=(this.maximum-this.minimum)/this.axisSize*a+this.minimum;for(1<this.chart.series.items[0].data.x.length&&(c=this.chart.series.items[0].data.x[1].getTime()-this.chart.series.items[0].data.x[0].getTime());-1==d&&b<this.chart.series.items[0].data.x.length;)this.chart.series.items[0].data.x[b].getTime()+c/2>a&&a+c/2>this.chart.series.items[0].data.x[b].getTime()?d=b:b++}else if(d=a/this.scale+this.minimum,this.chart.series.items[0].data.values.length<
d||-.5>d)d=-1;return d};this.calcSize=function(a){return Math.abs(this.calc(a)-this.calc(0))};this.calcMinMax=function(a,d){this.automatic=!1;a=this.fromPos(a);d=this.fromPos(d);if(a>d){var b=a;a=d;d=b}this.minimum=a;this.maximum=d;this.checkRange()};this.minAxisRange=1E-10;this.setMinMax=function(a,d){this.automatic=!1;this.minimum=a;this.maximum=d;this.checkRange()}}function T(b){function c(a){var d=b.series;return a.showHidden?d.items.length:d.visibleCount()}this.chart=b;this.useStrokeColor=this.transparent=
!1;var a=this.format=new Tee.Format(b);a.fill="white";a.round.x=8;a.round.y=8;a.font.baseLine="top";a.shadow.visible=!0;a.z=0;a.depth=.05;this.title=new Tee.Annotation(b);this.title.transparent=!0;this.bounds=new n;this.position="right";this.visible=!0;this.inverted=!1;this.margin=this.padding=5;this.align=0;this.fontColor=!1;var e=this.dividing=new F(b);e.fill="";e.cap="butt";this.over=-1;this.symbol=new function(a){this.chart=a;var d=this.format=new Tee.Format(a),b=d.shadow;b.visible=!0;b.color=
"silver";b.width=2;b.height=2;d.depth=.01;this.padding=this.height=this.width=8;this.style="rectangle";this.visible=!0;this.draw=function(b,c,f,e){var l=a.ctx;a:{if(b.hover.enabled){var k=a.legend.showValues();if(k&&b.over==c||!k&&0<=b.over){var t=b.hover;break a}}t=null}k=d.fill;var h=d.stroke;d.fill=b.legendColor(c);l.z=-.01;switch(this.style){case "rectangle":t&&(d.stroke=t.stroke);this.chart.aspect.view3d?(b={x:f,y:e-.5*this.height-1,width:this.width,height:this.height},k=d.z,c=l.z,d.z=l.z-d.depth,
d.cube(b),d.draw(l,null,b),d.z=k,l.z=c):d.rectangle(f,e-.5*this.height-1,this.width,this.height);break;case "triangle":t&&(d.stroke=t.stroke);d.polygon([new g(f+.5*this.width,e-.5*this.height),new g(f+this.width,e+.5*this.height),new g(f,e+.5*this.height)]);break;case "ellipse":t&&(d.stroke=t.stroke);d.ellipse(f+.5*this.width,e,this.width,this.height);break;default:l.beginPath(),l.moveTo(f,e),l.lineTo(f+this.width,e),t?t.stroke.prepare():d.stroke.prepare(d.fill),l.stroke()}d.fill=k;d.stroke=h}}(b);
this.itemHeight=10;this.innerOff=0;this.textStyle=this.legendStyle="auto";this.hover=new Tee.Format(b);this.hover.enabled=!0;this.hover.font.fill="red";this.totalWidth=function(){var a=l+8,d=this.symbol;d.visible&&(a+=d.width+d.padding);return a};var d=0;this._space=function(){return this.bounds.y+d+this.margin*b.bounds.height*.01};this.availRows=function(){var a=this._space()+.5*this.itemHeight;a||(a=0);return(b.bounds.getBottom()-a)/this.itemHeight|0};this.itemsCount=function(){var a=b.series,d=
c(this),f=b.bounds;if(0===d)return 0;var e=this.legendStyle;if("values"===e&&0<d)d=a.firstVisible().legendCount();else if("auto"===e&&1<d||"series"===e)for(e=0;e<a.items.length;e++)a.items[e].legend.visible||d--;else 1==d&&(d=a.firstVisible().legendCount());this.isVertical()?(.5+d)*this.itemHeight>f.height-this._space()&&(d=this.availRows()):(this.rows=1,a=this.totalWidth(),e=this.calcPadding(f),e=f.width-2*e,d*a>e?(this.perRow=e/a|0,d>this.perRow&&(this.rows=1+(d/this.perRow|0),this.rows*this.itemHeight>
f.height-this.bounds.y&&(this.rows=this.availRows(),d=this.rows*this.perRow))):this.perRow=d);return d};this.showValues=function(){var a=this.legendStyle;return"values"==a||"auto"==a&&1==c(this)};this.itemText=function(a,d){var b=a.legendText(d,this.textStyle,!1,!0);return this.ongettext?this.ongettext(this,a,d,b):b};this.calcItemPos=function(a,b){var c=this.itemHeight,f=this.bounds;b.x=f.x;b.y=f.y+this.innerOff;this.isVertical()?(b.x+=f.width-6-this.innerOff,b.y+=.4*c+a*c+d):(b.x+=this.innerOff+
(1+a%this.perRow)*this.totalWidth(),b.y+=c*((a/this.perRow|0)+.25))};this.calcItemRect=function(a,b){var c=this.itemHeight,f=this.bounds;b.height=c;b.x=f.x;b.y=f.y;this.isVertical()?(b.width=f.width,b.y+=.4*c+a*c+d):(b.width=this.totalWidth(),b.x+=this.innerOff+a%this.perRow*b.width,b.y+=c*((a/this.perRow|0)+.25))};var f=new n;this.mousedown=function(a){if(this.onclick&&-1!==this.over){if(this.showValues())this.onclick(b.series.firstVisible(),this.over);else{a=b.series.items;for(var d=a.length,c=
0,f=0;f<d;f++)if(this.showHidden||a[f].visible)if(c==this.over){this.onclick(a[f],-1);break}else c++}return!0}return!1};this.mousemove=function(a){var d=this.over;if(this.bounds.contains(a))for(var b=this.itemsCount(),c=0;c<b;c++){if(this.calcItemRect(c,f),f.contains(a)){d=c;break}}else d=-1;if(d!=this.over){if(this.onhover)this.onhover(this.over,d);this.over=d;var e=this.chart;window.requestAnimFrame(function(){e.draw()})}this.onclick&&(this.chart.newCursor=-1===d?"default":"pointer")};this.drawSymbol=
function(a,d,b){var c=this.symbol;c.draw(a,d,b.x-l-c.width-c.padding,b.y+.4*this.itemHeight)};var k={x:0,y:0},h=new n,v;this.drawItem=function(d,b,c,f){var e=!1,t=this.isVertical();this.calcItemPos(c,k);h.x=k.x;h.y=k.y;t?h.y-=this.chart.isMozilla?0:2:this.chart.isMozilla?h.y++:h.y--;var g=a.font.fill;this.over==c?a.font.fill=this.hover.enabled?this.hover.font.fill:g:this.fontColor?a.font.fill=this.showValues()?b.legendColor(c):b.format.fill:b.visible||(a.font.fill="silver");var w=this.chart.ctx;if(f){a.font.textAlign=
"start";h.x-=p[0];w.textAlign=a.font.textAlign;var J=this.symbol.width;d={text:d,index:c,r:h,symbolWidth:J,stopLegend:!1};if(this.onbeforedrawLegendItem)this.onbeforedrawLegendItem(d);d.stopLegend&&(e=!0);d=d.text;e||a.drawText(h,d)}else if(d instanceof Array||(d=[d]),t){f=d.length;t=h.width;for(var G=a.textWidth(" ");f--;){a.font.textAlign=v[f]?"start":"end";h.x-=p[f];w.textAlign=a.font.textAlign;J=this.symbol.width;d={text:d,index:c,r:h,symbolWidth:J,stopLegend:!1};if(this.onbeforedrawLegendItem)this.onbeforedrawLegendItem(d);
d.stopLegend&&(e=!0);d=d.text;e||a.drawText(h,d[f]);h.width-=p[f]+G}h.width=t}else{a.font.textAlign="start";h.x-=l;w.textAlign=a.font.textAlign;J=this.symbol.width;d={text:d,index:c,r:h,symbolWidth:J,stopLegend:!1};if(this.onbeforedrawLegendItem)this.onbeforedrawLegendItem(d);d.stopLegend&&(e=!0);d=d.text;e||a.drawText(h,d.join(" "))}e||(a.font.fill=g,e=!b.isColorEach||this.showValues(),this.symbol.visible&&e&&this.drawSymbol(b,c,k),0<c&&""!==this.dividing.fill&&(b=this.bounds,w.beginPath(),this.isVertical()?
(w.moveTo(b.x,h.y-2),w.lineTo(b.getRight(),h.y-2)):(c=h.x-l-4,e=this.symbol,e.visible&&(c-=e.width+e.padding),w.moveTo(c,b.y),w.lineTo(c,b.getBottom())),this.dividing.prepare(),w.stroke()))};this.drawSeries=function(a,d){var c=b.series.items[a];return(this.showHidden||c.visible)&&c.legend.visible?(this.drawItem(c.titleText(a),c,d,!0),!0):!1};this.draw=function(){var c=this.itemsCount();var f=this.title;var e=b.ctx,k=this.format.transparency,p=this.isVertical();if(0<c){var g=e.beginParent;this.visual=
g?e.beginParent():null;a.cube(this.bounds);this.transparent||a.draw(e,null,this.bounds);if(0<k){var m=e.globalAlpha;e.globalAlpha=(1-k)*m}p&&0<d&&(f.bounds.x=this.bounds.x-4,f.bounds.y=this.bounds.y,f.doDraw());a.font.prepare();h.width=l;h.height=this.itemHeight;if(this.showValues()){p=b.series.firstVisible();var n=0;f=c;switch(this.textStyle){case "auto":case "percentlabel":case "valuelabel":v=[!1,!0];break;case "labelpercent":case "labelvalue":v=[!0,!1];break;case "label":v=[!0];break;case "valuepercent":v=
[!0,!1];break;default:v=[!1]}if(this.inverted)for(;f--;)this.drawItem(this.itemText(p,f),p,n++);else for(n=0;n<f;n++)this.drawItem(this.itemText(p,n),p,n)}else if(f=b.series.count(),p&&(f=Math.min(f,this.availRows())),c=0,v=[!0],this.inverted)for(;f--;)this.drawSeries(f,c)&&c++;else for(n=0;n<f;n++)this.drawSeries(n,c)&&c++;0<k&&(e.globalAlpha=m);g&&e.endParent()}};var l,p;this.calcWidths=function(){var d,c=b.series;l=0;p=[0,0];if(this.showValues()){var f=c.firstVisible();var e=this.itemsCount();
for(d=0;d<e;d++)if(c=this.itemText(f,d),c instanceof Array||(c=[c]),0<c.length){var k=a.textWidth(c[0]);k>p[0]&&(p[0]=k);1<c.length&&(k=a.textWidth(c[1]),k>p[1]&&(p[1]=k))}}else for(e=c.count(),d=0;d<e;d++)if(f=c.items[d],this.showHidden||f.visible)k=a.textWidth(f.titleText(d)),k>p[0]&&(p[0]=k);l=p[0]+p[1]};this.calcPadding=function(a){return.01*this.padding*(this.isVertical()?a.width:a.height)};this.isVertical=function(){var a=this.position;return"right"===a||"left"===a};this.calcrect=function(){var c=
0,f=this.title,e=b.chartRect,k=this.align,h=this.bounds,p=this.isVertical();f.shouldDraw()?(f.resize(),d=f.bounds.height,c=f.bounds.width):d=0;p?h.y=0===k?e.y:b.bounds.height*k*.01:h.x=0===k?e.x:b.bounds.width*k*.01;a.font.prepare();this.itemHeight=a.textHeight("Wj");this.calcWidths();k=this.calcPadding(e);var v=this.itemsCount();p?(p=this.symbol.visible?this.symbol.width+this.symbol.padding:0,h.width=Math.max(c,12+l+p),h.height=(.5+v)*this.itemHeight+d,h.width-6>c&&(f.bounds.width=h.width-6)):(h.width=
k+this.perRow*this.totalWidth(),h.x+=.5*(e.width-h.width),h.height=this.itemHeight*(this.rows+.25));""!==a.stroke.fill&&(p=+a.stroke.size,1<p&&(h.width+=p,h.height+=p,this.innerOff=.5*p));0!==v&&("right"===this.position?(h.x=e.getRight()-h.width-this.margin*h.width*.01,e.automatic&&e.setRight(Math.max(e.x,h.x-k))):"left"===this.position?(h.x=e.x,e.automatic&&e.setLeft(h.x+h.width+k)):"top"===this.position?(h.y=e.y+k,e.automatic&&e.setTop(h.getBottom()+k)):(h.y=e.getBottom()-h.height-k,e.automatic&&
e.setBottom(h.y-k)))}}function R(b,c){Tee.Annotation.call(this,c);this.series=b;var a=this.arrow=new Tee.Format(c);a.visible=!0;a.length=10;a.underline=!1;a.z=.5;a.depth=.1;this.style="auto";this.drawEvery=1;this.visible=!1;this.format.z=.5;this.setChart=function(b){this.chart=b;this.format.setChart(b);a.setChart(b)};this.drawPolar=function(b,d,c,k){var f=this.series.markText(k);k=b.x+Math.cos(c)*d;var e=b.y+Math.sin(c)*d,l=this.chart.ctx;this.text=f;this.resize();f=this.bounds;var p=this.position;
d+=a.length;var t=b.x+Math.cos(c)*d;d=b.y+Math.sin(c)*d;0>t-f.width&&(t-=t-f.width-4);p.x=Math.abs(t-b.x)<f.width?t-.5*f.width:t<b.x?t-f.width:t;p.y=Math.abs(d-b.y)<f.height?d-.5*f.height:d<b.y?d-f.height:d;l.beginPath();l.moveTo(k,e);l.lineTo(t,d);a.underline&&(d<=p.y||d>=p.y+f.height)&&(l.moveTo(p.x,d),l.lineTo(p.x+f.width,d));a.stroke.prepare();a.visible&&l.stroke();this.draw()};this.canDraw=function(b,d,c,k){if((c=this.series.markText(c))&&""!==c&&(this.showZero||"0"!==c)){this.text=c;this.resize();
c=k?-1:1;var f=this.bounds;this.series.yMandatory?(f.x=b-.5*f.width,f.y=d-c*(a.length+(k?0:f.height))):(f.x=b+c*a.length,k&&(f.x-=f.width),f.y=d-.5*f.height);this.position.x=f.x;this.position.y=f.y;return!0}return!1};this.drawMark=function(b,d,c,k){if(this.canDraw(b,d,c,k)&&(this.draw(),a.visible)){c=this.bounds;var f=this.series.yMandatory,e=k?c.y:c.getBottom(),l=this.chart.ctx,p=this.chart.aspect.view3d;if(f){if(p){b={x:b-3,y:e,width:6,height:d-e};a.z=this.format.z-.5*a.depth;a.cylinder(b,1,!0);
a.draw(this.chart.ctx,null,b);return}l.beginPath();l.moveTo(b,e);l.lineTo(b,d);a.underline&&(l.moveTo(c.x,e),l.lineTo(c.x+c.width,e))}else d=c.y+.5*c.height,l.beginPath(),l.moveTo(b,d),k&&(c.x+=c.width),l.lineTo(c.x,d),a.underline&&(l.moveTo(c.x,c.y+c.height),l.lineTo(c.x+(k?-c.width:c.width),c.y+c.height));a.stroke.prepare();l.stroke()}}}function S(b){for(var c=0,a=b.length;a--;)c+=0<b[a]?b[a]:-b[a];return c}function O(b){return b&&b.constructor==Array?b.filter(function(b){return null!==b}).map(O):
b}function N(b){b=O(b);var c=-Number.MAX_VALUE;b.forEach(function(a){c<a&&(c=a)});"[object Date]"===Object.prototype.toString.call(c)&&(c=c.getTime());return c}function L(b){b=O(b);var c=Number.MAX_VALUE;b.forEach(function(a){c>a&&(c=a)});"[object Date]"===Object.prototype.toString.call(c)&&(c=c.getTime());return c}function P(b){function c(a){return a.visible&&a.firstSeries?(a=a.format.stroke,""===a.fill?0:.5*a.size):0}this.chart=b;this.items=[];this.count=function(){return this.items.length};this.clicked=
function(a){var b=!1;this.each(function(d){if(d.visible&&d.onclick){var c=d.clicked(a);-1!=c&&(b=d.onclick(d,c,a.x,a.y))}});return b};this.mousedown=function(a){for(var b=0,d,c=!1;d=this.items[b++];)d.visible&&d.mousedown(a)&&(c=!0);return c};this.mousemove=function(a){for(var b=0,d;d=this.items[b++];)d.visible&&d.mousemove(a)};this.mouseout=function(){this.each(function(a){a.visible&&a.mouseout()})};this.visibleCount=function(a,b,d){for(var c=0,e=this.items,h=e.length,v;h--,v=e[h];)v.visible&&(!b||
v instanceof b)&&(d&&v==a&&(d.index=c),c++);d&&(d.total=c,d.index=c-1-d.index);return c};this.beforeDraw=function(){this.each(function(a){a.useAxes&&a.recalcAxes();a.calcColorEach()})};this.anyUsesAxes=function(){for(var a=this.items.length,b;a--;)if(b=this.items[a],b.visible&&b.useAxes)return!0;return!1};this.firstVisible=function(){for(var a=0,b;b=this.items[a++];)if(b.visible)return b;return null};this.vertMargins=function(){var a=this.items,b=a.length,d;if(0<b){var c={x:0,y:0};var k={x:0,y:0};
a[0].vertMargins(c);for(d=1;d<b;d++)0<a[d].data.values.length&&(k.x=k.y=0,a[d].vertMargins(k),k.x>c.x&&(c.x=k.x),k.y>c.y&&(c.y=k.y))}return c};this.horizMargins=function(){var a=this.items,b=a.length,d;if(0<b){var c={x:0,y:0};var k={x:0,y:0};a[0].horizMargins(c);for(d=1;d<b;d++)0<a[d].data.values.length&&(k.x=k.y=0,a[d].horizMargins(k),k.x>c.x&&(c.x=k.x),k.y>c.y&&(c.y=k.y))}return c};this.minXValue=function(a){var b=Infinity,d;this.eachAxis(a,function(a){d=a.minXValue();d<b&&(b=d)});return b};this.minYValue=
function(a){var b=Infinity,d;this.eachAxis(a,function(a){d=a.minYValue();d<b&&(b=d)});return b};this.maxXValue=function(a){var b=-Infinity,d;this.eachAxis(a,function(a){d=a.maxXValue();d>b&&(b=d)});return b};this.maxYValue=function(a){var b=-Infinity,d;this.eachAxis(a,function(a){d=a.maxYValue();d>b&&(b=d)});return b};this.draw=function(){var a=this.items.length,b=this.chart,d=b.ctx,f=b.aspect,k;if(0<a){for(k=0;k<a;k++){var h=this.items[k];h.visible&&h.beforeDraw&&h.beforeDraw()}var v=f.clip&&this.anyUsesAxes(),
l=b.axes;if(v){b=b.chartRect;var p=c(l.left),t=c(l.top);l={x:b.x+p,y:b.y+t,width:b.width-c(l.right),height:b.height-c(l.bottom)};f.clipRect(l)}try{var g=d.beginParent;for(k=0;k<a;k++)if(h=this.items[k],h.visible){var w=d.globalAlpha;d.globalAlpha=1-h.format.transparency;h.transform&&(d.save(),h.transform());h.visual=g?d.beginParent():null;if(h.onbeforedraw)h.onbeforedraw(h);h.draw();g&&d.endParent();if(h.ondraw)h.ondraw(h);h.transform&&d.restore();d.globalAlpha=w}}finally{v&&d.restore()}for(k=0;k<
a;k++)h=this.items[k],h.visible&&h.marks.visible&&(h.transform&&(d.save(),h.transform()),h.drawMarks(),h.transform&&d.restore())}}}function W(b){this.chart=b;this.visible=!0;this.transparency=0;this.left=new y(b,!1,!1);this.top=new y(b,!0,!0);this.right=new y(b,!1,!0);this.bottom=new y(b,!0,!1);this.items=[this.left,this.top,this.right,this.bottom];this.each=function(b){for(var a=0,c;c=this.items[a++];)b.call(c)};this.add=function(c,a){c=new y(b,c,a);c.custom=!0;this.items.push(c);return c}}function ba(b,
c){return"rgba( "+b[0]+", "+b[1]+", "+b[2]+", "+c+" )"}function B(b,c,a){for(var e=0;e<b.axes.items.length;e++)3<e&&(b.axes.items[e].labels.format.font.setSize(11),b.axes.items[e].format.stroke.fill=a,b.axes.items[e].labels.format.font.fill=c,b.axes.items[e].title.format.font.fill=c,b.axes.items[e].title.format.font.setSize(20),b.axes.items[e].grid.visible=!1,b.axes.items[e].grid.format.stroke.size=.6,b.axes.items[e].grid.format.stroke.fill="silver")}function E(b){b.title.transparent=!0;b.walls.visible=
!1;b.footer.transparent=!0;b.panel.format.shadow.visible=!1;b.panel.format.stroke.fill="";b.panel.format.round.x=0;b.panel.format.round.y=0;b.panel.format.gradient.visible=!1;b.panel.format.fill="white";U(b,"seaWash");if(0<b.series.items.length)for(var c=0;c<b.series.items.length;c++)b.series.items[c].format.fill=b.palette.get(c),null!=b.series.items[c].pointer&&null!=b.series.items[c].pointer.format&&(b.series.items[c].pointer.format.fill=b.palette.get(c),b.series.items[c].pointer.format.stroke.fill=
"white");for(c=0;c<b.axes.items.length;c++){var a=b.axes.items[c];a.format.stroke.fill="rgba(39,79,105,0.8)";a.labels.format.font.setSize(14);a.labels.format.font.fill="rgba(124,124,144,0.9)";a.title.format.font.setSize(20);a.title.format.font.fill="rgba(124,124,144,0.9)"}for(c=0;c<b.axes.items.length;c++)b.axes.items[c].grid.visible=b.axes.items[c].horizontal?!1:!0,b.axes.items[c].grid.format.stroke.size=.6,b.axes.items[c].grid.format.stroke.fill="silver";b.legend.transparent=!0;b.legend.format.font.setSize(14);
b.legend.format.font.fill="rgba(124,124,144,0.9)";b.title.format.shadow.visible=!1;b.title.format.font.style="18px Arial";b.title.format.font.style="bold 18px Arial";b.title.format.font.fill="rgba(124,124,144,0.9)";b.title.format.font.shadow.visible=!1}function U(b,c){var a="#4466a3 #f39c35 #f14c14 #4e97a8 #2b406b #1d7b63 #b3080e #f2c05d #5db79e #707070 #f3ea8d #b4b4b4".split(" ");"castaway"==c?a="#4466a3 #E8D0A9 #B7AFA3 #C1DAD6 #F5FAFA #ACD1E9 #6D929B".split(" "):"classic"==c?a="#0000FF #00FF00 #00FFFF #FF0000 #FF00FF #FFFF00 #000080 #008000 #008080 #800000 #808000 #808080".split(" "):
"cool"==c?a="rgba(43,64,107,1.0) rgba(59,84,140,1.0) rgba(68,102,163,1.0) rgba(78,151,168,1.0) rgba(93,183,158,1.0) rgba(65,160,138,1.0) rgba(43,146,125,1.0) rgba(29,123,99)".split(" "):"excel"==c?a="#FF9999 #663399 #CCFFFF #FFFFCC #660066 #8080FF #CC6600 #FFCCCC #800000 #FF00FF #00FFFF #FFFF00 #800080 #000080 #808000 #FF0000 #FFCC00 #FFFFCC #CCFFCC #00FFFF #FFCC99 #CC99FF".split(" "):"grayscale"==c?a="#F0F0F0 #E0E0E0 #D0D0D0 #C0C0C0 #B0B0B0 #A0A0A0 #909090 #808080 #707070 #606060 #505050 #404040 #303030 #202020 #101010".split(" "):
"macOS"==c?a="#FFFFFF #FCF305 #FF6402 #DD0806 #F20884 #4600A5 #0000D4 #02ABEA #1FB714 #006411 #562C05 #90713A #C0C0C0 #808080 #404040 #000000".split(" "):"modern"==c?a="#FF9966 #FF6666 #99CCFF #669966 #CCCC99 #9966CC #CC6666 #FFCC99 #9966FF #CCCCCC #66FFCC #6699FF #996699 #CCCCFF".split(" "):"onBlack"==c?a=["rgba(200,230,90,1.0)","rgba(90,150,220,1.0)","rgba(230,90,40,1.0)","rgba(230,160,15)"]:"opera"!=c&&("pastels"==c?a="#CCFFFF #FFFFCC #CCCCFF #00CCCC #CCCCCC #009999 #999999 #DDCCCC #FFCC66 #CCCCFF #FF9999 #FFFF99 #99CCFF #CCFFCC".split(" "):
"rainbow"==c?a="#FF0000 #FF7F00 #FFFF00 #00FF00 #0000FF #6600FF #8B00FF".split(" "):"redRiver"==c?a="#DC5C05 #FFC519 #6EC5B8 #FF9000 #978B7D #C7BAA7".split(" "):"rust"==c?a="#CBFFFA #7F3D17 #7F5E17 #22287F #DD1E2F #EBB035 #06A2CB #218559 #D0C6B1 #B67721 #68819E #747E80 #D5E1DD #F7F3E8 #F2583E #77BED2".split(" "):"seaWash"==c?a="#DC5C05 #FFAC00 #6EC5B8 #E8D0A9 #978B7D #C7BAA7 #C1DAD6 #FFC99F #ACD1E9 #6D929B #D3E397 #FFF5C3".split(" "):"solid"==c?a="#0000FF #FF0000 #00FF00 #FFCC00 #404040 #FFFF00 #FF00C0 #FFFFFF".split(" "):
"teechart"==c?a="rgba(255,0,0,1.0) rgba(0,128,0,1.0) rgba(255,255,0,1.0) rgba(0,0,255,1.0) rgba(255,255,255,1.0) rgba(128,128,128,1.0) rgba(255,0,255,1.0) rgba(0,128,128,1.0) rgba(0,0,128,1.0) rgba(128,0,0,1.0) rgba(0,255,0,1.0) rgba(128,128,0,1.0) rgba(128,0,128,1.0) rgba(192,192,192,1.0) rgba(0,255,255,1.0) rgba(0,0,0,1.0) rgba(173,255,47,1.0) rgba(135,206,235,1.0) rgba(255,228,196,1.0) rgba(75,0,130,1.0)".split(" "):"warm"==c?a="rgba(243,234,141,1.0) rgba(242,192,93,1.0) rgba(243,156,53,1.0) rgba(245,129,28,1.0) rgba(243,107,21,1.0) rgba(241,76,20,1.0) rgba(230,24,10,1.0) rgba(179,8,14)".split(" "):
"web"==c?a="#FFA500 #0000CE #00CE00 #FFFF40 #40FFFF #FF40FF #FF4000 #8080A5 #808040".split(" "):"rainbowWide"==c?a="#990000 #C30000 #EE0000 #FF1A00 #FF4600 #FF7300 #FF9F00 #FFCB00 #FFF700 #E3F408 #C3E711 #A3DA1B #83CD25 #63C02E #42B338 #22A642 #029A4B #0C876A #1A758A #2863AA #3650CB #443EEB #612AFF #9615FF #CC00FF".split(" "):"windowsVista"==c?a="#001FD2 #E00201 #1E6602 #E8CD7E #AFABAC #A4D0D9 #3D3B3C #95DD31 #9E0001 #DCF774 #45FDFD #D18E74 #A0D891 #D57A65 #9695D9".split(" "):"windowsxp"==c?a="rgba(130,155,254,1.0) rgba(252,209,36,1.0) rgba(124,188,13,1.0) rgba(253,133,47,1.0) rgba(253,254,252,1.0) rgba(226,78,33,1.0) rgba(41,56,214,1.0) rgba(183,148,0,1.0) rgba(90,134,0,1.0) rgba(210,70,0,1.0) rgba(211,229,250,1.0) rgba(216,216,216,1.0) rgba(95,113,123,1.0)".split(" "):
"victorian"==c&&(a="#5DA5A1 #C45331 #E79609 #F6E84A #B1A2A7 #C9A784 #8C7951 #D8CDB7 #086553 #F7D87B #016484".split(" ")));b.paletteName=c;b.palette.colors=a;if(0<b.series.items.length)for(c=0;c<b.series.items.length;c++)b.series.items[c].format.fill=b.palette.get(c),null!=b.series.items[c].pointer&&null!=b.series.items[c].pointer.format&&(b.series.items[c].pointer.format.fill=b.palette.get(c));b.draw()}function ca(){try{return new XMLHttpRequest}catch(b){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(b){}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(b){}throw Error("Could not create HTTP request object.");
}"undefined"!==typeof exports&&(exports.Tee=Tee);"undefined"!==typeof window&&(window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(b){window.setTimeout(b,1E3/60,(new Date).getTime())}}());try{Object.defineProperty({},"x",{});var H=Object.defineProperty}catch(b){}"indexOf"in Array.prototype||(Array.prototype.indexOf=function(b,c){void 0===
c&&(c=0);0>c&&(c+=this.length);0>c&&(c=0);for(var a=this.length;c<a;c++)if(c in this&&this[c]===b)return c;return-1});Tee.Point=function(b,c){this.x=b;this.y=c};Tee.Rectangle=function(b,c,a,e){this.x=b;this.y=c;this.width=a;this.height=e;this.set=function(a,b,c,e){this.x=a;this.y=b;this.width=c;this.height=e};this.setFrom=function(a){this.x=a.x;this.y=a.y;this.width=a.width;this.height=a.height};this.getRight=function(){return this.x+this.width};this.getBottom=function(){return this.y+this.height};
this.setTop=function(a){this.height-=a-this.y;this.y=a};this.setBottom=function(a){this.height=a-this.y};this.setLeft=function(a){this.width-=a-this.x;this.x=a};this.setRight=function(a){this.width=a-this.x};this.contains=function(a){return a.x>=this.x&&a.x<=this.x+this.width&&a.y>=this.y&&a.y<=this.y+this.height};this.offset=function(a,b){this.x+=a;this.y+=b}};Tee.Tool=function(b){this.chart=b;this.active=!0};Tee.Animation=function(b,c){Tee.Tool.call(this,b);this.active=!0;this.mode="linear";this.duration=
500;this.items=[];this.autoDraw=!0;this.running=this.loop=!1;this.onstop=this.onstart=null;b&&(b instanceof Tee.Chart?this.chart=b:b instanceof Tee.Animation&&(this.chart=b.chart,b.items.push(this)));var a=null;this._dostart=function(){this.init=(new Date).getTime();a.start();for(var b=0,d;d=a.items[b++];)d.active&&(d.chart=a.chart,d.start());a.chart.draw();requestAnimFrame(this.step,this)};this.animate=function(b){this.running||(this.running=!0,b&&(this.chart=b),a=this,this._dostart())};this.start=
function(){if(this.onstart)this.onstart()};this.stop=function(){if(this.onstop)this.onstop()};this.doStep=function(a){c&&c(a)};this.step=function(){var b;var d=((new Date).getTime()-a.init)/a.duration;var c="linear"==a.mode?d:Math.pow(2,10*(d-1));if(0<=c&&1>c){if(a.running){a.doStep(c);for(d=0;b=a.items[d++];)b.active&&(b.chart=a.chart,b.doStep(c));a.autoDraw&&a.chart.draw();requestAnimFrame(a.step,a)}}else{a.stop();for(d=0;b=a.items[d++];)b.active&&(b.chart=a.chart,b.stop());if(a.onstop)a.onstop(a);
a.loop?a._dostart():(a.running=!1,a.chart.draw())}}};Tee.Animation.prototype=new Tee.Tool;Tee.Tool.prototype.mousedown=function(){};Tee.Tool.prototype.mousemove=function(){};Tee.Tool.prototype.mouseout=function(){};Tee.Tool.prototype.clicked=function(){return!1};Tee.Tool.prototype.draw=function(){};u.prototype.setEndColor=function(b){if(b&&""!==b)for(var c=1,a=this.colors.length;c<a;c++)this.colors[c]=b};A.prototype.set=function(b){this.visible=b.visible;this.color=b.color;this.blur=b.blur;this.width=
b.width;this.height=b.height};D.prototype.getSize=function(){var b=this.style.split(" "),c,a;for(c=0;c<b.length;c++)if(a=parseFloat(b[c]))return a;return 20};D.prototype.setSize=function(b){var c="",a=this.style.split(" "),e;for(e=0;e<a.length;e++)parseFloat(a[e])?c+=b.toString()+"px ":c+=a[e]+" ";this.style=c};D.prototype.prepare=function(){var b=this.chart.ctx;b.textAlign=this.textAlign;b.textBaseline=this.baseLine;this._sh&&this._sh.prepare(b);b.font!=this.style&&(b.font=this.style)};D.prototype.setChart=
function(b){this.chart=b;this._g&&(this._g.chart=b);this._sh&&(this._sh.chart=b);this._s&&this._s.setChart(b)};Tee.Format=function(b){this.chart=b;this.gradient=new u(b);this.fill="rgb(200,200,200)";this.stroke=new F(b);this.round={x:0,y:0};this.transparency=0;this.doSubNums=this.doSuperNums=!1;this.font=new D(b);this._img=null;H?H(this,"image",{get:function(){this._img||(this._img=new V(this.chart));return this._img}}):this._img=this.image=new V(b);this.shadow=new A(b);this.roundRect=function(a,
b,d,c,k){if(a.roundRect)a.roundRect(b,d,c,k,this.round.x,this.round.y);else{var f=b+c,e=d+k,l=this.round.x,p=this.round.y,t=this.round.corners;0>k&&(d=e,e=d-k);0>c&&(b=f,f=b-c);2*l>c&&(l=.5*c);2*p>k&&(p=.5*k);!t||t[0]?a.moveTo(b+l,d):a.moveTo(b,d);!t||t[1]?(a.lineTo(f-l,d),a.quadraticCurveTo(f,d,f,d+p)):a.lineTo(f,d);!t||t[2]?(a.lineTo(f,e-p),a.quadraticCurveTo(f,e,f-l,e)):a.lineTo(f,e);!t||t[3]?(a.lineTo(b+l,e),a.quadraticCurveTo(b,e,b,e-p)):a.lineTo(b,e);!t||t[0]?(a.lineTo(b,d+p),a.quadraticCurveTo(b,
d,b+l,d)):a.lineTo(b,d);a.closePath()}};this.textHeight=function(){return 1.3*this.font.getSize()};this.textWidth=function(a){return this.chart.ctx.measureText(a).width};this.fillBack=function(a,b,d,c,k,h){this.gradient.visible?(a.fillStyle=b?this.gradient.create(b()):this.gradient.rect(d,c,k,h),a.fill()):""!==this.fill&&(a.fillStyle=this.fill,a.fill())};this.draw=function(a,b,d,c,k,h){var f=this._img;"object"===typeof d&&(c=d.y,k=d.width,h=d.height,d=d.x);if(0<this.transparency){var e=a.globalAlpha;
a.globalAlpha=(1-this.transparency)*e}this.shadow.prepare(a);f&&f.visible&&""!==f.url?(a.save(),a.clip(),1==f.backFill&&this.fillBack(a,b,d,c,k,h),b?(b=b(),f.tryDraw(b.x,b.y,b.width,b.height)):f.tryDraw(d,c,k,h),a.restore()):this.fillBack(a,b,d,c,k,h);""!==this.stroke.fill&&(this.stroke.prepare(),a.stroke());0<this.transparency&&(a.globalAlpha=e)};this.subNums=function(a){for(var b="",d=0;d<a.length;d++){var c=a.charCodeAt(d);b=48<=c&&57>=c?b+String.fromCharCode(c+8272):b+a[d]}return b};this.superNums=
function(a){for(var b="",d=0;d<a.length;d++){var c=a.charCodeAt(d);b=48==c||52<=c&&57>=c?b+String.fromCharCode(c+8256):49==c?b+String.fromCharCode(185):50==c?b+String.fromCharCode(178):51==c?b+String.fromCharCode(179):b+a[d]}return b};this.drawText=function(a,b){function d(a){e.fillText(a,l,p);h&&""!==h.fill&&(h.prepare(),e.strokeText(a,l,p))}var c=this.font._g,e=this.chart.ctx,h=this.font._s,g=this.font.textAlign,l=a.x,p=a.y;e.fillStyle=c&&c.visible&&a?c.create(a):this.font.fill;if("center"==g)l+=
.5*a.width;else if("right"==g||"end"==g)l+=a.width;a=(b+"").split("\n");c=a.length;if(1<c)for(b=this.textHeight(a[0]),g=0;g<c;g++)this.doSuperNums?d(this.superNums(a[g])):this.doSubNums?d(this.subNums(a[g])):d(a[g]),p+=b;else this.doSuperNums?d(this.superNums(b)):this.doSubNums?d(this.subNums(b)):d(b)};this.rectangle=function(a,b,d,c){1>this.transparency&&("object"===typeof a?this.rectangle(a.x,a.y,a.width,a.height):(this.rectPath(a,b,d,c),this.draw(this.chart.ctx,null,a,b,d,c)))};this.polygonBounds=
function(a,b){var d=0,c=0,e=0,h=0,g=a.length,l;if(0<g)for(d=e=a[0].x,c=h=a[0].y,l=1;l<g;l++){var p=a[l].x;p<d?d=p:p>e&&(e=p);p=a[l].y;p<c?c=p:p>h&&(h=p)}b.x=d;b.y=c;b.width=e-d;b.height=h-c};var c=new n;this.polygon=function(a){var b=this.chart.ctx,d=a.length,f;b.beginPath();b.moveTo(a[0].x,a[0].y);for(f=1;f<d;f++)b.lineTo(a[f].x,a[f].y);b.closePath();var k=this;this.draw(b,function(){k.polygonBounds(a,c);return c})}};Tee.Format.prototype.ellipsePath=function(b,c,a,e,d){this.chart.__webgl?(b.z=this.z,
b.depth=this.depth,b.ellipsePath(c,a,e,d)):(b.save(),b.translate(c,a),b.scale(.5*e,.5*d),b.beginPath(),b.arc(0,0,1,0,2*Math.PI,!1),b.restore())};Tee.Format.prototype.ellipse=function(b,c,a,e){var d=this.chart.ctx;this.ellipsePath(d,b,c,a,e);this.draw(d,null,b-.5*a,c-.5*e,a,e)};Tee.Format.prototype.sphere=function(b,c,a,e){if(this.chart.__webgl){var d=this.chart.ctx;d.depth=this.depth;d.z=this.z;this.gradient.visible&&(d.fillStyle=this.gradient.colors[this.gradient.colors.length-1]);d.sphere(b,c,a,
e)}else this.ellipse(b,c,a,e)};Tee.Format.prototype.cylinder=function(b,c,a,e){if(this.chart.__webgl){var d=this.chart.ctx;d.depth=this.depth;d.z=this.z;d.image=this.image;d.cylinder(b,c,a,e)}else 1==c?this.cube(b):(c=b.width,e=b.height,a?this.polygon([new g(b.x+.5*c,b.y),new g(b.x,b.y+e),new g(b.x+c,b.y+e)]):this.polygon([new g(b.x+c,b.y+.5*e),new g(b.x,b.y),new g(b.x,b.y+e)]))};Tee.Format.prototype.cube=function(b){var c=this.chart.aspect,a=c.view3d,e=0,d=0;if(a){if(this.chart.__webgl){a=this.chart.ctx;
a.depth=this.depth;a.z=this.z;a.cube(b,this.round.x);return}var f=this.z;var k=this.depth;e=f*c._orthox;d=-f*c._orthoy;f=b.x+b.width;var h=b.y+b.height;var g=k*c._orthox;c=-k*c._orthoy;var l=this.shadow.visible;this.shadow.visible=!1;var p=f+g,t=b.y+c;0<k&&(this.polygon([{x:f,y:b.y},{x:p,y:t},{x:p,y:h+c},{x:f,y:h}]),0<b.width&&this.polygon([{x:b.x,y:b.y},{x:b.x+g,y:t},{x:p,y:t},{x:f,y:b.y}]))}this.rectPath(b.x+e,b.y+d,b.width,b.height);a&&(this.shadow.visible=l)};Tee.Format.prototype.rectPath=function(b,
c,a,e){var d=this.chart.ctx;d.beginPath();0<this.round.x&&0<this.round.y?this.roundRect(d,b,c,a,e):d.rect(b,c,a,e)};Tee.Format.prototype.setChart=function(b){this.chart=b;this.shadow.chart=b;this.gradient.chart=b;this.font.setChart(b);this._img&&(this._img.chart=b);this.stroke.setChart(b)};Tee.Annotation=function(b,c,a,e){function d(a){return!a||0===a.length}Tee.Tool.call(this,b);this.position=new g(a||10,e||10);var f=this.margins=new q;this.items=[];var k=this.bounds=new n;this.visible=!0;this.transparent=
!1;this.text=c||"";this.isDom=!1;this.domElement=null;this.domStyle="border-radius: 5px;border: 2px solid #faad44;background: #FFF;padding:5px;";var h=this.format=new Tee.Format(b);h.font.textAlign="center";h.font.baseLine="top";h.fill="beige";h.round={x:4,y:4};h.stroke.fill="silver";h.shadow.visible=!0;h.depth=.05;h.z=.5;var v,l,p;this.getDOMHeight=function(){return null==this.domElement?0:this.domElement.offsetHeight};this.getDOMWidth=function(){return null==this.domElement?0:this.domElement.offsetWidth};
this.moveTo=function(a,b){this.position.x=a;this.position.y=b;this.resize()};this.shouldDraw=function(){return this.visible&&!d(this.text)};this.resize=function(){var a=this,b,c,e,p;return $jscomp.asyncExecutePromiseGeneratorProgram(function(t){if(d(a.text))return t.return();h.font.prepare();a.rows=a.text.split("\n");v=h.textHeight(a.text);b=a.rows.length;l=v*b+f.top;e=l+f.bottom;if(1<b)for(c=0;b--;)c=Math.max(c,h.textWidth(a.rows[b]+"W"));else c=h.textWidth(a.text+"W");c+=f.left+f.right;p=a.position;
k.set(p.x,p.y,c,e);t.jumpToEnd()})};this.add=function(a){a=new Tee.Annotation(this.chart,a);this.items.push(a);a.transparent=!0;return a};this.doDraw=function(){var a=this,b,c,e,l,p;return $jscomp.asyncExecutePromiseGeneratorProgram(function(t){return d(a.text)?t.jumpTo(0):a.isDom?t.yield(a.drawDOMText(),0):(a.transparent?a.chart.ctx.z=h.z:a.chart.aspect.view3d&&0<a.format.depth?(b=h.z,h.z-=.5*a.format.depth,h.cube(k),h.draw(a.chart.ctx,null,k),h.z=b):(a.chart.ctx.z=h.z,h.rectangle(k)),e=a.format.transparency,
l=a.chart?a.chart.ctx:null,0<e&&(c=l.globalAlpha,l.globalAlpha=(1-e)*c),h.font.prepare(),k.y+=f.top+.1*v,k.x+=f.left,p=k.width,k.width-=f.right,h.drawText(k,a.text),k.x=a.position.x,k.y=a.position.y,k.width=p,0<e&&(l.globalAlpha=c),t.jumpTo(0))})};this.clicked=function(a){return this.visible&&k.contains(a)};this.doMouseMove=function(a){(this.mouseinside=this.clicked(a))?(this.cursor&&(this.chart.newCursor=this.cursor),this.wasinside||(p=new r(250,k,h))):this.wasinside&&(p.restore(),this.chart.draw());
this.wasinside=this.mouseinside};this.mousemove=function(a){this.cursor&&"default"!=this.cursor&&this.doMouseMove(a)};this.forceDraw=function(){this.resize();this.doDraw()};this.setChart=function(a){this.chart=a;this.format.setChart(a)};this.drawDOMText=function(){var a=this,b,d;return $jscomp.asyncExecutePromiseGeneratorProgram(function(c){if(1==c.nextAddress)return a.domElement?c.yield(a.resize(),2):c.jumpTo(2);b=a.chart.canvas.getBoundingClientRect();d=a.transparent?"opacity:0;":"opacity:1;";a.domElement||
(a.domElement=document.createElement("div"),document.body.appendChild(a.domElement));0==a.visible?a.domElement.setAttribute("style","visibility:hidden; position:absolute;top:"+(a.position.y+b.top)+"px;left:"+(a.position.x+b.left)+"px;display:block;z-index:10000;"+a.domStyle+d):a.domElement.setAttribute("style","visibility:visible; position:absolute;top:"+(a.position.y+b.top)+"px;left:"+(a.position.x+b.left)+"px;display:block;z-index:10000;"+a.domStyle+d);a.domElement.innerHTML!=a.text&&(a.domElement.innerHTML=
a.text);c.jumpToEnd()})}};Tee.Annotation.prototype=new Tee.Tool;Tee.Annotation.prototype.draw=function(){var b=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(c){return b.isDom?c.yield(b.drawDOMText(),0):(b.visible&&b.forceDraw(),c.jumpTo(0))})};Tee.DragTool=function(b){Tee.Tool.call(this,b);this.series=null;var c=this.target={series:null,index:-1};this.clicked=function(){c.series=null;c.index=-1};var a=new g(0,0);this.Point=a;this.mousedown=function(b){var d=this.chart.series.items,
f=d.length;this.chart.calcMouse(b,a);c.series=null;c.index=-1;if(this.series&&this.series.visible)c.index=this.series.clicked(a),-1!=c.index&&(c.series=this.series);else for(b=0;b<f;b++)if(d[b].visible&&(c.index=d[b].clicked(a),-1!=c.index)){c.series=d[b];break}return-1!=c.index};this.mousemove=function(a){if(-1!=c.index){var b=c.series;a=b.mandatoryAxis.fromPos(b.yMandatory?a.y:a.x);this.onchanging&&(a=this.onchanging(this,a));b.data.values[c.index]=a;if(this.onchanged)this.onchanged(this,a);this.chart.draw()}}};
Tee.DragTool.prototype=new Tee.Tool;Tee.CursorTool=function(b){Tee.Tool.call(this,b);this.direction="both";this.size=new g(0,0);this.followMouse=!0;this.dragging=-1;this.format=new Tee.Format(b);this.horizAxis=b?b.axes.bottom:null;this.vertAxis=b?b.axes.left:null;var c,a=new n;this.over=function(b){var d=-1;if(a.contains(b)){var f=3>Math.abs(c.x-b.x);b=3>Math.abs(c.y-b.y);var l=this.direction;"both"==l&&f&&b?d=0:!f||"both"!=l&&"vertical"!=l?!b||"both"!=l&&"horizontal"!=l||(d=2):d=1}return d};this.calcRect=
function(){var d=b.chartRect,c=this.horizAxis,f=this.vertAxis;a.x=c?c.startPos:d.x;a.width=c?c.endPos-a.x:d.width;a.y=f?f.startPos:d.y;a.height=f?f.endPos-a.y:d.height};var e=new g(0,0);this.mousedown=function(a){this.chart.calcMouse(a,e);this.dragging=this.followMouse?-1:this.over(e);return-1<this.dragging};this.clicked=function(){this.dragging=-1};this.mousemove=function(e){var k=this.dragging,v=this.followMouse;if(v||-1<k)if(c||(c=new g),c.x!=e.x||c.y!=e.y)if(this.calcRect(),a.contains(e)){if(v||
0===k||1===k)c.x=e.x;if(v||0===k||2===k)c.y=e.y;"full"==this.render?this.chart.draw():(d&&("copy"==this.render?this.chart.ctx.drawImage(d,0,0):(k=b.bounds,f.clearRect(k.x,k.y,k.width,k.height))),this.dodraw("copy"==this.render?this.chart.ctx:f));if(this.onchange)this.onchange(e);return}e=this.over(e);this.chart.newCursor=c&&-1<e?0===e?"move":1===e?"e-resize":"n-resize":"default"};this.render="copy";var d,f;this.setRender=function(a){this.render=a;d&&(this.resetCopy(),this.chart.draw())};this.resetCopy=
function(){var a=this.chart.canvas;"layer"==this.render?(d.style.position="absolute",a.parentNode.appendChild(d),d.setAttribute("left",a.offsetLeft+"px"),d.setAttribute("top",a.offsetTop+"px"),d.style.left=a.offsetLeft,d.style.top=a.offsetTop,d.style.zIndex=10,d.style.pointerEvents="none"):d.parentNode&&d.parentNode.removeChild(d)};this.draw=function(){"full"==this.render?this.dodraw(this.chart.ctx):(d||(d=this.chart.canvas.cloneNode(),this.resetCopy(),f=d.getContext("2d")),"copy"==this.render?(f.drawImage(b.canvas,
0,0),this.dodraw(this.chart.ctx)):this.dodraw(f))};this.dodraw=function(b){var d=this.direction,f="both"==d;this.calcRect();c||(c=new g(a.x+.5*a.width,a.y+.5*a.height));b.beginPath();if(f||"vertical"==d){var e=.5*this.size.y;b.moveTo(c.x,0===e?a.y:c.y-e);b.lineTo(c.x,0===e?a.y+a.height:c.y+e)}if(f||"horizontal"==d)e=.5*this.size.x,b.moveTo(0===e?a.x:c.x-e,c.y),b.lineTo(0===e?a.x+a.width:c.x+e,c.y);this.format.stroke.prepare(this.format.stroke.fill,b);b.stroke()}};Tee.CursorTool.prototype=new Tee.Tool;
Tee.ToolTip=function(b){function c(){function a(a){e.moveTo(e.oldX+a*e.deltaX,e.oldY+a*e.deltaY);e.autoRedraw&&e.chart.draw()}var b=((new Date).getTime()-e.init)/e.animated;1>b?(a(b),window.requestAnimFrame(c,e)):a(1)}Tee.Annotation.call(this,b);this.pointer={fill:"Green",firstCircleRadius:"2",secondCircleRadius:"5",visible:!1,firstCircleOpacity:"1",secondCircleOpacity:"0.4",animationVisible:!0,animationDuration:200};this.findPoint=this.visible=!1;this.currentSeries=null;this.currentIndex=-1;this.realTime=
!1;this.timID=null;this.autoHide=!1;this.delay=1E3;this.animated=100;this.autoRedraw=!0;this.render="dom";this.domStyle="padding:5px; margin-left:5px; background-color:#FFF; border-radius:4px 4px; color:#222;";this.hide=function(){var a=this,b;return $jscomp.asyncExecutePromiseGeneratorProgram(function(d){b="dom"===a.render;if(a.visible||b){if(a.onhide)a.onhide(a);a.visible=!1;a.autoRedraw&&(b?Tee.DOMTip.hide():a.chart.draw());a.currentIndex=-1;a.currentSeries=null}d.jumpToEnd()})};var a=function(a){a&&
a[0].hide()};this.mousemove=function(b){var d=this,c,e,g,l,p,t,J,w,m,x;return $jscomp.asyncExecutePromiseGeneratorProgram(function(f){if(1==f.nextAddress){c=d.chart.series;e=c.count();g=null;l=-1;if(d.chart.chartRect.contains(b))for(p=e-1;0<=p;p--){if(t=c.items[p],t.visible){l=t.clicked(b);if(-1==l&&t.continuous)for(l=Math.round(d.chart.axes.bottom.fromSizeCalcIndex(b.x-d.chart.axes.bottom.startPos)),m=0;m<e;m++)J=Math.abs(c.items[m].data.values[l]-d.chart.axes.left.fromPos(b.y)),0==m?(w=J,t=c.items[m]):
J<w&&(t=c.items[m]);if(-1!=l){g=t;d.currP=b;break}}}else l=-1,d.currP=void 0;if(-1==l)return d.currP=void 0,d.hide(),d.currentIndex=-1,d.currentSeries=null,f.jumpTo(0);if(l==d.currentIndex&&g==d.currentSeries&&!d.realTime)return f.jumpTo(0);d.currentIndex=l;return(d.currentSeries=g)?f.yield(d.refresh(g,l),5):f.jumpTo(0)}if(7!=f.nextAddress){if(!(d.autoHide&&0<d.delay))return f.jumpTo(0);clearTimeout(d.timID);x=d;return f.yield(window.setTimeout(a,d.delay,[d]),7)}x.timID=f.yieldResult;f.jumpToEnd()})};
var e=null;this.refresh=function(a,b){var d=this,f,v,l;return $jscomp.asyncExecutePromiseGeneratorProgram(function(k){if(1==k.nextAddress){f="dom"===d.render;d.visible=!f;d.text=a.markText(b);if(!d.ongettext)return k.jumpTo(2);v=d;return k.yield(d.ongettext(d,d.text,a,b),3)}2!=k.nextAddress&&(v.text=k.yieldResult);if(""!==d.text&&(d.resize(),l=new g,a.calc(b,l),l.x-=.5*d.bounds.width,l.y-=1.5*d.bounds.height,0>l.x&&(l.x=0),0>l.y&&(l.y=0),f||d.autoHide||!(0<d.animated)||isNaN(d.position.x)||isNaN(d.position.y)?
(d.moveTo(l.x,l.y),d.autoRedraw&&(f?Tee.DOMTip.show(d.text,"auto",d.chart.canvas,d.domStyle,d):d.chart.draw())):(d.oldX=d.position.x,d.oldY=d.position.y,d.deltaX=l.x-d.oldX,d.deltaY=l.y-d.oldY,d.init=(new Date).getTime(),e=d,window.requestAnimFrame(c,d)),d.onshow))d.onshow(d,a,b);k.jumpToEnd()})}};Tee.ToolTip.prototype=new Tee.Annotation;Tee.RainbowPalette=function(){return"#FF0000 #FF7F00 #FFFF00 #00FF00 #0000FF #6600FF #8B00FF".split(" ")};Tee.Palette=function(b){this.colors=b};Tee.Palette.prototype.get=
function(b){return this.colors[-1==b?0:b%this.colors.length]};Q.prototype=new Tee.Annotation;y.adjustRect=function(){var b=0,c=this.labels,a=this.chart.chartRect,e=this.title,d;this.firstSeries=this.hasAnySeries();this.visible&&this.firstSeries&&this.visible&&(this.checkMinMax(),c.checkStyle(),(d=e.shouldDraw())&&e.resize(),a.automatic&&!this.custom&&(c.visible&&(c.format.font.prepare(),this.maxLabelDepth=b=this.minmaxLabelWidth(!0),c.alternate&&(b*=2),b+=c.padding),this.ticks.visible&&(b+=this.ticks.length),
d&&(b+=e.bounds.height),this.horizontal?this.otherSide?a.setTop(a.y+b):a.height-=b:this.otherSide?a.width-=b:a.setLeft(a.x+b)))};y.prototype.setPos=function(b,c){this.startPos=b+this.start*c*.01;this.endPos=b+this.end*c*.01;this.axisSize=this.endPos-this.startPos};y.calcRect=function(){if(this.firstSeries){this.checkMinMax();var b=this.chart.chartRect,c=this.bounds,a=this.horizontal;a?(c.y=this.otherSide?b.y:b.y+b.height,c.width=b.width,this.setPos(b.x,b.width)):(c.x=this.otherSide?b.x+b.width:b.x,
c.height=b.height,this.setPos(b.y,b.height));this.calcAxisScale();c=this.chart.series;0<c.items.length&&this.automatic&&(c=c.items[0],c instanceof Tee.Bar&&c.notmandatory==this&&"sideAll"==c.stacked&&(c.notmandatory.minimum=-.5,c.notmandatory.maximum=c.countAll(!1)-.5));if(this.automatic){c=this.chart.series;c=a?c.horizMargins():c.vertMargins();var e=0<c.x,d=0<c.y;e&&(this.minimum-=this.fromSize(c.x));d&&(this.maximum+=this.fromSize(c.y));(e||d)&&this.calcAxisScale()}this.calcScale();c=(a?b.height:
b.width)*this.position*.01;e=this.chart.walls;d=0;var f=e.visible&&this.chart.aspect.view3d;a?(f&&e.bottom.visible&&(d=e.bottom.size),this.axisPos=this.otherSide?b.y+c:b.getBottom()+d-c):(f&&e.left.visible&&(d=e.left.size),this.axisPos=this.otherSide?b.getRight()-c:b.x-d+c)}};y.draw=function(){if(this.visible&&this.firstSeries){this.z=this.otherSide?this.chart.walls.back.format.z:0;if(1E-9>=Math.abs(this.maximum-this.minimum)){var b=1E-9>Math.abs(this.minimum)?1E-8:this.minimum/1E7;if(this.minimum!=
this.minimum-b||this.maximum!=this.minimum+b)this.setMinMax(this.minimum-b,this.maximum+b),null!=this.chart&&this.chart.draw()}""!==this.format.stroke.fill&&this.drawAxis();this.roundMin()+1E3*this.increm>this.maximum&&(this.grid.visible&&this.drawGrids(),this.ticks.visible&&this.drawTicks(this.ticks,1,0),this.innerTicks.visible&&this.drawTicks(this.innerTicks,-1,0),this.minorTicks.visible&&this.drawTicks(this.minorTicks,1,Math.max(0,this.minorTicks.count)),this.labels.visible&&this.drawLabels());
this.title.shouldDraw()&&this.drawTitle()}};R.prototype=new Tee.Annotation;"map"in Array.prototype||(Array.prototype.map=function(b,c){for(var a=Array(this.length),e=0,d=this.length;e<d;e++)e in this&&(a[e]=b.call(c,this[e],e,this));return a});"filter"in Array.prototype||(Array.prototype.filter=function(b,c){for(var a=[],e,d=0,f=this.length;d<f;d++)d in this&&b.call(c,e=this[d],d,this)&&a.push(e);return a});Tee.Series=function(b,c){this.chart=null;this.data={values:[],labels:[],source:null};this.sortedOptions=
{sortedDrawAnimation:new Tee.Animation,sortedValues:[],sortedValuesIndices:[],originalValues:[],sortedLabels:[],originalLabels:[],sorted:!1,ascending:!0,sorting:!1,sortingAnimationType:"verticalchange"};this.yMandatory=!0;this.horizAxis="bottom";this.vertAxis="left";this.legend={visible:!0};this.legendStrokeColor=!1;this.sequential=!0;var a=this.format=new Tee.Format(this.chart),e=this.hover=new Tee.Format(this.chart),d=e.shadow;this.sortedOptions.sortedDrawAnimation.duration=500;this.sortedOptions.sortedDrawAnimation.mode=
"linear";a.fill="";a.stroke.fill="";this.visible=!0;e.stroke.size=.3;e.fill="";e.stroke.fill="red";d.visible=!0;d.blur=10;d.width=0;d.height=0;this.cursor="default";this.over=-1;this.marks=new R(this,this.chart);this.palette=new Tee.Palette;this.paletteName="opera";this.themeName="default";this.colorEach="auto";this.useAxes=!0;this.decimals=2;this._paintWalls=this._paintAxes=!0;this.sortValues=function(){this.sortedOptions.sorting=!0;var a=[],b=this.data.values,d=this.sortedOptions.ascending;this.sortedOptions.sortedLabels=
[];for(var c=0;c<this.data.values.length;c++)a.push(c);a.sort(function(a,c){return d?b[a]-b[c]:b[c]-b[a]});this.sortedOptions.originalValues=this.data.values.slice();this.sortedOptions.originalLabels=this.data.labels.slice();for(c=0;c<a.length;c++)this.sortedOptions.sortedLabels.push(this.data.labels[a[c]]?this.data.labels[a[c]]:a[c]);this.sortedOptions.sortedValuesIndices=a;this.sortedOptions.sortedValues=this.data.values.slice().sort(function(a,b){return d?a-b:b-a});this.sortedOptions.sorting=!1;
return this.sortedOptions.sortedValues.slice()};this.drawSortedValues=function(a){var b=this.sortedOptions.sortedDrawAnimation;if(this.sortedOptions.sorted!=a&&!this.sortedOptions.sorting&&b&&!b.running){(this.sortedOptions.sorted=a)&&this.sortValues();var d=a?this.sortedOptions.originalValues.slice():this.sortedOptions.sortedValues.slice(),c=this.data.values,f=a?this.sortedOptions.sortedValues.slice():this.sortedOptions.originalValues.slice();c.length==f.length&&c.every(function(a,b){return a===
f[b]})||(b.chart=this.chart,b.doStep=function(a){if(1>a)for(var b=0;b<d.length;b++)c[b]=d[b]+(f[b]-d[b])*a},b.onstop=function(){for(var a=0;a<d.length;a++)c[a]=f[a];b.running=!1},b.onstart=function(){b.running=!0},b.animate());this.data.labels=a?this.sortedOptions.sortedLabels.slice():this.sortedOptions.originalLabels.slice();this.chart.draw()}};this.init=function(a,b){"object"===typeof a&&a&&(a instanceof Array?(this.data.values=a,b instanceof Array&&(this.data.labels=b)):a instanceof Tee.Chart?
(this.chart=a,b instanceof Array&&(this.data.values=b)):(this.data.source=a,this.refresh()))};this.init(b,c);this.getFill=function(a,b){var d=this.palette;d=d&&d.colors?d.get(a):null;return null===d?this.isColorEach||!b?this.chart.palette.get(a):b.fill:d};this.isNull=function(a){return null===this.data.values[a]};this.getFillStyle=function(b,d){return a.gradient.visible?a.gradient.create(b,d):d};this.title="";this.titleText=function(a){return this.title||"Series "+a.toString()};this.refresh=function(a){this.data.source?
this.data.source instanceof HTMLTextAreaElement?(parseText(this.data,this.data.source.value),this.chart&&this.chart.draw()):this.data.source instanceof HTMLInputElement?Tee.doHttpRequest(this,this.data.source.value,function(a,b){parseText(a.data,b);a.chart.draw()},function(b,d){a&&a(this,b,d)}):a&&a(this):this.data.xml?(parseXML(this,this.data.xml),this.chart.draw()):this.data.json&&(parseJSON(this,this.data.json),this.chart.draw())};this.valueOrLabel=function(a){var b=this.data.labels[a];b&&""!==
b||(b=this.valueText(a));return b};this.toPercent=function(a){var b=this.data.values;return(100*Math.abs(b[a])/S(b)).toFixed(this.decimals)+" %"};this.markText=function(a){var b=this.marks,d=this.dataText(a,b.style,!1);return b.ongettext?b.ongettext(this,a,d):d};this.associatedToAxis=function(a){return a.horizontal?"both"==this.horizAxis||this._horizAxis==a:"both"==this.vertAxis||this._vertAxis==a};this.bounds=function(a){var b=this._horizAxis,d=this._vertAxis;a.x=b.calc(this.minXValue());a.width=
b.calc(this.maxXValue())-a.x;a.y=d.calc(this.maxYValue());a.height=d.calc(this.minYValue())-a.y};this.calcStack=function(a,b,d){d=this.pointOrigin(a,!1)+d;var c=this.mandatoryAxis;b.x=this.notmandatory.calc(this.data.x?this.data.x[a]:a);this.isStack100?(a=this.pointOrigin(a,!0),b.y=0===a?c.endPos:c.calc(100*d/a)):b.y=c.calc(d);this.yMandatory||(a=b.x,b.x=b.y,b.y=a)};this.pointOrigin=function(a,b){var d=0,c,e=this.chart.series.items;for(c=0;c<e.length;c++){var f=e[c];if(!b&&f==this)break;else if("no"!=
f.stacked){var k=f.data.values;f.visible&&f.constructor==this.constructor&&k.length>a&&(f=k[a],void 0!==f&&(d+=b&&0>f?-f:f))}}return d};this.doHover=function(a){var b=this.chart;if(a!=this.over){if(b.onhover)b.onhover(this,a);this.over=a;this.hover.enabled&&window.requestAnimFrame(function(){b.draw()})}}};Tee.Series.prototype.initZ=function(b,c){var a=this.format;a.z=b/c;a.depth=1/c;this.marks.format.z=a.z+.5*a.depth};Tee.Series.prototype.setChart=function(b,c){b.chart=c;b.recalcAxes();b.format.setChart(c);
b.marks.setChart(c);b.hover.setChart(c)};Tee.Series.prototype.calc=function(b,c){var a=this.data,e=this.notmandatory.calc(a.x?a.x[b]:b);b=this.mandatoryAxis.calc(a.values[b]);c.x=this.yMandatory?e:b;c.y=this.yMandatory?b:e};Tee.Series.prototype.recalcAxes=function(){var b=this.chart.axes;this._horizAxis=this.horizAxis instanceof y?this.horizAxis:"top"==this.horizAxis?b.top:b.bottom;this._vertAxis=this.vertAxis instanceof y?this.vertAxis:"right"==this.vertAxis?b.right:b.left;this.mandatoryAxis=this.yMandatory?
this._vertAxis:this._horizAxis;this.notmandatory=this.yMandatory?this._horizAxis:this._vertAxis};Tee.Series.prototype.getRect=function(){return new n};Tee.Series.prototype.clicked=function(){return-1};Tee.Series.prototype.fixedFloatToLocal=function(b,c){var a=b.toFixed(c);c=b.toLocaleString(this.chart.language);return-1!=a.indexOf(".")?(b=(1.1).toLocaleString(this.chart.language).substring(1,2),a=a.substring(a.indexOf(".")+1),c.substring(0,-1==c.indexOf(b)?c.length:c.indexOf(b))+b+a):b};Tee.Series.prototype.valueText=
function(b){return(b=(this.data._old||this.data.values)[b])?b instanceof Date?b.format?b.format(this.dateFormat):b.toString():this.valueFormat?b.toLocaleString(this.chart.language):(b|0)==b?this.fixedFloatToLocal(b,0).toString():this.fixedFloatToLocal(b,this.decimals).toString():"0"};Tee.Series.prototype.labelOrTitle=function(b){return this.data.labels[b]||this.title};Tee.Series.prototype.mousedown=function(){return!1};Tee.Series.prototype.mousemove=function(b){if(this.hover.enabled||"default"!=this.cursor){var c=
this.clicked(b);this.doHover(c);if("default"!=this.cursor&&-1!=c){this.chart.newCursor||(this.chart.newCursor=this.cursor);return}}c=this.marks;if(c.visible){var a=this.data.values.length,e=new g,d;for(d=0;d<a;d+=c.drawEvery)if(!this.isNull(d)&&(this.markPos(d,e),c.canDraw(e.x,e.y,d)&&c.bounds.contains(b))){this.doHover(d);break}}};Tee.Series.prototype.mouseout=function(){};Tee.Series.prototype.markPos=function(b,c){this.calc(b,c);return!1};Tee.Series.prototype.drawMarks=function(){var b=this.data.values.length,
c=new g,a;for(a=0;a<b;a+=this.marks.drawEvery)if(!this.isNull(a)){var e=this.markPos(a,c);this.marks.drawMark(c.x,c.y,a,e)}};Tee.Series.prototype.horizMargins=function(){};Tee.Series.prototype.vertMargins=function(){};Tee.Series.prototype.minXValue=function(){return this.data.x&&0<this.data.x.length?L(this.data.x):0};Tee.Series.prototype.minYValue=function(){var b=this.data.values;return 0<b.length?L(b):0};Tee.Series.prototype.maxXValue=function(){if(this.data.x)return 0<this.data.x.length?N(this.data.x):
0;var b=this.data.values.length;return 0===b?0:b-1};Tee.Series.prototype.maxYValue=function(){var b=this.data.values,c=b.length,a;if(0<c){var e=N(b);if(e!==e)for(a=0;a<c;a++){var d=b[a];void 0!==d&&(e!==e?e=d:d>e&&(e=d))}return e===e?e:0}return 0};Tee.Series.prototype.calcColorEach=function(){this.isColorEach="yes"==this.colorEach};Tee.Series.prototype.stackMaxValue=function(){if("100"==this.stacked)return 100;var b=Tee.Series.prototype.maxYValue;if("no"==this.stacked)return b.call(this);b=b.call(this);
for(var c=this.data.values,a=c.length,e;a--;)e=c[a],void 0===e&&(e=0),b=Math.max(b,this.pointOrigin(a,!1)+e);return b};Tee.Series.prototype.dataText=function(b,c,a,e){function d(a,b){return e?f?[a,b]:[a,""]:a+(b?" "+b:"")}var f=a?this.labelOrTitle(b):this.data.labels[b];return"value"==c?this.valueText(b):"percent"==c?this.toPercent(b):"percentlabel"==c?d(this.toPercent(b),f):"valuelabel"==c||"auto"==c?d(this.valueText(b),f):"label"==c?f||"":"index"==c?b.toFixed(0):"labelvalue"==c?d(f,this.valueText(b)):
"labelpercent"==c?d(f,this.toPercent(b)):"valuepercent"==c?this.valueText(b)+" "+this.toPercent(b):this.valueOrLabel(b)};Tee.Series.prototype.legendText=Tee.Series.prototype.dataText;Tee.Series.prototype.count=function(){return this.data.values.length};Tee.Series.prototype.legendCount=function(){return this.count()};Tee.Series.prototype.legendColor=function(b){return this.isColorEach&&-1!=b?this.getFill(b):this.legendStrokeColor?this.format.stroke.fill:this.format.fill};Tee.Series.prototype.addRandom=
function(b,c,a){c||(c=1E3);b||(b=5);var e=this.data;e.values.length=b;a&&(e.x=Array(b));if(0<b){e.values[0]=Math.random()*c;a&&(e.x[0]=Math.random()*c);for(var d=1;d<b;d++)e.values[d]=e.values[d-1]+Math.random()*c-.5*c,a&&(e.x[d]=Math.random()*c)}return this};Tee.Series.prototype.doSort=function(b,c){if("none"==b)return null;for(var a=this.data.values,e=a.length,d=Array(e),f=0;f<e;f++)d[f]=f;if("labels"==b){a=this.data.labels;var k,h,g=c?-1:1,l=c?1:-1;d.sort(function(b,d){k=a[b].toLowerCase();h=a[d].toLowerCase();
return k<h?g:k==h?0:l})}else d.sort(c?function(b,d){return a[b]-a[d]}:function(b,d){return a[d]-a[b]});return d};P.prototype.each=function(b){for(var c=this.items.length,a=0;a<c;a++)b(this.items[a])};P.prototype.eachAxis=function(b,c){for(var a=this.items.length,e;a--;)e=this.items[a],e.visible&&(!b||e.associatedToAxis(b))&&(e.__alwaysDraw||0<e.count())&&c(e)};Tee.Chart=function(b,c,a){function e(b){f.chart.addSeries(new (a||Tee.Bar)(f.chart)).data.values=b}var d="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():
"";this.isChrome=-1<d.indexOf("chrome");this.isAndroid=-1<d.indexOf("android");this.isMozilla="undefined"!==typeof window&&window.mozRequestAnimationFrame;this.language=window.navigator.userLanguage||window.navigator.language;b&&(this.canvas="undefined"!==typeof HTMLCanvasElement&&b instanceof HTMLCanvasElement?b:"string"==typeof b?document.getElementById(b):b);this.canvas||(this.canvas=document.createElement("canvas"),this.canvas.width=600,this.canvas.height=400);var f=this.canvas;(this.__webgl=
f.__webgl)||0===f.clientWidth?this.bounds=new n(0,0,f.width,f.height):(this.bounds=new n(0,0,f.clientWidth,f.clientHeight),f.width=f.clientWidth,f.height=f.clientHeight);this.chartRect=new n;this.chartRect.automatic=!0;this.chartRect.setFrom(this.bounds);this.palette=new Tee.Palette("#4466a3 #f39c35 #f14c14 #4e97a8 #2b406b #1d7b63 #b3080e #f2c05d #5db79e #707070 #f3ea8d #b4b4b4".split(" "));var k=this.aspect={chart:this,view3d:this.__webgl,ortogonal:!this.__webgl,rotation:0,elevation:315,perspective:50,
clip:!0,_orthox:10,_orthoy:8,clipRect:function(a){var b=this.chart.ctx;b.save();b.beginPath();this.view3d?b.rect(a.x,a.y-this._orthoy,a.width+this._orthox,a.height+this._orthoy):b.rect(a.x,a.y,a.width,a.height);b.clip()}};this.panel=new Z(this);this.walls={chart:this,visible:!0,left:new M(this),right:new M(this),bottom:new M(this),back:new M(this),draw:function(a,b){var d=this.chart.ctx,c=this.transparency,e=d.beginParent;this.visual=e?d.beginParent():null;if(0<c){var f=d.globalAlpha;d.globalAlpha=
(1-c)*f}var l=this.back.bounds;l.setFrom(a);if(b.view3d){b=this.bottom.visible?this.bottom.size:0;var k=this.left.size;0<k&&(l.x-=k,l.width+=k);0<b&&(l.height+=b);this.left.bounds.set(a.x-k,a.y,k,a.height+b);this.bottom.bounds.set(a.x,a.getBottom(),a.width,b);this.back.format.depth=this.back.size}!this.back.visible||this.back.draw();this.chart.aspect.view3d&&(this.left.visible&&this.left.draw(),this.bottom.visible&&this.bottom.draw(),this.right.visible&&this.right.draw());0<c&&(d.globalAlpha=f);e&&
d.endParent()}};b=this.walls.back.format;b.fill="rgb(240,240,240)";b.shadow.visible=!0;b.z=1;b=this.walls.left;b.format.fill="#BBAA77";b.format.depth=1;b.size=2;b=this.walls.bottom;b.format.depth=1;b.size=2;this.walls.right.visible=!1;this.axes=new W(this);this.legend=new T(this);this.series=new P(this);this.title=new Q(this,"blue");this.title.text="TeeChart";this.title.format.z=1;this.subtitle=new Q(this,"blue");this.subtitle.format.z=1;this.footer=new Q(this,"red");this.footer.format.z=0;this.subfooter=
new Q(this,"red");this.subfooter.format.z=0;this.zoom=new aa(this);this.scroll=new Y(this);this.tools=new X(this);this.oldPos=new g;this.calcMouse=function(a,b){b.x=a.clientX;b.y=a.clientY;a=this.canvas;if(a.getBoundingClientRect)a=a.getBoundingClientRect(),b.x-=a.left,b.y-=a.top;else if(a.offsetParent){do b.x-=a.offsetLeft,b.y-=a.offsetTop,a=a.offsetParent;while(a)}};var h=new g(0,0);this.domousemove=function(a){var b=this.chart;if(!b.ctx)return!1;a=a||window.event;a.touches&&(a=a.touches[a.touches.length-
1]);b.calcMouse(a,h);if(b.scroll.active){var d=b.scroll.direction,c="both"==d;if(c||"horizontal"==d){var e=b.axes.bottom.fromSize(b.oldPos.x-h.x);b.axes.top.scroll(e);b.axes.bottom.scroll(e)}if(c||"vertical"==d)e=-b.axes.left.fromSize(b.oldPos.y-h.y),b.axes.left.scroll(e),b.axes.right.scroll(e);b.oldPos.x=h.x;b.oldPos.y=h.y;b.scroll.done=!0;if(b.onscroll)b.onscroll(a);b.scroll.done&&window.requestAnimFrame(function(){b.draw()});return!1}if(b.zoom.active){if(h.x!=b.oldPos.x||h.y!=b.oldPos.y)b.zoom.change(h),
window.requestAnimFrame(function(){b.draw()}),b.zoom.done=!0;return!1}b.newCursor=null;b.tools.mousemove(h);b.series.mousemove(h);b.legend.mousemove(h);b.title.mousemove(h);b.mousemove&&b.mousemove(h);a=this.chart.canvas.style;b.newCursor?a.cursor!=b.newCursor&&(b.oldCursor=a.cursor,a.cursor=b.newCursor):void 0!==b.oldCursor&&a.cursor!=b.oldCursor&&(a.cursor=b.oldCursor);return!0};var v=new g(0,0);this.domousedown=function(a){a=a||window.event;var b=!1,d=this.chart;d.calcMouse(a.touches?a.touches[0]:
a,v);var c=d.series.anyUsesAxes()&&d.chartRect.contains(v);doubleTap(d);d.zoom.enabled&&twoFingersZoom(d,d.zoom);c=d.series.anyUsesAxes()&&d.chartRect.contains(v);a.touches?1<a.touches.length?d.scroll.active=!1:(d.scroll.active=d.scroll.enabled&&c,d.scroll.active&&(d.zoom.active=!1)):(d.zoom.active=a.button==d.zoom.mouseButton&&d.zoom.enabled&&c,d.scroll.active=a.button==d.scroll.mouseButton&&d.scroll.enabled&&c);d.zoom.done=!1;d.scroll.done=!1;d.oldPos=v;0===a.button?(b=d.tools.mousedown(a),b||(b=
d.series.mousedown(a))||(b=d.legend.mousedown(a)),b||d.mousedown&&(b=d.mousedown(a)),d.canvas.oncontextmenu=null):2==a.button&&(d.canvas.oncontextmenu=function(){return!1});b?d.zoom.active=d.scroll.active=!1:b=d.zoom.active||d.scroll.active;a.preventDefault?a.preventDefault():a.cancelBubble=!0;b&&(d=a.target||a.fromElement)&&d.setPointerCapture&&a.pointerId&&d.setPointerCapture(a.pointerId);return!b};this.domouseup=function(a){a=a||window.event;var b=this.chart;b.zoom.active=!1;b.scroll.active=!1;
if(b.zoom.done&&!b.zoom.touching){if(b.zoom.apply()&&b.onzoom)b.onzoom();b.draw();var d=!0}else if(d=b.scroll.done,!d){d=b.series.clicked(b.oldPos);if(!d&&(d=b.tools.clicked(b.oldPos),!d&&(d=b.title.clicked(b.oldPos))&&b.title.onclick))b.title.onclick(b.title);d||b.mouseup&&(d=b.mouseup(a))}b.zoom.old=null;b.zoom.done=!1;b.scroll.done=!1;d?a.preventDefault?a.preventDefault():a.cancelBubble=!0:b.canvas.oncontextmenu=null;(b=a.target||a.fromElement)&&b.releasePointerCapture&&a.pointerId&&b.releasePointerCapture(a.pointerId)};
f.onpointerdown=f.ontouchstart=this.domousedown;f.onpointerup=f.ontouchend=this.domouseup;f.onpointermove=f.ontouchmove=this.domousemove;this._doWheel=function(a){var b=this.chart;if(b.zoom.wheel.enabled){a=a||window.event;var d=b.zoom.wheel.factor*(a.wheelDelta?a.wheelDelta/120:a.detail?-a.detail/3:0);if(0<Math.abs(d)){var c={x:0,y:0};b.calcMouse(a,c);b.chartRect.contains(c)&&(b.axes.each(function(){var a=this.maximum-this.minimum;0<a&&(a=d*a*.05,this.setMinMax(this.minimum+a,this.maximum-a))}),
b.draw(),a.returnValue=!1,a.preventDefault&&a.preventDefault());for(a=0;e=b.tools.items[a++];)e instanceof Tee.ToolTip&&e.active&&e.mousemove(c)}}else{a=0;for(var e;e=b.tools.items[a++];)e instanceof Tee.ToolTip&&e.active&&e.hide()}};f.addEventListener&&f.addEventListener("DOMMouseScroll",this._doWheel,!1);f.onmousewheel=this._doWheel;f.onmouseout=function(a){a&&!a.target.setCapture&&(this.chart.scroll.active=!1);this.chart.series.mouseout();this.chart.tools.mouseout()};this.addSeries=function(a){a.setChart(a,
this);null!=a.donutArray&&"undefined"!==a.donutArray&&a.linkDonutsToChart();var b=this.series.items,d=b.indexOf(a);-1==d&&(d=b.push(a)-1);""===a.title&&(a.title="Series"+(1+d).toString());""===a.format.fill&&(a.format.fill=this.palette.get(d));return a};this.removeSeries=function(a){var b=this.series.items;a=b.indexOf(a);-1!=b&&b.splice(a,1)};f.chart=this;if(c&&0<c.length)if(c[0]instanceof Array)for(b=0;b<c.length;b++)e(c[b]);else e(c);this.getSeries=function(a){return this.series.items[a]};this.draw=
function(a){var b=this.series,d=this.chartRect;a=this.ctx=a||(this.canvas.getContext?this.canvas.getContext("2d"):null);if(!a)throw"Canvas does not provide Context";Tee.Scroller&&this instanceof Tee.Scroller&&a.clearRect(0,0,this.canvas.width,this.canvas.height);d.automatic&&d.setFrom(this.bounds);for(var c=b.items.length,e,f=!1,l=!1,h=1,g=b.visibleCount(),v=0;c--;)e=b.items[c],e.visible&&(e.initZ(v,g),v++,e._paintAxes&&(f=!0),e._paintWalls&&(l=!0),e.maxZ&&e.maxZ>h&&(h=e.maxZ));this.walls.left.format.depth=
h;this.walls.bottom.format.depth=h;this.walls.back.format.z=h;this.panel.draw();d.automatic&&this.panel.margins.apply(d);this.title.tryDraw(!0);this.subtitle.tryDraw(!0);this.footer.tryDraw(!1);this.subfooter.tryDraw(!1);b.beforeDraw();this.legend.visible&&(this.legend.calcrect(),this.legend.draw());k.view3d&&!this.__webgl&&(d.y+=k._orthoy,d.height-=k._orthoy,d.width-=k._orthox);b=this.axes;if(this.series.anyUsesAxes()&&(b.each(y.adjustRect),b.each(y.calcRect),this.walls.visible&&l&&this.walls.draw(d,
this.aspect),b.visible&&f)){if(0<b.transparency){var m=a.globalAlpha;a.globalAlpha=(1-b.transparency)*m}d=a.beginParent;b.visual=d?a.beginParent():null;b.each(y.draw);d&&a.endParent();0<b.transparency&&(a.globalAlpha=m)}this.series.draw();this.tools.draw();this.zoom.active&&!this.zoom.touching&&this.zoom.draw();if(this.ondraw)this.ondraw(this);this.isNLc=!1};this.toImage=function(a,b,d){if(a=document.getElementById(a))a.src=""!==b?this.canvas.toDataURL(b,d):this.canvas.toDataURL()}};Tee.CustomBar=
function(b,c){Tee.Series.call(this,b,c);this.sideMargins=100;this.useOrigin=!0;this.origin=0;this.continuous=!1;this.marks.visible=!0;this.marks.location="end";this.hover.enabled=!0;this.offset=0;this.barSize=70;this.barStyle="bar";var a=1,e=this.format;e.fill="";e.stroke.fill="black";e.shadow.visible=!0;e.round.x=4;e.round.y=4;e.gradient.visible=!0;e.depth=1;this.stacked="no";this.drawBar=function(a,b){var d=e.depth,c=e.z,f=this.chart.ctx;b||(b=this.barStyle);e.depth=.5*Math.min(this.yMandatory?
a.width:a.height,200)/100;return 0<a.width&&0<a.height?("side"!==this.stacked&&(e.z+=.5*(1-e.depth)),"bar"===b?e.cube(a):"line"===b?(f.beginPath(),f.z=e.z+.5*e.depth,this.yMandatory?(b=a.x+.5*a.width,f.moveTo(b,a.y),f.lineTo(b,a.y+a.height)):(b=a.y+.5*a.height,f.moveTo(a.x,b),f.lineTo(a.x+a.width,b))):"cylinder"===b?e.cylinder(a,1,this.yMandatory):"cone"===b?e.cylinder(a,0,this.yMandatory):"ellipsoid"===b&&this.chart.__webgl?(f.depth=e.depth,f.z=e.z,f.image=this.image,f.ellipsoid(a,this.yMandatory)):
(e.z+=.5*e.depth,e.ellipsePath(this.chart.ctx,a.x+.5*a.width,a.y+.5*a.height,a.width,a.height)),e.depth=d,e.z=c,!0):!1};this.countAll=function(a){var b=this.chart.series.items,d=0,c=b.length,e;for(e=0;e<c;e++){var f=b[e];if(f==this&&a)break;else f.visible&&f.constructor==this.constructor&&(d+=f.data.values.length)}return d};var d=new g,f,k=new n,h={total:0,index:0};this._margin=0;this.calcBarOffset=function(a){var b="sideAll"==this.stacked;this.countall=b?this.countAll(!0):0;b=b?this.countAll():this.data.values.length;
this.notmandatory.dateTime?1<b&&(a/=b):(a=this.notmandatory.endPos-this.notmandatory.startPos,a/=Math.round(a/this.notmandatory.scale)+1);"no"==this.stacked?(a/=h.total,d.x=a*this.barSize*.01*(1==h.total?-.5:h.index-.5*h.total),b=h.total):(d.x=.5*-a,b=1);d.y=a*this.barSize*.01;this._margin=.5*b*d.y+this.sideMargins*b*(a-d.y)*.005;"no"!=this.stacked&&(d.x+=this.offset*a*.01+.5*(a-d.y))};this.calcStackPos=function(a,b){if(this.isStacked){this.calcStack(a,b,this.data.values[a]);b=this.pointOrigin(a,
!1);var d=this.mandatoryAxis;this.isStack100?(a=this.pointOrigin(a,!0),f=0===a?d.endPos:d.calc(100*b/a)):f=d.calc(b)}else this.calc(a,b),"sideAll"==this.stacked&&(a=this.notmandatory.calc(this.countall+a),this.yMandatory?b.x=a:b.y=a)};var v=!1;this.drawSortedValues=function(b){var d=this.sortedOptions.sortedDrawAnimation;if(this.sortedOptions.sorted!=b&&!this.sortedOptions.sorting&&d&&!d.running){this.sortedOptions.sorted=b;this.sortedOptions.sorted&&this.sortValues();var c=this.sortedOptions.sorted?
this.sortedOptions.originalValues.slice():this.sortedOptions.sortedValues.slice(),e=this.data.values,f=this.sortedOptions.sorted?this.sortedOptions.sortedValues.slice():this.sortedOptions.originalValues.slice(),k=this,l=this.sortedOptions;d.chart=this.chart;"horizontalchange"==l.sortingAnimationType?(d.doStep=function(b){1>b&&(a=b,k.draw())},d.onstop=function(){a=1;if(l.sorted)for(var b=0;b<c.length;b++)e[b]=f[b]},d.onstart=function(){if(!l.sorted)for(var a=0;a<c.length;a++)e[a]=f[a]}):(d.doStep=
function(a){if(1>a)for(var b=0;b<c.length;b++)e[b]=c[b]+(f[b]-c[b])*a},d.onstop=function(){a=1;for(var b=0;b<c.length;b++)e[b]=f[b];d.running=!1},d.onstart=function(){d.running=!0});d.animate();this.data.labels=this.sortedOptions.sorted?this.sortedOptions.sortedLabels.slice():this.sortedOptions.originalLabels.slice();this.chart.draw()}};this.draw=function(){var b=this.data.values.length;if(0<b){this.initOffsets();var c=new g,h=this.chart.ctx;this.hover.enabled||(e.stroke.prepare(),e.shadow.prepare(h));
var m=this.hover.enabled,w="line"===this.barStyle,n=this.data.styles;m&&null!=this.format.image.url&&(this.hover.image.url=this.format.image.url,this.hover.image.repeat=this.format.image.repeat,this.hover.image.backFill=this.format.image.backFill);for(var x=e.z=0;x<b;x++)if(!this.isNull(x)){this.calcStackPos(x,c);var z=new Tee.Point;1>a&&(this.calcStackPos(this.sortedOptions.sortedValuesIndices.findIndex(function(a){return a==x}),z),c.x=this.sortedOptions.sorted?(-c.x+z.x)*a+c.x:(c.x-z.x)*a+z.x);
if(this.onbeforedrawPoint)this.onbeforedrawPoint(x);this.calcBarBounds(c,k,d,f instanceof Array?f[x]:f);this.barRectangle=k;z=this.drawBar(k,n?n[x]:null);var r=m&&this.over==x,q=r?this.hover:e;h.fillStyle=this.getFillStyle(k,this.getFill(x,""===q.fill?e:q));this.format.gradient.visible||(q.fill=h.fillStyle);m&&q.shadow.prepare(h);r&&(null==this.format.image.url||v?h.fill():(v=!0,e.draw(h,null,k)));z&&(q.draw(h,null,k),w||""!==q.stroke.fill)&&(m&&q.stroke.prepare(),!r&&w&&(h.strokeStyle=h.fillStyle),
h.shadowColor="transparent",h.stroke(),q.shadow.visible&&(h.shadowColor=q.shadow.color))}}};this.calcColorEach=function(){this.chart.series.visibleCount(this,Tee.CustomBar,h);this.isColorEach="yes"==this.colorEach||"auto"==this.colorEach&&1==h.total};this.initOffsets=function(){var a=this.notmandatory,b=this.mandatoryAxis,d=this.yMandatory?this.maxXValue()-this.minXValue():this.maxYValue()-this.minYValue();"sideAll"==this.stacked?this.calcBarOffset(a.axisSize):this.calcBarOffset(0===d?a.axisSize:
a.calcSize(d));if(this.useOrigin)if(this.origin instanceof Array)for(f=[],a=0;a<this.origin.length;a++)f[a]=b.calc(this.origin[a]);else f=b.calc(this.origin);else f=this.yMandatory?b.inverted?b.startPos:b.endPos:b.inverted?b.endPos:b.startPos;b=this.stacked;this.isStacked="no"!==b&&"sideAll"!==b&&"side"!==b;this.isStack100="100"===b};this.clicked=function(a){this.initOffsets();var b=new g,c=this.data.values.length,e;for(e=0;e<c;e++)if(!this.isNull(e)&&(this.calcStackPos(e,b),this.calcBarBounds(b,
k,d,f instanceof Array?f[e]:f),k.contains(a)))return e;return-1};this.markPos=function(a,b){var c=this.yMandatory,e=d.x+.5*d.y,l=this.marks;this.calcStackPos(a,b);if("sideAll"==this.stacked){var h=this.notmandatory.calc(this.countall+a);c?b.x=h:b.y=h}h=this.useOrigin&&this.data.values[a]<(this.origin instanceof Array?this.origin[a]:this.origin);this.mandatoryAxis.inverted&&(h=!h);"center"==l.location&&(this.calcBarBounds(b,k,d,f instanceof Array?f[a]:f),l.canDraw(b.x,b.y,a,h)&&(c?b.y=k.y+.5*k.height+
.5*l.bounds.height:b.x=k.x+.5*k.width-.5*l.bounds.width));a=this.chart.aspect;l=a.view3d;var g=0,v=0;l&&a.orthogonal&&(g=.5*a._orthox,v=.5*a._orthoy);c?(b.x+=l?e+g:e,l&&(b.y-=v)):(b.y+=l?e-v:e,l&&(b.x+=g));return h};this.labelOrTitle=function(a){var b=this.title,d=this.data.labels[a];return 1<h.total?b||d:this.parent.labelOrTitle(a)};this.initZ=function(a,b){var d=this.format;if("side"!==this.stacked)for(d.z=0,d.depth=1;1<a;){if(a--,b=this.chart.series.items[a],b.visible&&b.constructor==this.constructor){d.z=
b.z;d.depth=b.depth;break}}else Tee.Series.prototype.initZ.call(this,a,b);this.marks.format.z=d.z+.5*d.depth}};Tee.CustomBar.prototype=new Tee.Series;Tee.CustomBar.prototype.parent=Tee.Series.prototype;Tee.CustomBar.constructor=Tee.CustomBar;Tee.Bar=function(b,c){Tee.CustomBar.call(this,b,c);this.calc=function(a,b){this.isStacked?this.calcStack(a,b,this.data.values[a]):this.parent.calc.call(this,a,b)};this.horizMargins=function(a){this.initOffsets();a.x=this._margin;a.y=this._margin};this.vertMargins=
function(a){var b=this.marks,d=this.format.stroke,c=this.minYValue()<(this.origin instanceof Array?L(this.origin):this.origin);b.visible&&"center"!==b.location&&(a.y=b.arrow.length+b.format.textHeight("Wj")+b.margins.top+b.margins.bottom,d=b.format.stroke);""!==d.fill&&(a.y+=2*d.size+1);c&&(a.x=a.y)};this.maxXValue=function(){return"sideAll"===this.stacked?this.countAll()-1:this.parent.maxXValue.call(this)};this.minYValue=function(){var a=this.parent.minYValue.call(this);return this.useOrigin?Math.min(this.origin instanceof
Array?L(this.origin):this.origin,a):a};this.maxYValue=function(){if("sideAll"===this.stacked||"side"===this.stacked){var a=0,b=this.chart.series.items,d=b.length,c;for(c=0;c<d;c++){var k=b[c];k.visible&&k.constructor===this.constructor&&(k=k.parent.maxYValue.call(k),k>a&&(a=k))}return a}return this.stackMaxValue()};this.calcBarBounds=function(a,b,d,c){b.x=a.x+d.x;b.width=d.y;this._vertAxis.inverted?(b.y=c,b.height=a.y-b.y):(b.y=a.y,b.height=c-a.y);0>b.height&&(b.y+=b.height,b.height=-b.height)}};
Tee.Bar.prototype=new Tee.CustomBar;Tee.Bar.prototype.parent=Tee.CustomBar.prototype;Tee.HorizBar=function(b,c){Tee.CustomBar.call(this,b,c);this.yMandatory=!1;this.format.gradient.direction="rightleft";this.maxMarkWidth=function(){var a=0,b,d=this.marks,c=this.count();if(d.visible){var k=this.marks.format;k.font.prepare();for(b=0;b<c;b+=d.drawEvery)if(!this.isNull(b)){var h=k.textWidth(this.markText(b)+"W");h>a&&(a=h)}}return a};this.horizMargins=function(a){var b=this.marks,d=this.format.stroke,
c=this.minXValue()<this.origin;b.visible&&"center"!==b.location&&(a.y=b.arrow.length+this.maxMarkWidth()+b.margins.left+b.margins.right,d=b.format.stroke);""!==d.fill&&(a.y+=2*d.size+1);c&&(a.x=a.y)};this.vertMargins=function(a){this.initOffsets();a.x+=this._margin;a.y+=this._margin};this.maxYValue=function(){return"sideAll"==this.stacked?this.countAll()-1:this.parent.maxXValue.call(this)};this.minYValue=function(){return"sideAll"==this.stacked?0:this.parent.minXValue.call(this)};this.minXValue=function(){var a=
this.parent.minYValue.call(this);return this.useOrigin?Math.min(this.origin,a):a};this.maxXValue=function(){return this.stackMaxValue()};this.calcBarBounds=function(a,b,d,c){b.y=a.y+d.x;b.height=d.y;this._horizAxis.inverted?(b.x=a.x,b.width=c-a.x):(b.x=c,b.width=a.x-b.x);0>b.width&&(b.x+=b.width,b.width=-b.width)}};Tee.HorizBar.prototype=new Tee.CustomBar;Tee.HorizBar.prototype.parent=Tee.CustomBar.prototype;Tee.Bullet=function(b,c){function a(a,b){var d=0;if(0<a.values.length){a.barStates.push(e(a.values[0],
d+b,a.barSize,a.colors[0],a.colors[0],a.gradientVisible));d+=a.values[0];for(var c=1;c<a.values.length;c++)a.barStates.push(e(a.values[c],d+b,a.barSize,a.colors[(c-1)%a.colors.length],a.colors[c%a.values.length],a.gradientVisible)),d+=a.values[c]}}function e(a,b,c,e,g,l){a=new Tee.HorizBar([a+b]);a.stacked="side";a.origin=b;a.barSize=c;a.marks.visible=!1;a.format.round.x=0;a.format.round.y=0;a.format.gradient.colors=[e,g];l?(a.format.gradient.direction="leftright",a.format.gradient.visible=!0):(a.format.gradient.visible=
!1,a.format.fill=g,a.palette.colors=[g]);a.format.shadow.visible=!1;a.format.stroke.fill="rgba(0,0,0,0.0)";return a}Tee.HorizBar.call(this,[b[0]],c?[c[0]]:[]);this.barSize=25;this.limit={origin:38,width:.2,height:35,color:"red",bar:null};this.marks.visible=!1;this.states={colors:["#111","#444","#777","#BBB","#EEE"],values:[10,10,10,10,10],barStates:[],barSize:50,gradientVisible:!1};a(this.states,this.origin);this.minValue=function(){return 1<=this.states.barStates.length?this.states.barStates[0].origin:
0};this.maxValue=function(){return 1<=this.states.barStates.length?this.states.barStates[this.states.barStates.length-1].data.values[0]:0};this.parentDraw=this.draw;this.draw=function(){var b=this.minValue();var c=this.maxValue();this.chart.zoom.reset=function(){this.chart.axes.each(function(){this.automatic=!0});this.chart.axes.bottom.setMinMax(b,c)};this.states.barStates=[];a(this.states,this.origin);for(var k=0;k<this.states.barStates.length;k++)this.chart&&this.states.barStates[k].setChart(this.states.barStates[k],
this.chart),this.states.barStates[k].draw();this.limit.bar=e(this.limit.width,this.limit.origin+this.origin,this.limit.height,this.limit.color,this.limit.color,!1);this.limit.bar.setChart(this.limit.bar,this.chart);this.limit.bar.draw();this.parentDraw()}};Tee.Bullet.prototype=new Tee.HorizBar;Tee.Bullet.prototype.parent=Tee.HorizBar.prototype;Tee.CustomSeries=function(b,c){Tee.Series.call(this,b,c);this.stacked="no";this.invertedStairs=this.stairs=!1;this.continuous=!0;this.clickTolerance=3;this.hover.enabled=
!0;this.isStack100=this.isStacked=this.hover.line=!1;this.smooth=0;this.pointer=new function(a,b){this.setChart=function(a){this.chart=a;this.format.setChart(a)};this.chart=a;this.inflateMargins=!0;a=this.format=new Tee.Format(a);a.shadow.visible=!1;a.fill="";a.gradient.colors=["white","white","white"];a.gradient.visible=!0;a.shadow.visible=!0;this.colorEach=this.visible=!1;this.style="rectangle";this.height=this.width=12;this.draw=function(a,c,e,h){var d=this.chart.ctx;e.z=b.format.z;this.transform&&
(d.save(),this.transform(a.x,a.y,c));c=.5*this.width;var f=.5*this.height;"cube"==this.style?(a={x:a.x-c,y:a.y-f,width:this.width,height:this.height},h=Math.max(c,f)/50,e.z=.5*(b.format.z+b.format.depth)-.5*h,e.depth=h,e.cube(a),e.draw(d,null,a)):"rectangle"==this.style?e.rectangle(a.x-c,a.y-f,this.width,this.height):"ellipse"==this.style?e.ellipse(a.x,a.y,this.width,this.height):"sphere"==this.style?(e.depth=b.format.depth,e.sphere(a.x,a.y,this.width,this.height)):"cylinder"==this.style?(a={x:a.x-
c,y:a.y-f,width:this.width,height:this.height},h=e.gradient,c=h.direction,f=h.colors.slice(0),h.direction="leftright",h.colors=[h.colors[1],h.colors[0],h.colors[1]],e.cylinder(a,1,!0),e.draw(d,null,a),h.direction=c,h.colors=f):"cone"==this.style?(a={x:a.x-c,y:a.y-f,width:this.width,height:this.height},e.cylinder(a,0,!0),e.draw(d,null,a)):"triangle"==this.style?e.polygon([new g(a.x,a.y-f),new g(a.x-c,a.y+f),new g(a.x+c,a.y+f)]):"downtriangle"==this.style?e.polygon([new g(a.x,a.y+f),new g(a.x-c,a.y-
f),new g(a.x+c,a.y-f)]):"diamond"==this.style?e.polygon([new g(a.x,a.y-f),new g(a.x-c,a.y),new g(a.x,a.y+f),new g(a.x+c,a.y)]):(d.beginPath(),"cross"==this.style&&(d.moveTo(a.x-c,a.y),d.lineTo(a.x+c,a.y),d.moveTo(a.x,a.y-f),d.lineTo(a.x,a.y+f)),"x"==this.style&&(d.moveTo(a.x-c,a.y-f),d.lineTo(a.x+c,a.y+f),d.moveTo(a.x-c,a.y+f),d.lineTo(a.x+c,a.y-f)),e.stroke.prepare(h),d.stroke());this.transform&&d.restore()};this.setSize=function(a){this.height=this.width=a}}(this.chart,this);this.maxYValue=function(){return this.stackMaxValue()};
this.calc=function(a,b){this.isStacked?this.calcStack(a,b,this.data.values[a]):Tee.Series.prototype.calc.call(this,a,b)};this.calcColorEach=function(){this.isColorEach="yes"==this.colorEach||this.pointer.colorEach||"yes"==this.colorEachLine||1==this.colorEachLine};this.initZ=function(a,b){var d=this.format;if("no"!==this.stacked)for(d.z=0,d.depth=1;1<a;){if(a--,b=this.chart.series.items[a],b.visible&&b.constructor==this.constructor){d.z=b.z;d.depth=b.depth;break}}else Tee.Series.prototype.initZ.call(this,
a,b);this.marks.z=d.z+.5*d.depth}};Tee.CustomSeries.prototype=new Tee.Series;Tee.CustomSeries.prototype.drawPointers=function(){var b=this.data.values.length,c=this.pointer.format,a="yes"==this.colorEach||this.pointer.colorEach;a||""!==c.fill||(c.fill=this.format.fill);var e=new g,d=c.gradient,f,k=c.fill,h=k;!a&&d.visible&&d.setEndColor(k);for(f=0;f<b;f++)if(!this.isNull(f)){this.calc(f,e);k=this.getFill(f,c);k!=h&&(d.visible?d.setEndColor(k):c.fill=k,h=k);this.getSize(f);if(this.onbeforedrawpointer)this.onbeforedrawpointer(f,
this.pointer);this.pointer.draw(e,f,c,k);this.hover.enabled&&this.over==f&&this.pointer.draw(e,f,this.hover,k)}a&&(c.fill=h)};Tee.CustomSeries.prototype.setChart=function(b,c){var a=Tee.Series.prototype.setChart;a(b,c);b.pointer.setChart(c)};Tee.CustomSeries.prototype.clicked=function(b){var c=new g,a=new g,e=this.data.values.length,d;if(this.drawLine&&0<e&&(this.hover.line||!this.pointer.visible))for(this.calc(0,c),d=1;d<e;d++){this.calc(d,a);if(this.stairs){var f=this.invertedStairs?new g(a.x,c.y):
new g(c.x,a.y);if(m(b,c,f,this.clickTolerance)||m(b,f,a,this.clickTolerance))return d}else if(m(b,c,a,this.clickTolerance))return d;c.x=a.x;c.y=a.y}if(this.pointer.visible)for(c=new n,a=this.pointer,d=e-1;0<=d;d--)if(!this.isNull(d)&&(this.calc(d,c),this.getSize(d),c.x-=.5*a.width,c.width=a.width,c.y-=.5*a.height,c.height=a.height,c.contains(b)))return d;return-1};Tee.CustomSeries.prototype.horizMargins=function(b){var c=this.pointer,a=c.format.stroke;c.visible&&c.inflateMargins&&(b.x=b.y=(""!==a.fill?
a.size:0)+1+.5*c.width)};Tee.CustomSeries.prototype.vertMargins=function(b){var c=this.pointer,a=c.format.stroke;c.visible&&c.inflateMargins&&(b.x=b.y=(""!==a.fill?a.size:0)+1+.5*c.height)};Tee.CustomSeries.prototype.getSize=function(){};Tee.Line=function(b,c){Tee.CustomSeries.call(this,b,c);this.drawLine=!0;this.treatNulls="dontPaint";this.colorEachLine="no";var a=this.format;a.shadow.visible=!0;a.shadow.blur=10;a.lineCap="round";this.doDrawLine=function(b){var d=new g,c=this.data.values.length,
e,h=0,v=c,l=this.notmandatory;this.smooth||this.data.x||(h=Math.max(0,(l.minimum|0)-1),v=Math.min(c,(l.maximum|0)+2));l=this.chart.aspect.view3d;var p="yes"==this.colorEachLine||1==this.colorEachLine;a.fill=this.getFill(0,a);p||""!==a.fill||(a.fill=this.format.fill);b.beginPath();if(0<this.smooth&&"undefined"!==typeof Tee.drawSpline){var t=Array(2*c);for(e=0;e<c;e++)this.calc(e,d),t[2*e]=d.x,t[2*e+1]=d.y;b.spline?b.spline(t):Tee.drawSpline(b,t,this.smooth,!0)}else{c="skip"!==this.treatNulls;var m=
a.gradient,w=a.stroke.fill,n=w;!p&&m.visible&&m.setEndColor(a.stroke.fill);e=a.stroke;e.prepare(e.fill);for(e=h;e<v;e++)if(this.isNull(e))c&&(h=-1);else{this.calc(e,d);p?(p&&e!=h&&b.beginPath(),w=this.getFill(e,a),w!=n&&(m.visible?m.setEndColor(w):a.fill=w,n=w),e==h||-1===h?(b.moveTo(d.x,d.y),h=0):(this.stairs?this.invertedStairs?(b.moveTo(t,x),b.lineTo(d.x,x)):(b.moveTo(t,x),b.lineTo(t,d.y)):b.moveTo(t,x),b.lineTo(d.x,d.y)),b.strokeStyle=w,b.stroke()):e==h||-1===h?(b.moveTo(d.x,d.y),h=0):(this.stairs&&
(this.invertedStairs?b.lineTo(d.x,x):b.lineTo(t,d.y)),b.lineTo(d.x,d.y));t=d.x;var x=d.y;p&&e!=h&&b.closePath()}}t=a.stroke;this.chart.isChrome&&a.shadow.visible&&(t.size=Math.max(1.1,t.size));b.z=a.z;b.depth=a.depth;d=t.fill;""===d&&(d=a.fill);t.prepare(d);a.shadow.prepare(b);l&&(b.fillStyle=a.fill,b.fill());p||""!==d&&b.stroke()};this.draw=function(){0<this.data.values.length&&(this.isStacked="no"!=this.stacked,this.isStack100="100"==this.stacked,this.drawLine&&this.doDrawLine(this.chart.ctx),this.pointer.visible&&
this.drawPointers())}};Tee.Line.prototype=new Tee.CustomSeries;Tee.PointXY=function(b,c){Tee.Line.call(this,b,c);this.hover.enabled=!0;this.pointer.visible=!0;this.drawLine=!1};Tee.PointXY.prototype=new Tee.Line;Tee.Series.prototype.cellRect=function(b,c,a){var e={total:0,index:-1};b.setFrom(this.chart.chartRect);this.chart.series.visibleCount(this,a,e);if(c&&1<e.total){c=Math.round(Math.sqrt(e.total));a=Math.round(e.total/c);if(b.width>b.height){var d=c;c=a;a=d}b.width/=c;b.x+=e.index%c*1.03*b.width;
b.height/=a;b.y+=1.03*(e.index/c|0)*b.height;b.width*=.94;b.height*=.94}return b};Tee.Pie=function(b,c){function a(a,b){b.x=l.x+Math.cos(a)*v;b.y=l.y+Math.sin(a)*v}Tee.Series.call(this,b,c);this.marks.style="percent";this.rotation=this.donut=0;this.colorEach="yes";this.continuous=this.useAxes=!1;this.angleWidth=360;this.maxRadius=100;var e=this.format;e.stroke.fill="black";e.shadow.visible=!0;e.gradient.visible=!0;e.gradient.direction="radial";e.gradient.colors=["white","white","white"];this.hover.enabled=
!0;this.sort="values";this.orderAscending=!1;this.explode=null;this.marks.visible=!0;this.concentric=!1;this.clockwise=!0;this.getValue=function(a){return this.data.values[a]};this.calcCenter=function(a,b,d,c){this.explode&&(a=this.explode[a])&&(a=b*a*.01,c.x+=a*Math.cos(d),c.y+=a*Math.sin(d))};this.clicked=function(a){var b=this.chart.ctx,d=this.data.values.length,c;if(b.isPointInPath)for(m=t=Math.PI*this.rotation/180,c=0;c<d;c++){var e=p?p[c]:c;if(!this.isNull(e)&&(this.slice(b,e),b.isPointInPath(a.x,
a.y)))return e}return-1};var d,f,k,h,v,l={x:0,y:0},p,t,m,w;this.getCenter=function(a){a.x=l.x;a.y=l.y;return h};this.slice=function(b,c){var p=new g,n=Math.abs(this.data.values[c])/d*Math.PI*2/(360/this.angleWidth);m+=this.clockwise?n:-n;l.x=f;l.y=k;this.calcCenter(c,h,.5*(t+m),l);0===this.donut?(p.x=l.x,p.y=l.y):a(t,p);this.chart.__webgl?(a(2*Math.PI-t,p),b.slice(p,l,h,t,m,v,e.tube,e.beveled)):(b.beginPath(),b.moveTo(p.x,p.y),b.arc(l.x,l.y,h,t,m,!this.clockwise),0!==this.donut&&(a(m,p),b.lineTo(p.x,
p.y),b.arc(l.x,l.y,v,m,t,this.clockwise)),b.closePath());c==this.over&&(w=t);t=m};this.fill=function(a){return this.getFillStyle(new Tee.Rectangle(l.x-h,l.y-h,2*h,2*h),this.getFill(a))};this.slices=function(a){var b=this.chart.ctx,d=this.data.values.length,c;m=t=Math.PI*this.rotation/180;b.z=.5;b.depth=1;for(c=0;c<d;c++){var f=p?p[c]:c;if(this.onbeforedrawPoint)this.onbeforedrawPoint(f);this.isNull(f)||(this.slice(b,f),a?e.shadow.prepare(b):b.fillStyle=this.fill(f),b.fill(),a||(f=e.stroke,""!==f.fill&&
(f.prepare(),b.stroke())))}};var G=new n;this.draw=function(){if(0<this.data.values.length){var a=0,b=this.marks;e.shadow.visible&&(a+=2*e.shadow.height);b.visible&&(b.format.font.prepare(),a+=b.format.textHeight("Wj")+.5*b.arrow.length);this.cellRect(G,!this.concentric,Tee.Pie);f=G.x+.5*G.width;k=G.y+.5*G.height;h=.5*G.width;a=.5*(G.height-2*a);0>a&&(a=0);a<h&&(h=a);v=h*this.donut*.01;h/=100/this.maxRadius;d=S(this.data.values);p=this.doSort(this.sort,this.orderAscending);this.chart.__webgl||this.slices(!0);
this.slices(!1);this.hover.enabled&&-1!=this.over&&(a=this.hover,""!==a.stroke.fill&&(m=t=w,b=this.chart.ctx,this.slice(b,this.over),b.fillStyle=this.fill(this.over),a.draw(b,null,G)))}};this.drawMarks=function(){var a=Math.PI*this.rotation/180,b=a,c=this.data.values,e=c.length,g;this.marks.format.z=.5;for(g=0;g<e;g+=this.marks.drawEvery){var v=p?p[g]:g;if(!this.isNull(v)){var t=Math.abs(c[v])/d*Math.PI*2;a+=this.clockwise?t:-t;b=.5*(b+a);l.x=f;l.y=k;this.calcCenter(g,h,b,l);this.marks.drawPolar(l,
h,b,v);b=a}}}};Tee.Pie.prototype=new Tee.Series;Tee.Area=function(b,c){Tee.CustomSeries.call(this,b,c);this.useOrigin=!1;this.origin=0;this.closeArea=this.drawLine=!0;var a=this.format;a.shadow.visible=!0;a.lineCap="round";a.stroke.fill="black";a.fill="";a.beveled=!0;a.depth=1;a.z=.5;var e=new n;this.draw=function(){var b=this.data.values.length;if(0<b){var c=this.mandatoryAxis,k=this.notmandatory,h=this.yMandatory;var v=this.useOrigin?c.calc(this.origin):h&&c.inverted||!h&&!c.inverted?c.startPos:
c.endPos;this.isStacked="no"!=this.stacked;this.isStack100="100"==this.stacked;var l=new g,p;c=this.chart.ctx;var t=this.isStacked,m=0,w=b;this.smooth||this.data.x||(m=Math.max(0,(k.minimum|0)-1),w=Math.min(b,(k.maximum|0)+2));c.depth=a.depth;c.z=a.z;c.beginPath();if(0<this.smooth&&"undefined"!==typeof Tee.drawSpline){var n=Array(2*b);for(p=0;p<b;p++)this.calc(p,l),n[2*p]=l.x,n[2*p+1]=l.y;k=h?n[0]:n[1];c.spline?c.spline(n,!0):Tee.drawSpline(c,n,this.smooth,!0);if(t){var x=0;for(p=b-1;0<=p;p--)this.calcStack(p,
l,0),n[x++]=l.x,n[x++]=l.y;c.lineTo(n[0],n[1]);c.spline?c.spline(n,!0):Tee.drawSpline(c,n,this.smooth,!1)}}else{this.calc(m,l);c.moveTo(l.x,l.y);k=h?l.x:l.y;var q=h?l.y:l.x;if(this.stairs)for(p=m+1;p<w;p++)this.calc(p,l),c.lineTo(l.x,q),c.lineTo(l.x,l.y),q=h?l.y:l.x;else for(p=m+1;p<w;p++)this.calc(p,l),c.lineTo(l.x,l.y)}if(t){if(0===this.smooth)for(p=w-1;p>=m;p--)this.calcStack(p,l,0),this.stairs?(c.lineTo(l.x,q),c.lineTo(l.x,l.y),q=h?l.y:l.x):c.lineTo(l.x,l.y)}else if(h)if(this.closeArea)c.lineTo(l.x,
v),c.lineTo(k,v);else var r=l;else c.lineTo(v,l.y),c.lineTo(v,k);if(!this.closeArea){var u=a.stroke;u.prepare(u.fill);c.stroke();c.lineTo(r.x,v);c.lineTo(k,v);u=a.stroke.fill;a.stroke.fill="#00FF0000"}c.closePath();r=a.gradient;r.visible&&(r.colors[r.colors.length-1]=a.fill);this.bounds(e);c.__webgl&&(c.beveled=a.beveled);a.draw(c,null,e);this.closeArea||(a.stroke.fill=u);this.pointer.visible&&this.drawPointers()}};this.minYValue=function(){var a=this.yMandatory?Tee.Series.prototype.minYValue.call(this):
Tee.Series.prototype.minXValue.call(this);return this.yMandatory?this.useOrigin?Math.min(a,this.origin):a:a};this.minXValue=function(){var a=this.yMandatory?Tee.Series.prototype.minXValue.call(this):Tee.Series.prototype.minYValue.call(this);return this.yMandatory?a:this.useOrigin?Math.min(a,this.origin):a};this.maxYValue=function(){var a=this.yMandatory?this.stackMaxValue():Tee.Series.prototype.maxXValue.call(this);return this.yMandatory?this.useOrigin?Math.max(a,this.origin):a:a};this.maxXValue=
function(){var a=this.yMandatory?Tee.Series.prototype.maxXValue.call(this):this.stackMaxValue();return this.yMandatory?a:this.useOrigin?Math.max(a,this.origin):a};this.vertMargins=function(b){this.yMandatory&&""!==a.stroke.fill&&(b.y+=a.stroke.size+2)};this.horizMargins=function(b){this.yMandatory||""===a.stroke.fill||(b.y+=a.stroke.size+2)}};Tee.Area.prototype=new Tee.CustomSeries;Tee.HighLowBar=function(b,c){Tee.CustomSeries.call(this,b,c);this.useOrigin=!1;this.origin=0;this.closeArea=this.drawLine=
!0;var a=this.format;a.shadow.visible=!0;a.lineCap="round";a.stroke.fill="black";a.fill="";a.beveled=!0;b=this.maxmin=new Tee.Format(a.chart);b.shadow.visible=!1;b.lineCap="round";b.stroke.fill="red";b.fill="";b.beveled=!0;a.depth=1;a.z=.5;this.data.lows=[];this.addRandom=function(a){var b=this.data;a||(a=5);b.values.length=a;b.x=null;b.lows=[];b.lows.length=a;if(0<a)for(var c=0;c<a;c++)b.values[c]=1E3*Math.random(),b.lows[c]=50+150*Math.random()};this.calcLows=function(a,b){this.isStacked?this.calcStack(a,
b,this.data.lows[a]):Tee.Series.prototype.calc.call(this,a,b)};var e=new n;this.draw=function(){var b=this.data.values.length;if(0<b){var c=this.mandatoryAxis,k=this.notmandatory,h=this.yMandatory;var v=this.useOrigin?c.calc(this.origin):h&&c.inverted||!h&&!c.inverted?c.startPos:c.endPos;this.isStacked="no"!=this.stacked;this.isStack100="100"==this.stacked;var l=new g,p;c=this.chart.ctx;var t=this.isStacked,m=0,n=b;this.smooth||this.data.x||(m=Math.max(0,(k.minimum|0)-1),n=Math.min(b,(k.maximum|0)+
2));c.depth=a.depth;c.z=a.z;var G=[];k=[];var x=0;c.beginPath();if(0<this.smooth&&"undefined"!==typeof Tee.drawSpline){x=Array(2*b);for(p=0;p<b;p++)this.calc(p,l),x[2*p]=l.x,x[2*p+1]=l.y;var q=h?x[0]:x[1];c.spline?c.spline(x,!0):Tee.drawSpline(c,x,this.smooth,!0);if(t){var r=0;for(p=b-1;0<=p;p--)this.calcStack(p,l,0),x[r++]=l.x,x[r++]=l.y;c.lineTo(x[0],x[1]);c.spline?c.spline(x,!0):Tee.drawSpline(c,x,this.smooth,!1)}}else{this.calc(m,l);c.moveTo(l.x,l.y);q=h?l.x:l.y;var u=h?l.y:l.x;if(this.stairs)for(p=
m+1;p<n;p++)this.calc(p,l),c.lineTo(l.x,u),c.lineTo(l.x,l.y),u=h?l.y:l.x;else if(this.rects)for(p=m;p<n;p++)this.calc(p,l),b=this.mandatoryAxis.calc(this.data.lows[p]),r=this.notmandatory.calc(this.data.x[p+1]),c.rect(l.x,l.y,r-l.x,b-l.y),u=h?l.y:l.x,G[x]=new g(l.x,l.y),k[x]=new g(l.x,b),x++,G[x]=new g(r,l.y),k[x]=new g(r,b),x++;else for(p=m+1;p<n;p++)this.calc(p,l),c.lineTo(l.x,l.y)}if(t){if(0===this.smooth)for(p=n-1;p>=m;p--)this.calcStack(p,l,0),this.stairs?(c.lineTo(l.x,u),c.lineTo(l.x,l.y),u=
h?l.y:l.x):c.lineTo(l.x,l.y)}else h?this.closeArea&&(c.lineTo(l.x,v),c.lineTo(q,v)):(c.lineTo(v,l.y),c.lineTo(v,q));c.closePath();h=a.gradient;h.visible&&(h.colors[h.colors.length-1]=a.fill);this.bounds(e);c.__webgl&&(c.beveled=a.beveled);a.draw(c,null,e);c.beginPath();for(p=0;p<G.length;p++)c.lineTo(G[p].x,G[p].y);a.stroke.prepare(a.fill,c);c.stroke();h=a.stroke.fill;u=a.fill;v=a.stroke.size;a.stroke.fill="white";a.stroke.size=.75;a.fill="rgba(123,0,0,0.0)";a.draw(c,null,e);a.stroke.fill=h;a.fill=
u;a.stroke.size=v;c.beginPath();for(p=0;p<k.length;p++)c.lineTo(k[p].x,k[p].y);h=a.stroke.fill;u=a.fill;v=a.stroke.size;a.stroke.fill="white";a.stroke.size=.75;a.fill="rgba(123,0,0,0.0)";a.draw(c,null,e);a.stroke.fill=h;a.fill=u;a.stroke.size=v;a.stroke.prepare(a.fill,c);c.stroke();this.pointer.visible&&this.drawPointers()}};this.minYValue=function(){var a=this.yMandatory?Tee.Series.prototype.minYValue.call(this):Tee.Series.prototype.minXValue.call(this);return this.yMandatory?this.useOrigin?Math.min(a,
this.origin):a:a};this.minXValue=function(){var a=this.yMandatory?Tee.Series.prototype.minXValue.call(this):Tee.Series.prototype.minYValue.call(this);return this.yMandatory?a:this.useOrigin?Math.min(a,this.origin):a};this.maxYValue=function(){var a=this.yMandatory?this.stackMaxValue():Tee.Series.prototype.maxXValue.call(this);return this.yMandatory?this.useOrigin?Math.max(a,this.origin):a:a};this.maxXValue=function(){var a=this.yMandatory?Tee.Series.prototype.maxXValue.call(this):this.stackMaxValue();
return this.yMandatory?a:this.useOrigin?Math.max(a,this.origin):a};this.vertMargins=function(b){this.yMandatory&&""!==a.stroke.fill&&(b.y+=a.stroke.size+2)};this.horizMargins=function(b){this.yMandatory||""===a.stroke.fill||(b.y+=a.stroke.size+2)}};Tee.HighLowBar.prototype=new Tee.CustomSeries;Tee.HorizArea=function(b,c){Tee.Area.call(this,b,c);this.yMandatory=!1};Tee.HorizArea.prototype=new Tee.Area;Tee.Donut=function(b,c){var a=100,e=[];Tee.Pie.call(this,b,c);this.donut=50;this.refreshWidth=function(){if(this.concentric){e=
this.chart.series.items;for(var b=0,c=0,k=0;k<e.length;k++)e[k].visible&&b++;if(100==a)for(k=0;k<e.length;k++)e[k].donut<a&&(a=e[k].donut);for(k=0;k<e.length;k++)e[k].visible&&(e[k].donut=a+(100-a)/b*c,c++)}}};Tee.Donut.prototype=new Tee.Pie;Tee.ActivityGauge=function(b,c){function a(a,b,c,d,e){a=new Tee.Donut([a],[b]);a.concentric=!0;a.marks.visible=!1;a.format.shadow.visible=!1;a.format.gradient.visible=!1;a.donut=c;a.maxRadius=d;a.angleWidth=e;a.rotation=270;a.visible=!1;return a}function e(a,
b,c){var d=a.format,e=b.format;d.fill=b.chart.palette.colors[b.donutArray.length-1-c%b.chart.palette.colors.length];d.font.baseLine=e.font.baseLine;d.font.fill=e.font.fill;d.font.style=e.font.style;d.font.textAlign=e.font.textAlign;d.gradient.colors=[e.gradient.colors[0][c]];d.gradient.direction=e.gradient.direction;d.gradient.offset.x=e.gradient.offset.x;d.gradient.offset.y=e.gradient.offset.y;d.gradient.stops=e.gradient.stops;d.gradient.visible=e.gradient.visible;d.round.x=e.round.x;d.round.y=e.round.y;
d.shadow.blur=e.shadow.blur;d.shadow.color=e.shadow.color;d.shadow.height=e.shadow.height;d.shadow.visible=e.shadow.visible;d.shadow.width=e.shadow.width;d.stroke.fill=e.stroke.fill.slice(0);d.stroke.cap=e.stroke.cap;d.stroke.dash=e.stroke.dash;d.stroke.join=e.stroke.join;d.stroke.size=e.stroke.size;d.transparency=e.transparency;a.fill=function(a){return d.gradient.visible?d.gradient.colors:d.fill}}Tee.Donut.call(this,[],[]);this.data={values:null!=b?b:[],labels:null!=c?c:[]};this.donutArray=[];this.maxDrawWidth=
this.maxWidth=230;this.addRandom=function(a){for(var b=0;b<a;b++)this.add(Math.floor(20*Math.random()+10),String.fromCharCode(65+b));return this};this.maxValue=function(){for(var a=this.data.values[0],b=0;b<this.data.values.length;b++)a<this.data.values[b]&&(a=this.data.values[b]);return a};if(null!=b)for(var d=0;d<b.length;d++){var f=40+60*d/b.length,k=40+60*(d+1)/b.length,h=Math.abs(this.maxDrawWidth*b[b.length-1-d]/this.maxValue());this.donutArray.push(a(b[b.length-1-d],c[b.length-1-d],f,k,h))}this.clicked=
function(a){for(var b=-1,c=0;c<this.donutArray.length&&-1==b;)-1==b&&-1!=this.donutArray[c].clicked(a)&&(b=this.donutArray.length-c-1),c++;return b};this.recalcWidth=function(){for(var a=0;a<this.donutArray.length;a++)this.donutArray[a].donut=40+60*a/this.data.values.length,this.donutArray[a].maxRadius=40+60*(a+1)/this.data.values.length,this.donutArray[a].angleWidth=Math.abs(this.maxDrawWidth*this.data.values[this.data.values.length-1-a]/this.maxValue())};this.minValue=function(){for(var a=this.data.values[0],
b=0;b<this.data.values.length;b++)a>this.data.values[b]&&(a=this.data.values[b]);return a};this.add=function(b,c){var d=a(b,c,0,0,0);this.donutArray.push(d);this.data.values.push(b);this.data.labels.push(c);null!=this.chart&&this.linkDonutsToChart()};this.draw=function(){for(var a=0;a<this.donutArray.length;a++){var b=this.donutArray[a].chart.ctx;e(this.donutArray[a],this,a);b.fillStyle=this.donutArray[a].getFillStyle(this.donutArray[a].chart.chartRect,this.donutArray[a].format.fill);this.recalcWidth();
this.donutArray[a].draw()}};this.linkDonutsToChart=function(){for(var a=0;a<this.donutArray.length;a++)this.donutArray[a].setChart(this.donutArray[a],this.chart)}};Tee.ActivityGauge.prototype=new Tee.Donut;Tee.Gantt=function(b,c){Tee.Series.call(this,b,c);this.yMandatory=!1;this.dateFormat="mediumDate";this.hover.enabled=!0;this.hover.round.x=this.hover.round.y=8;this.nextTasks=[];this.nextTasksStrokeStyle="Black";this.nextTasksPosition="back";this.colorEach="yes";this.data.start=this.data.values;
this.data.x=[];this.data.end=[];this.height=70;this.margin=new g(6,6);this.continuous=!1;var a=this.format;a.shadow.visible=!0;a.round.x=a.round.y=8;a.stroke.fill="black";a.gradient.visible=!0;var e=new n,d;this.addNextTask=function(a,b){this.nextTasks.push([a,b])};this.addRandom=function(a){a||(a=5);var b=this.data;b.x.length=a;b.start.length=a;b.end.length=a;if(0<a)for(var c,d,e=0;e<a;e++)b.x[e]=e,c=12*Math.random()|0,d=10*Math.random()|0,b.start[e]=new Date(2012,c,d),5>c&&(c=5+(7*Math.random()|
0)),b.end[e]=new Date(2012,c,d+10*Math.random())};this.bounds=function(a,b){if(this.isNull(a))return!1;this.calc(a,b);b.y-=.5*d;b.width=this.data.end?this.mandatoryAxis.calcSize(this.data.end[a]-this.data.start[a]):0;b.height=d;return!0};this.add=function(a,b,c,d){var e=this.data;e.labels.push(b);e.x.push(a);e.start.push(c);e.end.push(d)};this.clicked=function(a){var b=this.data.values.length,c;for(c=0;c<b;c++)if(this.bounds(c,e)&&e.contains(a))return c;return-1};this.draw=function(){function b(a){for(var b=
0;b<a.nextTasks.length;b++)p.beginPath(),p.strokeStyle=a.nextTasksStrokeStyle,p.lineWidth=2,p.fillStyle="000000",m.push(Math.round(a.chart.axes.bottom.calc(a.data.end[a.nextTasks[b][0]]))),m.push(Math.round(a.chart.axes.left.calc(a.data.x[a.nextTasks[b][0]]))),m.push(Math.round(a.chart.axes.bottom.calc(a.data.start[a.nextTasks[b][1]]))),m.push(Math.round(a.chart.axes.left.calc(a.data.x[a.nextTasks[b][1]]))),p.moveTo(m[0],m[1]),p.lineTo(m[0]-(m[0]-m[2])/2,m[1]),p.lineTo(m[0]-(m[0]-m[2])/2,m[3]),p.lineTo(m[2],
m[3]),p.stroke(),m=[]}var c=this.data.values.length,h,g=this.hover,l=g.fill,p=this.chart.ctx,m=[];"back"==this.nextTasksPosition&&b(this);d=this.notmandatory.calcSize(.01*this.height);for(h=0;h<c;h++)if(this.bounds(h,e)){var n=g.enabled&&this.over===h?g:a;n.fill=this.getFillStyle(e,this.getFill(h,n));n.rectangle(e)}g.fill=l;"front"==this.nextTasksPosition&&b(this)};this.horizMargins=function(a){a.x=this.margin.x;a.y=this.margin.y};this.minYValue=function(){return this.parent.minXValue.call(this)-
.5};this.maxYValue=function(){return this.parent.maxXValue.call(this)+.5};this.minXValue=function(){return L(this.data.start)};this.maxXValue=function(){return N(this.data.end)}};Tee.Gantt.prototype=new Tee.Series;Tee.Gantt.prototype.parent=Tee.Series.prototype;Tee.Bubble=function(b,c){Tee.PointXY.call(this,b,c);b=this.pointer;b.colorEach=!0;b.style="sphere";b.format.gradient.visible=!0;b.format.gradient.direction="radial";this.inflate=!0;this.data.radius=[];this.addRandom=function(a){var b=this.data;
a||(a=5);b.values.length=a;b.x=null;b.radius=[];b.radius.length=a;if(0<a)for(var c=0;c<a;c++)b.values[c]=1E3*Math.random(),b.radius[c]=50+150*Math.random()}};Tee.Bubble.prototype.initZ=function(){this.parent.prototype.initZ.call(this);this.format.marks.z=this.format.z-1};Tee.Bubble.prototype=new Tee.PointXY;Tee.Bubble.prototype.getSize=function(b){b=this.data.radius?this._vertAxis.calcSize(this.data.radius[b]):0;this.pointer.width=b;this.pointer.height=b};Tee.Bubble.prototype.horizMargins=function(b){this.calcWidth=
function(b){this.getSize(b);b=1+.5*this.pointer.width;var a=this.pointer.format.stroke;""!==a.fill&&(b+=a.size);return b};this.pointer.visible&&this.inflate&&(b.x=this.calcWidth(0),b.y=this.calcWidth(this.count()-1))};Tee.Bubble.prototype.vertMargins=function(b){this.calcHeight=function(a){this.getSize(a);a=1+.5*this.pointer.height;var b=this.pointer.format.stroke;""!==b.fill&&(a+=b.size);return a};if(this.pointer.visible&&this.inflate){var c,a=0,e=0,d=this.count(),f={x:0,y:0};if(0<d){this.calc(0,
f);var k=c=f.y;for(var h=1;h<d;h++)this.calc(h,f),f.y<k?a=h:f.y>c&&(e=h);b.x=this.calcHeight(e);b.y=this.calcHeight(a)}}};Tee.Volume=function(b,c){Tee.Bar.call(this,b,c);this.barStyle="line";this.colorEach=this.marks.visible=!1;b=this.format;b.shadow.visible=!1;b.gradient.visible=!1;b.stroke.fill=""};Tee.Volume.prototype=new Tee.Bar;Tee.Candle=function(b,c){Tee.PointXY.call(this,b,c);var a=this.format;a.z=.5;a.depth=.1;this.pointer.width=7;this.pointer.format.stroke.visible=!1;var e=this.higher=this.pointer.format;
e.fill="green";var d=this.lower=new Tee.Format(this.chart);d.fill="red";d.stroke.visible=!1;this.style="candle";this.setChart=function(a,b){var c=Tee.PointXY.prototype.setChart;c(a,b);d.setChart(b)};this.draw=function(){var b=this.data,c=b.values.length,h,m=new g,l=this.pointer,p=.5*l.width,t=this.mandatoryAxis,n=this.chart.ctx;n.z=a.z+.5*a.depth;for(h=0;h<c;h++)if(!this.isNull(h)){this.calc(h,m);var w=m.x;var r=t.calc(b.open[h]);var x=t.calc(b.high[h]);var q=t.calc(b.low[h]);if(m.y>r){var u=r;var B=
m.y-r;var y=d}else u=m.y,B=r-u,y=e;"bar"==this.style?(n.beginPath(),n.moveTo(w,x),n.lineTo(w,q),n.moveTo(w-p,r),n.lineTo(w,r),n.moveTo(w,m.y),n.lineTo(w+p,m.y),y.stroke.prepare(y.fill),n.stroke()):(y.depth=p/100,y.z=a.z+.5*a.depth-.5*y.depth,r={x:w-p,y:u,width:l.width,height:B},"cylinder"===this.pointer.style?y.cylinder(r,1,!0):y.cube(r),y.draw(n,null,r),this.hover.enabled&&this.over==h&&this.hover.rectangle(w-p,u,l.width,B));"openclose"!=this.style&&(x<u||q>u+B)&&(n.z=a.z+.5*a.depth,n.beginPath(),
n.moveTo(w,u),n.lineTo(w,x),n.moveTo(w,u+B),n.lineTo(w,q),this.hover.enabled&&this.over==h?this.hover.stroke.prepare(y.fill):y.stroke.prepare(y.fill),n.stroke())}};this.minYValue=function(){return 0<this.data.low.length?L(this.data.low):0};this.maxYValue=function(){return 0<this.data.high.length?N(this.data.high):0};this.addRandom=function(a){var b=this.data;a||(a=10);b.values.length=a;b.close=b.values;b.open?b.open.length=a:b.open=Array(a);b.high?b.high.length=a:b.high=Array(a);b.low?b.low.length=
a:b.low=Array(a);if(0<a)for(var c=25+100*Math.random(),d,e=0;e<a;e++)d=b.open[e]=c,c=b.close[e]=c+25*Math.random()-12.5,b.high[e]=Math.max(d,c)+15*Math.random(),b.low[e]=Math.min(d,c)-15*Math.random()}};Tee.Candle.prototype=new Tee.PointXY;Tee.Candle.prototype.clicked=function(b){var c=this.pointer.width,a=this.mandatoryAxis,e=this.notmandatory,d=this.data,f=d.values.length,k=new n,h;k.width=c;for(h=0;h<f;h++)if(!this.isNull(h)){k.x=e.calc(h)-.5*c;var g=a.calc(d.open[h]);var l=a.calc(d.close[h]);
k.y=g>l?l:g;k.height=Math.abs(g-l);if(k.contains(b))return h}return-1};Tee.Candle.prototype.vertMargins=function(){};Tee.Polar=function(b,c){var a;function e(a,b,c){if(a.visible){var d=a.axisPos;a.axisPos=b;a.startPos=c-l;a.endPos=c+l;b=a.z;a.z=1-.5*a.chart.walls.back.size-.1;a.drawAxis();a.axisPos=d;a.z=b}}function d(b,c){var d=b.width,e=b.height;a=b.x+.5*d;g=b.y+.5*e;l=.5*Math.min(d,e);c.visible&&c.labels.visible&&(b=c.labels.format.textHeight("W"),l-=b)}Tee.CustomSeries.call(this,b,c);this.pointer.visible=
!0;this.rotation=0;this.useOrigin=this.continuous=this._paintWalls=this._paintAxes=!1;this.origin=0;this.clockwise=!0;var f={x:0,y:0},k,h=this.format;var g=a=0;var l,m=Math.PI/180;h.stroke.fill="black";h.z=.5;this.calc=function(b,c){var d=this.data,e=d.values[b],f=this.mandatoryAxis;b=d.x?d.x[b]:360*b/d.values.length;b=this.clockwise?m*(this.rotation+b):-(m*(this.rotation+b));e=(f.inverted?f.maximum-e:e-f.minimum)*l/(f.maximum-f.minimum);c.x=a+Math.cos(b)*e;c.y=g+Math.sin(b)*e};this.beforeDraw=function(){d(this.chart.chartRect,
this.notmandatory);var b=this.chart.walls;if(b.visible){var c=b.back;if(c.visible){var f=c.format;c=f.z;f.z=1;f.ellipse(a,g,2*l,2*l);f.z=c}}if(this.chart.axes.visible){f=this.notmandatory;var k=f.grid.format.stroke,h=this.mandatoryAxis,p,n=this.chart.ctx,v=f.rotation||0;if(f.visible&&f.labels.visible){var r={x:0,y:0,width:0,height:0},q=f.labels.format,u=q.textHeight("W"),y=l+.8*u;var B=Math.max(10,90/(l/u|0));c=q.z;q.z=.6;for(p=0;360>p;){var I=this.clockwise?m*(p+v):-(m*(p+v));r.x=a+Math.cos(I)*y;
r.y=g+Math.sin(I)*y-.5*u;q.drawText(r,""+p);p+=B}q.z=c}if(f.visible&&f.grid.visible){c=f.increment||10;n.z=1-.5*b.back.size-.1;n.beginPath();for(p=0;360>p;)I=m*(p+v),n.moveTo(a,g),n.lineTo(a+Math.cos(I)*l,g+Math.sin(I)*l),p+=c;k.prepare(k.fill,n);n.stroke()}if(h.visible&&h.grid.visible){p=h.roundMin();k=h.grid.format;I=2*l/(h.maximum-h.minimum);c=k.z;k.z=1-.5*b.back.size-.1;for(n.z=k.z;p<h.maximum;)b=(p-h.minimum)*I,k.ellipse(a,g,b,b),p+=h.increm;k.z=c}e(h,a,g);e(f,g,a)}};this.draw=function(){d(this.chart.chartRect,
this.notmandatory);var b=this.data.values.length,c;k=[];for(c=0;c<b;c++)this.isNull(c)||(this.calc(c,f),k.push({x:f.x,y:f.y}));b=k.length;if(0<b){if("bar"==this.style){var e=this.chart.ctx;e.beginPath();for(c=0;c<b;c++)e.moveTo(a,g),e.lineTo(k[c].x,k[c].y);this.format.stroke.prepare(this.format.fill,e);e.stroke()}else h.polygon(k);this.pointer.visible&&this.drawPointers()}};this.minYValue=function(){var a=Tee.Series.prototype.minYValue.call(this);return this.useOrigin?Math.min(a,this.origin):a};this.maxYValue=
function(){var a=this.stackMaxValue();return this.useOrigin?Math.max(a,this.origin):a}};Tee.Polar.prototype=new Tee.CustomSeries;"function"!==typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});Tee.PaletteSeries=function(b,c){Tee.Series.call(this,b,c);var a=this.palette;a.colors=Tee.RainbowPalette();var e,d;this._range=this._min=0;this.prepareColors=function(){var b=a.colors;d=b.length;e=Array(d);for(var c=0;c<d;c++){var h=b[c].trim();7==h.length?
e[c]={r:parseInt(h.substr(1,2),16),g:parseInt(h.substr(3,2),16),b:parseInt(h.substr(5,2),16),a:0}:"rgb("==h.substr(0,4)&&(h=h.slice(4,h.length-1).split(","),e[c]={r:h[0],g:h[1],b:h[2],a:h[3]||0})}};this.getColor=function(b){b=(b-this._min)/this._range*(d-1)|0;return e[a.inverted?d-1-b:b]};this.legendCount=function(){return this.palette.colors?this.palette.colors.length:0}};Tee.PaletteSeries.prototype=new Tee.Series;Tee.PaletteSeries.prototype.legendColor=function(b){var c=this.palette,a=c.colors,
e=c.inverted;this.chart.legend.inverted&&(e=!e);return c.grayScale?(b=255*b/a.length|0,e&&(b=255-b),"rgb("+b+","+b+","+b+")"):a?a[e?b:this.legendCount()-b-1]:this.format.fill};Tee.PaletteSeries.prototype.legendText=function(b){b=-1+this.legendCount()-b;return(this._min+b*this._range/(this.palette.colors.length-1)).toFixed(this.decimals)};Tee.DOMTip=function(){var b,c=8,a,e=!1,d,f,k,h,m,l,p,n,r=0,q,u,x,y,B,A="undefined"!==typeof document&&document.all?!0:!1,F;return{show:function(h,g,m,v,t){t&&(k=
t,t.findPoint||(c=0,e=!0));q||(d=document.createElement("style"),a=document.createElement("style"),l="",q=document.createElement("div"),b=document.createElement("div"),q.setAttribute("id","teetip1"),b.setAttribute("id","teetiparrow1"),q.className="teetip",b.className="teetiparrow",q.setAttribute("style",v),l=q.style.getPropertyValue("border-color"),p=q.style.getPropertyValue("background-color"),f=q.style.getPropertyValue("border-width"),n=q.style.getPropertyValue("border-radius"),n=n.substring(0,
n.length-2),0==f.length?f=0:(f=f.substring(0,f.length-2),f*=2),a.innerHTML=".teetiparrow{width:0;height:0;border: "+c+"px solid;position: absolute;content: '';border-color: "+l+" transparent transparent transparent;bottom: -"+2*c+"px;left: 25px;}",d.innerHTML=".teetiparrow:after{content: ' ';position: absolute;width: 0;height: 0;left: -"+(c-f/2)+"px;bottom: "+(f-(c-1))+"px; border: "+(c-f/2)+"px solid;border-color: "+p+" transparent transparent transparent;}",document.head.appendChild(a),document.head.appendChild(d),
document.body.appendChild(q),q.appendChild(b),u=q.style,u.opacity=0,A&&(u.filter="alpha(opacity=0)"));B=m;u.display="block";u.position="absolute";q.innerHTML=b.outerHTML+h;u.width=g?g+"px":"auto";!g&&A&&(u.width=q.offsetWidth);300<q.offsetWidth&&(u.width="300px");F=q.offsetWidth;x=parseInt(q.offsetHeight,10)+3;q.timer&&clearInterval(q.timer);q.timer=setInterval(function(){Tee.DOMTip.fade(1)},10);document.onmousemove=this.pos},pos:function(b){function v(a,b){var c=k.pointer;y=new Tee.Animation(k,function(d){1>
d&&(k.chart.draw(),t(a,c.secondCircleRadius*d,c.fill,c.secondCircleOpacity,b),t(a,c.firstCircleRadius*d,c.fill,c.firstCircleOpacity,b))});y.onstop=function(){k.chart.draw();t(a,c.secondCircleRadius,c.fill,c.secondCircleOpacity,b);t(a,c.firstCircleRadius,c.fill,c.firstCircleOpacity,b)};y.duration=c.animationDuration;y.animate()}function t(a,b,c,d,e){e.strokeStyle=c;e.fillStyle=c;e.globalAlpha=d;e.lineWidth=b;e.beginPath();e.ellipse(a.x,a.y,b/2,b/2,0,0,7,!1);e.stroke()}function r(){if(b.target.chart){b.target.chart.draw();
var a=new g,c=k.pointer;var d=J?Math.round(w.axes.left.fromPos(b.layerY)):Math.round(w.axes.bottom.fromSizeCalcIndex(b.clientX-w.canvas.getBoundingClientRect().left-w.axes.bottom.startPos));if(b.target==w.canvas)for(var e=0;e<w.series.items.length;e++){var f=J?Math.abs(w.series.items[e].data.values[d]-w.axes.bottom.fromPos(b.layerX)):Math.abs(w.series.items[e].data.values[d]-w.axes.left.fromPos(b.layerY));if(0==e){var l=f;w.series.items[e].calc(d,a);var p=w.series.items[e]}else f<l&&(w.series.items[e].calc(d,
a),l=f,p=w.series.items[e])}f=b.target.chart.ctx;m?-1!=d&&m!=p&&(m=p,c.animationVisible&&v(a,f)):m=p;-1!=d&&!h||-1==d?h=d:-1!=d&&h!=d&&(h=d,c.animationVisible&&v(a,f));t(a,c.secondCircleRadius,c.fill,c.secondCircleOpacity,f);t(a,c.firstCircleRadius,c.fill,c.firstCircleOpacity,f)}}if(k){k.findPoint?(c=8,e=!1):(c=0,e=!0);if(B)var w=B.chart,G=w.chartRect,J=w.axes.bottom.firstSeries?!w.axes.bottom.firstSeries.yMandatory:!1;if(w){w.draw();if(w.series.items[0]instanceof Tee.Pie||e||!B){var C=document.documentElement,
z=A?b.clientY+C.scrollTop:b.pageY;C=A?b.clientX+C.scrollLeft:b.pageX-F/2-10-c;a.innerHTML=".teetiparrow{width:0;height:0;border: "+c+"px solid;position: absolute;content: '';border-color: "+l+" "+l+" transparent transparent;bottom: -"+2*c+"px;left: "+(q.getBoundingClientRect().width-2*c-f/2)+"px;}";d.innerHTML=".teetiparrow:after{content: ' ';position: absolute;width: 0;height: 0;left: -"+(c-f/2)+"px;bottom: "+(f-(c-1))+"px; border: "+(c-f/2)+"px solid;border-color: "+p+" "+p+" transparent transparent;}"}else{z=
J?Math.round(w.axes.left.fromPos(b.layerY)):Math.round(w.axes.bottom.fromSizeCalcIndex(b.clientX-w.canvas.getBoundingClientRect().left-w.axes.bottom.startPos));var D=new g;if(b.target==w.canvas)for(var E=0;E<w.series.items.length;E++)if(C=J?Math.abs(w.series.items[E].data.values[z]-w.axes.bottom.fromPos(b.layerX)):Math.abs(w.series.items[E].data.values[z]-w.axes.left.fromPos(b.layerY)),0==E){var H=C;w.series.items[E].calc(z,D)}else C<H&&(w.series.items[E].calc(z,D),H=C);C=document.documentElement;
H=q.style.marginTop.substring(0,q.style.marginTop.length-2);E=q.style.marginLeft.substring(0,q.style.marginLeft.length-2);z=Math.round(D.y+window.scrollY+w.canvas.getBoundingClientRect().top-q.getBoundingClientRect().height-c-H+f/2);C=Math.round(D.x+window.scrollX+w.canvas.getBoundingClientRect().left-q.getBoundingClientRect().width/2-E-f/2);C+F/2-G.x>G.width?(z=Math.round(D.y+window.scrollY+w.canvas.getBoundingClientRect().top-q.getBoundingClientRect().height-2*c-H+f/2),C=Math.round(D.x+window.scrollX+
w.canvas.getBoundingClientRect().left-q.getBoundingClientRect().width-E),u.borderRadius=n+"px "+n+"px 0px "+n+"px",a.innerHTML=".teetiparrow{width:0;height:0;border: "+c+"px solid;position: absolute;content: '';border-color: "+l+" "+l+" transparent transparent;bottom: -"+2*c+"px;left: "+(q.getBoundingClientRect().width-2*c-f/2)+"px;}",d.innerHTML=".teetiparrow:after{content: ' ';position: absolute;width: 0;height: 0;left: -"+(c-f/2)+"px;bottom: "+(f-(c-1))+"px; border: "+(c-f/2)+"px solid;border-color: "+
p+" "+p+" transparent transparent;}"):C-F/2<G.x?(C=Math.round(D.x+window.scrollX+w.canvas.getBoundingClientRect().left-E),z=Math.round(D.y+window.scrollY+w.canvas.getBoundingClientRect().top-q.getBoundingClientRect().height-2*c-H+f/2),u.borderRadius=n+"px "+n+"px "+n+"px 0px",a.innerHTML=".teetiparrow{width:0;height:0;border: "+c+"px solid;position: absolute;content: '';border-color: "+l+" transparent transparent "+l+";bottom: -"+2*c+"px;left: "+-(f/2)+"px;}",d.innerHTML=".teetiparrow:after{content: ' ';position: absolute;width: 0;height: 0;left: -"+
(c-f/2)+"px;bottom: "+(f-(c-1))+"px; border: "+(c-f/2)+"px solid;border-color: "+p+" transparent transparent "+p+";}"):C&&(u.borderRadius=n+"px "+n+"px "+n+"px "+n+"px",a.innerHTML=".teetiparrow{width:0;height:0;border: "+c+"px solid;position: absolute;content: '';border-color: "+l+" transparent transparent transparent;bottom: -"+2*c+"px;left: "+(q.getBoundingClientRect().width/2-c)+"px;}",d.innerHTML=".teetiparrow:after{content: ' ';position: absolute;width: 0;height: 0;left: -"+(c-f/2)+"px;bottom: "+
(f-(c-1))+"px; border: "+(c-f/2)+"px solid;border-color: "+p+" transparent transparent transparent;}")}k&&k.pointer.visible&&(r(),z-=k.pointer.secondCircleRadius>k.pointer.firstCircleRadius?k.pointer.secondCircleRadius:k.pointer.firstCircleRadius)}else C=document.documentElement,z=A?b.clientY+C.scrollTop:b.pageY,C=A?b.clientX+C.scrollLeft:b.pageX-F/2-10-c}else c=0,e=!0,C=document.documentElement,z=A?b.clientY+C.scrollTop:b.pageY,C=A?b.clientX+C.scrollLeft:b.pageX-F/2-10-c,a.innerHTML=".teetiparrow{width:0;height:0;border: "+
c+"px solid;position: absolute;content: '';border-color: "+l+" "+l+" transparent transparent;bottom: -"+2*c+"px;left: "+(q.getBoundingClientRect().width-2*c-f/2)+"px;}",d.innerHTML=".teetiparrow:after{content: ' ';position: absolute;width: 0;height: 0;left: -"+(c-f/2)+"px;bottom: "+(f-(c-1))+"px; border: "+(c-f/2)+"px solid;border-color: "+p+" "+p+" transparent transparent;}";0>z-x&&(z=x);0>C&&(C=0);if(B){G=B.offsetLeft;for(D=B;null!=D.offsetParent;)G+=D.offsetLeft,D=D.offsetParent;C>G+B.clientWidth-
q.offsetWidth-25&&(C=G+B.clientWidth-q.offsetWidth-25)}e?(u.top=z-x+"px",u.left=C+3+"px"):(u.top=z+"px",u.left=C+"px")},fade:function(a){var b=r;if(97!==b&&1===a||0!==b&&-1===a){var c=10;10>97-b&&1==a?c=97-b:10>r&&-1==a&&(c=b);r=b+c*a;u.opacity=.01*r;A&&(u.filter="alpha(opacity="+r+")")}else clearInterval(q.timer),-1==a&&(u.display="none",document.onmousemove=null)},hide:function(){q&&(clearInterval(q.timer),q.timer=setInterval(function(){Tee.DOMTip.fade(-1)},10),B&&B.chart&&B.chart.draw())}}}();
Tee.Chart.prototype.drawReflection=function(){var b=this.ctx,c=this.bounds.height;b.scale(1,-1);b.translate(0,2*-c);this.ondraw=null;this.draw();b.translate(0,2*c);b.scale(1,-1);var a=this.canvas.height-c,e=b.createLinearGradient(0,c,0,c+a),d=this.reflectionColor;e.addColorStop(0,ba(d,.5));e.addColorStop(1,ba(d,1));b.fillStyle=e;b.beginPath();b.shadowColor="transparent";b.rect(0,c,this.bounds.width,a);b.fill();this.ondraw=this.drawReflection};Tee.drawSpline=function(b,c,a,e,d){function f(a,b,c,d,
e,f,k){function h(a){return a*a}var g=Math.sqrt(h(c-a)+h(d-b));g=k*g/(g+Math.sqrt(h(e-c)+h(f-d)));k-=g;return[c+g*(a-e),d+g*(b-f),c-k*(a-e),d-k*(b-f)]}var k=[],h=c.length;if(d){e&&b.moveTo(c[0],c[1]);c.push(c[0],c[1],c[2],c[3]);c.unshift(c[h-1]);c.unshift(c[h-1]);for(d=0;d<h;d+=2)k=k.concat(f(c[d],c[d+1],c[d+2],c[d+3],c[d+4],c[d+5],a));k=k.concat(k[0],k[1]);for(d=2;d<h+2;d+=2)b.bezierCurveTo(k[2*d-2],k[2*d-1],k[2*d],k[2*d+1],c[d+2],c[d+3])}else{for(d=0;d<h-4;d+=2)k=k.concat(f(c[d],c[d+1],c[d+2],c[d+
3],c[d+4],c[d+5],a));e&&b.moveTo(c[0],c[1]);b.quadraticCurveTo(k[0],k[1],c[2],c[3]);for(d=2;d<h-5;d+=2)b.bezierCurveTo(k[2*d-2],k[2*d-1],k[2*d],k[2*d+1],c[d+2],c[d+3]);b.quadraticCurveTo(k[2*h-10],k[2*h-9],c[h-2],c[h-1])}};Tee.Chart.prototype.applyTheme=function(b){if(!b||""==b)this.applyTheme("default");else if("default"==b){this.title.format.font.style="18px Verdana";this.walls.visible=!0;this.panel.format.shadow.visible=!1;this.panel.format.round.x=8;this.panel.format.round.y=8;this.panel.format.gradient.visible=
!0;this.panel.format.gradient.colors=["rgba(224,224,224,1.0)","white"];this.panel.format.gradient.direction="diagonalup";this.panel.format.stroke.fill="rgba(204,204,204,1.0)";this.panel.format.stroke.size=1;U(this,"opera");if(0<this.series.items.length)for(var c=0;c<this.series.items.length;c++)this.series.items[c].format.fill=this.palette.get(c),null!=this.series.items[c].pointer&&(this.series.items[c].pointer.format.fill=this.palette.get(c),this.series.items[c].pointer.format.stroke.fill="white");
this.axes.left.labels.format.font.setSize(11);this.axes.bottom.labels.format.font.setSize(11);this.axes.left.format.stroke.fill="rgba(39,79,105,0.8)";this.axes.bottom.format.stroke.fill="rgba(39,79,105,0.8)";this.axes.left.labels.format.font.fill="rgba(0,0,0,1)";this.axes.bottom.labels.format.font.fill="rgba(0,0,0,1)";this.axes.left.title.format.font.fill="rgba(0,0,0,1)";this.axes.left.title.format.font.setSize(20);this.axes.bottom.title.format.font.fill="rgba(0,0,0,1)";this.axes.bottom.title.format.font.setSize(20);
this.axes.left.grid.visible=!0;this.axes.bottom.grid.visible=!1;this.axes.left.grid.format.stroke.size=.6;this.axes.bottom.grid.format.stroke.size=.6;this.axes.left.grid.format.stroke.fill="silver";this.axes.bottom.grid.format.stroke.fill="silver";this.axes.left.grid.visible=!0;this.axes.top.grid.visible=!0;this.axes.right.grid.visible=!0;this.axes.bottom.grid.visible=!0;0<this.axes.items.length&&B(this,"rgba(0,0,0,1)","rgba(39,79,105,0.8)");this.legend.transparent=!1;this.legend.format.fill="white";
this.legend.format.font.setSize(11);this.legend.format.font.fill="rgba(0,0,0,1)";this.legend.fontColor=!1;this.title.format.font.fill="rgba(0,0,0,1)";this.walls.visible=!1}else if("minimal"==b)E(this);else if("excel"==b){if(E(this),U(this,"excel"),this.axes.left.grid.format.stroke.fill="rgba(0,0,0,0.9)",this.axes.bottom.grid.format.stroke.fill="rgba(0,0,0,0.9)",0<this.series.items.length)for(c=0;c<this.series.items.length;c++)this.series.items[c].format.fill=this.palette.get(c),null!=this.series.items[c].pointer&&
(this.series.items[c].pointer.format.fill=this.palette.get(c),this.series.items[c].pointer.format.stroke.fill="white")}else if("dark"==b){U(this,"onBlack");this.title.transparent=!0;this.legend.transparent=!0;this.footer.transparent=!0;this.panel.format.shadow.visible=!1;this.panel.format.stroke.fill="";this.panel.format.round.x=0;this.panel.format.round.y=0;this.panel.format.gradient.colors=["rgba(0,0,0,1)","rgba(0,0,0,1)"];this.panel.format.gradient.visible=!0;if(0<this.series.items.length)for(c=
0;c<this.series.items.length;c++)this.series.items[c].format.fill=this.palette.get(c),null!=this.series.items[c].pointer&&(this.series.items[c].pointer.format.fill=this.palette.get(c),this.series.items[c].pointer.format.stroke.fill="rgba(82,82,82,1)");this.axes.left.format.stroke.fill="rgba(224,224,224,0.6)";this.axes.bottom.format.stroke.fill="rgba(224,224,224,0.6)";this.axes.left.labels.format.font.setSize(14);this.axes.bottom.labels.format.font.setSize(14);this.axes.left.labels.format.font.fill=
"rgba(224,224,224,0.6)";this.axes.bottom.labels.format.font.fill="rgba(224,224,224,0.6)";this.axes.left.title.format.font.fill="rgba(224,224,224,0.6)";this.axes.left.title.format.font.setSize(20);this.axes.bottom.title.format.font.fill="rgba(224,224,224,0.6)";this.axes.bottom.title.format.font.setSize(20);this.axes.bottom.grid.visible=!1;this.axes.left.grid.visible=!0;this.axes.left.grid.format.stroke.fill="silver";this.axes.bottom.grid.format.stroke.fill="silver";0<this.axes.items.length&&B(this,
"rgba(224,224,224,0.6)","rgba(39,79,105,0.8)");this.walls.visible=!1;this.legend.transparent=!0;this.legend.format.font.setSize(14);this.legend.format.font.fill="rgba(224,224,224,0.6)";this.title.format.shadow.visible=!1;this.title.format.font.style="18px Arial";this.title.format.font.style="bold 18px Arial";this.title.format.font.fill="rgba(224,224,224,0.6)";this.title.format.font.shadow.visible=!1}else if("twilight"==b){this.title.format.font.style="18px Verdana";this.walls.visible=!0;this.panel.format.shadow.visible=
!1;this.panel.format.round.x=8;this.panel.format.round.y=8;this.panel.format.gradient.visible=!0;this.panel.format.gradient.colors=["rgba(99,99,99,1.0)","rgba(19,19,19,1.0)"];this.panel.format.gradient.direction="topbottom";this.panel.format.stroke.fill="rgba(204,204,204,1.0)";this.panel.format.stroke.size=1;U(this,"redRiver");if(0<this.series.items.length)for(c=0;c<this.series.items.length;c++)this.series.items[c].format.fill=this.palette.get(c),null!=this.series.items[c].pointer&&(this.series.items[c].pointer.format.fill=
this.palette.get(c),this.series.items[c].pointer.format.stroke.fill="rgba(82,82,82,1)");this.axes.left.format.stroke.fill="rgba(224,224,224,0.6)";this.axes.bottom.format.stroke.fill="rgba(224,224,224,0.6)";this.axes.left.labels.format.font.setSize(11);this.axes.bottom.labels.format.font.setSize(11);this.axes.left.labels.format.font.fill="rgba(224,224,224,0.6)";this.axes.bottom.labels.format.font.fill="rgba(224,224,224,0.6)";this.axes.left.title.format.font.fill="rgba(224,224,224,0.6)";this.axes.left.title.format.font.setSize(20);
this.axes.bottom.title.format.font.fill="rgba(224,224,224,0.6)";this.axes.bottom.title.format.font.setSize(20);this.axes.bottom.grid.visible=!1;this.axes.left.grid.visible=!0;this.axes.left.grid.format.stroke.fill="silver";this.axes.bottom.grid.format.stroke.fill="silver";0<this.axes.items.length&&B(this,"rgba(224,224,224,0.6)","rgba(39,79,105,0.8)");this.legend.transparent=!0;this.legend.format.font.setSize(14);this.legend.format.font.fill="rgba(224,224,224,0.6)";this.legend.format.fill="rgba(0,0,0,0.1)";
this.title.format.shadow.visible=!1;this.title.format.font.style="18px Arial";this.title.format.font.style="bold 18px Arial";this.title.format.font.fill="rgba(224,224,224,0.6)";this.title.format.font.shadow.visible=!1;this.walls.visible=!1}else if("daybreak"==b){this.title.format.font.style="18px Verdana";this.walls.visible=!0;this.panel.format.shadow.visible=!1;this.panel.format.round.x=8;this.panel.format.round.y=8;this.panel.format.gradient.visible=!0;this.panel.format.gradient.colors=["rgba(201,204,242,1.0)",
"rgba(255,252,255,1.0)","rgba(21,21,23,1.0)"];this.panel.format.gradient.direction="topbottom";this.panel.format.stroke.fill="rgba(204,204,204,1.0)";this.panel.format.stroke.size=1;U(this,"redRiver");if(0<this.series.items.length)for(c=0;c<this.series.items.length;c++)this.series.items[c].format.fill=this.palette.get(c),null!=this.series.items[c].pointer&&(this.series.items[c].pointer.format.fill=this.palette.get(c),this.series.items[c].pointer.format.stroke.fill="rgba(82,82,82,1)");for(c=0;c<this.axes.items.length;c++){var a=
this.axes.items[c];a.format.stroke.fill="rgba(14,14,54,0.6)";a.labels.format.font.setSize(11);a.labels.format.font.fill="rgba(224,224,224,0.6)";a.title.format.font.setSize(20);a.title.format.font.fill="rgba(224,224,224,0.6)";a.grid.visible=3>c;a.grid.format.stroke.fill="silver"}this.legend.transparent=!0;this.legend.format.font.setSize(14);this.legend.format.font.fill="silver";this.title.format.shadow.visible=!1;this.title.format.font.style="18px Arial";this.title.format.font.style="bold 18px Arial";
this.title.format.font.fill="rgba(14,14,54,0.6)";this.title.format.font.shadow.visible=!1;this.walls.visible=!1}this.themeName=b;this.draw()};Tee.Chart.prototype.applyPalette=function(b){U(this,b)};Tee.doHttpRequest=function(b,c,a,e){var d=ca();d&&(d.onreadystatechange=function(){4==d.readyState&&(200===d.status||0===d.status?a(b,d.responseText):e&&e(d.status,d.statusText))},d.open("GET",c,!0),d.send(null))};Tee.Slider=function(b,c){function a(a,b){return b.x>=a.x&&b.x<=a.x+a.width&&b.y>=a.y&&b.y<=
a.y+a.height}Tee.Tool.call(this,b);var e=!1,d=this.thumb=new Tee.Format(b);d.round={x:4,y:4};d.stroke.size=.5;d.gradient.visible=!1;d.gradient.direction="leftright";d.shadow.visible=!1;d=this.back=new Tee.Format(b);d.fill="white";d.gradient.visible=!1;d.stroke.fill="darkgrey";d.round={x:4,y:4};b=this.grip=new Tee.Format(b);b.round={x:4,y:4};b.stroke.fill="rgb(20,20,20,1.0)";this.gripSize=3;var f=this.bounds={x:10,y:10,width:200,height:20};this.transparent=!1;this.margin=16;this.min=0;this.max=100;
this.position="undefined"==typeof c?50:c;this.useRange=!1;this.thumbSize=8;this.horizontal=!0;this.cursor="pointer";this.delta=0;this.thumbRect=function(a){var b=this.max-this.min;b=0<b?(this.position-this.min)/b:0;this.horizontal?(a.width=this.thumbSize,a.x=f.x+b*f.width-.5*a.width,a.y=f.y,a.height=f.height):(a.height=this.thumbSize,a.y=f.y+b*f.height-.5*a.height,a.x=f.x,a.width=f.width)};var k={};this.gripRect=function(a){if(this.horizontal){var b=.2*a.height;return{x:a.x-this.gripSize,y:a.y+.5*
a.height-b,width:2*this.gripSize,height:2*b}}b=.2*a.width;return{x:a.x+.5*a.width-b,y:a.y-this.gripSize,width:2*b,height:2*this.gripSize}};this.draw=function(){var a=this.horizontal?f.height:f.width,b=a*this.margin*.01;this.transparent||(this.horizontal?this.back.rectangle(f.x,f.y+b,f.width,a-2*b):this.back.rectangle(f.x+b,f.y,a-2*b,f.height));if(this.onDrawThumb)this.onDrawThumb(this);this.thumbRect(k);this.invertThumb?(a=this.thumb,this.horizontal?(a.rectangle(f.x,f.y+b,k.x,f.height-2*b),a.rectangle(f.x+
k.x+k.width,f.y+b,f.width,f.height-2*b)):(a.rectangle(f.x+b,f.y,f.width-2*b,k.y),a.rectangle(f.x+b,f.y+k.y+k.height,f.width-2*b,f.height))):this.thumb.rectangle(k);this.useRange&&this.horizontal&&(b=this.gripRect(k),this.grip.rectangle(b),b.x+=k.width,this.grip.rectangle(b))};this.clickAt=function(a){a=this.min+Math.max(0,(a+this.delta-(this.horizontal?f.x:f.y))*(this.max-this.min)/(this.horizontal?f.width:f.height));a>this.max&&(a=this.max);if(this.onChanging){var b=this.onChanging(this,a);"undefined"!==
typeof b&&(a=b)}a<this.min?a=this.min:a>this.max&&(a=this.max);this.chart.newCursor=this.cursor;this.position!=a&&(this.position=a,this.chart.draw())};this.resized=function(){if(this.onChanging)this.onChanging(this,this.position);this.chart.draw();this.chart.newCursor="col-resize"};this.chart.canvas.addEventListener("touchstart",function(a){e=!0;a.preventDefault()});this.chart.canvas.addEventListener("touchend",function(a){e=!1;a.preventDefault()});this.mousemove=function(b){var c=this.horizontal?
f.width:f.height,d=this.horizontal?b.x:b.y,h=this.max-this.min;this.thumbRect(k);this.resizeBegin&&d<k.x+k.width?(b=this.thumbSize,d=k.x-d,this.thumbSize+=d,this.position-=d*h/c*.5,this.position<this.min&&(this.position=this.min,this.thumbSize=b),this.resized()):this.resizeEnd&&d>k.x?(b=k.x+k.width-d,this.thumbSize-=b,this.position-=b*h/c*.5,this.resized()):this.dragging||e?this.clickAt(d):(c=!1,this.useRange&&(h=this.gripRect(k),c=a(h,b),c||(h.x+=k.width,c=a(h,b))),c?this.chart.newCursor="col-resize":
a(k,b)&&(this.chart.newCursor=this.cursor))};var h={x:0,y:0};this.mousedown=function(b){this.thumbRect(k);this.chart.calcMouse(b,h);b=this.gripRect(k);this.resizeBegin=this.useRange&&a(b,h);b.x+=k.width;this.resizeEnd=this.useRange&&!this.resizeBegin&&a(b,h);this.dragging=!this.resizeBegin&&!this.resizeEnd&&a(k,h);this.resizeBegin||this.resizeEnd||(this.dragging?this.delta=this.horizontal?k.x+.5*k.width-h.x:k.y+.5*k.height-h.y:a(f,h)&&(b=this.horizontal?.5*k.width:.5*k.height,this.delta=-b,this.clickAt(b+
(this.horizontal?h.x:h.y))));return this.dragging||this.resizeBegin||this.resizeEnd};this.clicked=function(){var a=this.dragging||this.resizeBegin||this.resizeEnd;this.resizeBegin=this.resizeEnd=this.dragging=!1;this.delta=0;return a};this.mouseout=function(){this.resizeBegin=this.resizeEnd=this.dragging=!1}};Tee.Slider.prototype=new Tee.Tool;Tee.Scroller=function(b,c){Tee.Chart.call(this,b);this.target=c;this.aspect.clip=!1;this.panel.transparent=!0;this.title.visible=!1;var a=this.scroller=new Tee.Slider(this);
a.useRange=!0;a.thumbSize=100;b=a.thumb;b.shadow.height=0;b.transparency=.6;b.stroke.fill="black";b.shadow.visible=!1;a.horizontal=!0;var e=a.bounds;e.x=0;e.y=0;e.width=this.bounds.width;e.height=this.bounds.height;a.margin=0;a.lock=!1;this.tools.add(a);var d=this;c.ondraw=function(){a.lock||d.draw()};c.onscroll=function(){var a=this.axes.bottom,b=this.series,c=b.minXValue();b=b.maxXValue();var d=a.maximum-a.minimum;a.minimum<c&&(a.minimum=c,a.maximum=a.minimum+d);a.maximum>b&&(a.maximum=b,a.minimum=
a.maximum-d)};this.useRange=function(b){a.useRange=b;this.draw()};this.invertThumb=function(b){a.invertThumb=b;this.draw()};a.onChanging=function(a,b){a=a.thumbSize*(a.max-a.min)/a.bounds.width*.5;var e=c.series,f=e.minXValue();e=e.maxXValue();b-a<f?b=f+a:b+a>e&&(b=e-a);c.axes.bottom.setMinMax(b-a,b+a);this.lock=!0;c.draw();this.lock=!1;if(d.onChanging)d.onChanging(d,b-a,b+a);return b};this.setBounds=function(a,b,c,d){this.bounds.x=a;this.bounds.y=b;this.bounds.width=c;this.bounds.height=d;e.x=a;
e.y=b;e.width=c;e.height=d};a.onDrawThumb=function(b){function e(a,b){var c={mi:a.minimum,ma:a.maximum,sp:a.startPos,ep:a.endPos};f(a,b);return c}function f(a,b){a.minimum=b.mi;a.maximum=b.ma;a.startPos=b.sp;a.endPos=b.ep;a.scale=(b.ep-b.sp)/(b.ma-b.mi)}var g=c.chartRect,l=c.ctx,m=new Tee.Rectangle(a.bounds.x,a.bounds.y,a.bounds.width,a.bounds.height);c.chartRect=m;c.ctx=a.chart.ctx;var n=a.bounds,q=c.series;b.min=q.minXValue();b.max=q.maxXValue();m=e(c.axes.bottom,{sp:n.x,ep:n.x+n.width,mi:b.min,
ma:b.max});n=e(c.axes.left,{sp:n.y,ep:n.y+n.height,mi:q.minYValue(),ma:q.maxYValue()});q=.5*(m.mi+m.ma);var r=m.ma-m.mi;b.thumbSize=r*b.bounds.width/(b.max-b.min);r*=.5;if(d.onChanging)d.onChanging(d,q-r,q+r);b.position=q;c.series.each(function(a){if(a.visible&&a.useAxes)if(void 0!=a.pointer){var b=a.pointer.visible;a.pointer.visible=!1;a.draw();a.pointer.visible=b}else a.draw()});f(c.axes.bottom,m);f(c.axes.left,n);c.chartRect=g;c.ctx=l}};Tee.Scroller.prototype=new Tee.Chart;Tee.SliderControl=function(b){b=
new Tee.Chart(b);b.panel.transparent=!0;b.title.visible=!1;var c=new Tee.Slider(b);c.bounds.x=c.thumbSize+1;c.bounds.width=b.canvas.width-2*c.thumbSize-2;c.bounds.y=.5*(b.canvas.height-c.bounds.height);b.tools.add(c);return c};Tee.CheckBox=function(b,c,a){Tee.Annotation.call(this,b);this.transparent=!0;this.text=c;this.checked=a||!0;this.margins.left=10;this.cursor="pointer";this.check=new Tee.Format(b);this.check.fill="white";this.draw=function(){Tee.Annotation.prototype.draw.call(this);var a=this.chart.ctx,
b=this.position.x+2,c=.6*this.bounds.height,g=this.position.y+.4*(this.bounds.height-c);this.check.rectangle(b,g,c,c);this.checked&&(a.beginPath(),a.moveTo(b+3,g+5),a.lineTo(b+4,g+8),a.lineTo(b+7,g+2),this.check.stroke.prepare(),a.stroke())};this.chart.canvas.addEventListener("touchstart",function(){});this.onclick=function(){this.checked=!this.checked;if(this.onchange)this.onchange(this);return!0}};Tee.CheckBox.prototype=new Tee.Annotation;"undefined"!==typeof exports&&(exports.Tee=Tee);Tee.FadeAnimation=
function(b){Tee.Animation.call(this,b);this.kind="in";var c=this,a;this.fade={};this.setTransp=function(b){"out"==c.kind&&(b=1-b);a.legend&&(c.chart.legend.format.transparency=b);a.walls&&(c.chart.walls.transparency=b);a.series&&c.chart.series.each(function(a){a.format.transparency=b});a.marks&&c.chart.series.each(function(a){a.marks.transparency=b});a.title&&(c.chart.title.format.transparency=b);a.axes&&(c.chart.axes.transparency=b);a.panel&&(c.chart.panel.format.transparency=b)};this.start=function(){a=
this.fade;this.setTransp(1)};this.stop=function(){this.setTransp(0)};this.doStep=function(a){c.setTransp(1-a)}};Tee.FadeAnimation.prototype=new Tee.Animation;Tee.SeriesAnimation=function(b){function c(a,b,c){b.automatic=!1;var d=.5*(a.oldmin+a.oldmax);a=.5*(a.oldmax-a.oldmin);b.maximum=d+c*a;b.minimum=d-c*a}Tee.Animation.call(this,b);b instanceof Tee.Series?(this.series=b,this.chart=b.chart):this.series=null;this.oldmax=this.oldmin=0;this.oldauto=!0;var a=1,e=this;this.kind="axis";this.getAxis=function(){var a=
this.series||this.chart.series.firstVisible();return a?a.mandatoryAxis:null};this.getOtherAxis=function(){var a=this.series||this.chart.series.firstVisible();if(a)if(a.yMandatory){if("both"===a.vertAxis)return this.chart.axes.right}else{if("both"===a.horizAxis)return this.chart.axes.top}else return null};this.doStep=function(b){var d=e.getAxis(),g=e.getOtherAxis();d&&(d.automatic=!1);g&&(g.automatic=!1);"axis"==e.kind?(c(e,d,1+100*(1-b)),g&&c(e,g,1+100*(1-b))):e.chart.series.each(function(c){if(!e.series||
e.series===c){var d=c.data.values,f=c.data._old,g=d.length;if(c instanceof Tee.ActivityGauge)c.maxDrawWidth=c.maxWidth*b;else if(c instanceof Tee.Pie)c.rotation=360*(1-b),a=b;else if("each"==e.kind){var k=g*b|0;for(c=0;c<k;c++)d[c]=f[c];k<g&&(d[k]=f[k]*(g*b-k))}else if("all"==e.kind)for(c=0;c<g;c++)d[c]=f[c]*b;else"axis"!=e.kind&&(a=b)}})};this.stop=function(){this.doStep(1);var a=e.getAxis(),b=e.getOtherAxis();a&&(a.maximum=e.oldmax,a.minimum=e.oldmin,a.automatic=e.oldauto);b&&(b.maximum=e.oldmax,
b.minimum=e.oldmin,b.automatic=e.oldauto);e.chart.series.each(function(a){a.transform&&(a.transform=null);"each"!=e.kind&&"all"!=e.kind||!a.data._old||(a.data.values=a.data._old,a.data._old=null)})};this.start=function(){var b=this.getAxis(),e=this.getOtherAxis(),g=this.chart,h=g.series.items,m=g.chartRect.width,l=g.chartRect.height,p=g.bounds.width,n=g.bounds.height;if(0===h.length)return!1;this.oldmin=b.minimum;this.oldmax=b.maximum;this.oldauto=b.automatic;for(g=0;g<h.length;g++){var q=h[g];if(!this.series||
this.series===q)if(q instanceof Tee.Pie)q.transform=function(){this.chart.ctx.scale(a,a)};else if("each"==this.kind||"all"==this.kind){var r=q.data.values,u=r.length;q.data._old=r.slice(0);for(q=0;q<u;q++)r[q]=0;b.automatic=!1;e&&(e.automatic=!1)}else"left"==this.kind?q.transform=function(){this.chart.ctx.translate(-m*(1-a),0)}:"right"==this.kind?q.transform=function(){this.chart.ctx.translate(m*(1-a),0)}:"x"==this.kind?q.transform=function(){this.chart.ctx.scale(a,1)}:"y"==this.kind?q.transform=
function(){this.chart.ctx.scale(1,a)}:"top"==this.kind?q.transform=function(){this.chart.ctx.translate(0,-l*(1-a))}:"bottom"==this.kind?q.transform=function(){this.chart.ctx.translate(0,l*(1-a))}:"zoomin"==this.kind?q.transform=function(){var b=this.chart.ctx;b.translate(.5*p,.5*n);b.scale(a,a);b.translate(.5*-p,.5*-n)}:"zoomout"==this.kind&&(q.transform=function(){var b=this.chart.ctx;b.translate(.5*p,.5*n);b.scale(2-a,2-a);b.translate(.5*-p,.5*-n)})}"axis"==this.kind&&(c(this,b,100),e&&c(this,e,
100))}};Tee.SeriesAnimation.prototype=new Tee.Animation;Tee.MarksAnimation=function(b){function c(a,b,c){return b<=e.current?c:""}Tee.Animation.call(this,b);b&&b instanceof Tee.Series?(this.series=b,this.chart=b.chart):this.series=null;this.current=-1;var a=this.series.marks,e=this,d;this.start=function(){d=a.ongettext;a.ongettext=c};this.stop=function(){a.ongettext=d;this.current=-1};this.doStep=function(a){e.current=e.series.data.values.length*a|0}};Tee.MarksAnimation.prototype=new Tee.Animation}).call(this);
function doubleTap(g){var m,n=0;g.canvas.addEventListener("touchend",function(q){var r=(new Date).getTime(),u=r-n;clearTimeout(m);600>u&&100<u?(g.zoom.reset(),g.draw()):m=setTimeout(function(){clearTimeout(m)},600);n=r;q.preventDefault()})}
function twoFingersZoom(g,m){var n=g.canvas,q=0,r=0,u=0,A=0,V=0,F=0,D=0,X=0,aa=0,Y=0,Q=0,Z=0,M=[],y,T,R,S,O,N,L,P;var W=!1;var ba=setInterval(function(){if(1<M.length){var n=M[0];var E=M[1];m.touching=!0;W?(y=n.pageX,R=E.pageX,T=n.pageY,S=E.pageY,y>R&&(n=y,y=R,R=n),T>S&&(n=T,T=S,S=n),V=y-O,D=T-N,F=R-L,X=S-P,r=aa-V,A=Q-D,q=Y-F,u=Z-X,aa=V,Q=D,Y=F,Z=X):(O=n.pageX,L=E.pageX,N=n.pageY,P=E.pageY,O>L&&(n=O,O=L,L=n),N>P&&(n=N,N=P,P=n),W=!0);if("both"==m.direction||"horizontal"==m.direction)n=g.axes.bottom.startPos+
r,E=g.axes.bottom.endPos+q,g.axes.top.calcMinMax(n,E),g.axes.bottom.calcMinMax(n,E),g.draw();if("both"==m.direction||"vertical"==m.direction)n=g.axes.left.startPos+A,E=g.axes.left.endPos+u,g.axes.right.calcMinMax(n,E),g.axes.left.calcMinMax(n,E),g.draw()}},100);n.addEventListener("touchend",function(){W&&(W=!1);clearInterval(ba)});n.addEventListener("touchmove",function(g){g.preventDefault();M=g.touches})};
